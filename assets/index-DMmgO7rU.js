(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var k0={exports:{}},Al={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var S0;function fC(){if(S0)return Al;S0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var x0;function pC(){return x0||(x0=1,k0.exports=fC()),k0.exports}var v=pC(),C0={exports:{}},Te={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var E0;function mC(){if(E0)return Te;E0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),x=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,K={};function z(O,ne,le){this.props=O,this.context=ne,this.refs=K,this.updater=le||P}z.prototype.isReactComponent={},z.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function G(){}G.prototype=z.prototype;function F(O,ne,le){this.props=O,this.context=ne,this.refs=K,this.updater=le||P}var ae=F.prototype=new G;ae.constructor=F,D(ae,z.prototype),ae.isPureReactComponent=!0;var re=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},ke=Object.prototype.hasOwnProperty;function j(O,ne,le,ie,ge,Ne){return le=Ne.ref,{$$typeof:r,type:O,key:ne,ref:le!==void 0?le:null,props:Ne}}function T(O,ne){return j(O.type,ne,void 0,void 0,void 0,O.props)}function _(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function M(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return ne[le]})}var I=/\/+/g;function A(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):ne.toString(36)}function N(){}function Je(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function We(O,ne,le,ie,ge){var Ne=typeof O;(Ne==="undefined"||Ne==="boolean")&&(O=null);var xe=!1;if(O===null)xe=!0;else switch(Ne){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(O.$$typeof){case r:case e:xe=!0;break;case k:return xe=O._init,We(xe(O._payload),ne,le,ie,ge)}}if(xe)return ge=ge(O),xe=ie===""?"."+A(O,0):ie,re(ge)?(le="",xe!=null&&(le=xe.replace(I,"$&/")+"/"),We(ge,ne,le,"",function(Xn){return Xn})):ge!=null&&(_(ge)&&(ge=T(ge,le+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(I,"$&/")+"/")+xe)),ne.push(ge)),1;xe=0;var _t=ie===""?".":ie+":";if(re(O))for(var et=0;et<O.length;et++)ie=O[et],Ne=_t+A(ie,et),xe+=We(ie,ne,le,Ne,ge);else if(et=E(O),typeof et=="function")for(O=et.call(O),et=0;!(ie=O.next()).done;)ie=ie.value,Ne=_t+A(ie,et++),xe+=We(ie,ne,le,Ne,ge);else if(Ne==="object"){if(typeof O.then=="function")return We(Je(O),ne,le,ie,ge);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Y(O,ne,le){if(O==null)return O;var ie=[],ge=0;return We(O,ie,"","",function(Ne){return ne.call(le,Ne,ge++)}),ie}function oe(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Fe(){}return Te.Children={map:Y,forEach:function(O,ne,le){Y(O,function(){ne.apply(this,arguments)},le)},count:function(O){var ne=0;return Y(O,function(){ne++}),ne},toArray:function(O){return Y(O,function(ne){return ne})||[]},only:function(O){if(!_(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Te.Component=z,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=F,Te.StrictMode=a,Te.Suspense=m,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Te.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ue.H.useMemoCache(O)}},Te.cache=function(O){return function(){return O.apply(null,arguments)}},Te.cloneElement=function(O,ne,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=D({},O.props),ge=O.key,Ne=void 0;if(ne!=null)for(xe in ne.ref!==void 0&&(Ne=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!ke.call(ne,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ne.ref===void 0||(ie[xe]=ne[xe]);var xe=arguments.length-2;if(xe===1)ie.children=le;else if(1<xe){for(var _t=Array(xe),et=0;et<xe;et++)_t[et]=arguments[et+2];ie.children=_t}return j(O.type,ge,void 0,void 0,Ne,ie)},Te.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Te.createElement=function(O,ne,le){var ie,ge={},Ne=null;if(ne!=null)for(ie in ne.key!==void 0&&(Ne=""+ne.key),ne)ke.call(ne,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=ne[ie]);var xe=arguments.length-2;if(xe===1)ge.children=le;else if(1<xe){for(var _t=Array(xe),et=0;et<xe;et++)_t[et]=arguments[et+2];ge.children=_t}if(O&&O.defaultProps)for(ie in xe=O.defaultProps,xe)ge[ie]===void 0&&(ge[ie]=xe[ie]);return j(O,Ne,void 0,void 0,null,ge)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(O){return{$$typeof:p,render:O}},Te.isValidElement=_,Te.lazy=function(O){return{$$typeof:k,_payload:{_status:-1,_result:O},_init:oe}},Te.memo=function(O,ne){return{$$typeof:y,type:O,compare:ne===void 0?null:ne}},Te.startTransition=function(O){var ne=ue.T,le={};ue.T=le;try{var ie=O(),ge=ue.S;ge!==null&&ge(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Fe,pe)}catch(Ne){pe(Ne)}finally{ue.T=ne}},Te.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Te.use=function(O){return ue.H.use(O)},Te.useActionState=function(O,ne,le){return ue.H.useActionState(O,ne,le)},Te.useCallback=function(O,ne){return ue.H.useCallback(O,ne)},Te.useContext=function(O){return ue.H.useContext(O)},Te.useDebugValue=function(){},Te.useDeferredValue=function(O,ne){return ue.H.useDeferredValue(O,ne)},Te.useEffect=function(O,ne,le){var ie=ue.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(O,ne)},Te.useId=function(){return ue.H.useId()},Te.useImperativeHandle=function(O,ne,le){return ue.H.useImperativeHandle(O,ne,le)},Te.useInsertionEffect=function(O,ne){return ue.H.useInsertionEffect(O,ne)},Te.useLayoutEffect=function(O,ne){return ue.H.useLayoutEffect(O,ne)},Te.useMemo=function(O,ne){return ue.H.useMemo(O,ne)},Te.useOptimistic=function(O,ne){return ue.H.useOptimistic(O,ne)},Te.useReducer=function(O,ne,le){return ue.H.useReducer(O,ne,le)},Te.useRef=function(O){return ue.H.useRef(O)},Te.useState=function(O){return ue.H.useState(O)},Te.useSyncExternalStore=function(O,ne,le){return ue.H.useSyncExternalStore(O,ne,le)},Te.useTransition=function(){return ue.H.useTransition()},Te.version="19.1.0",Te}var T0;function nm(){return T0||(T0=1,C0.exports=mC()),C0.exports}var W=nm(),sp={exports:{}},Dl={},I0={exports:{}},_0={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var N0;function gC(){return N0||(N0=1,function(r){function e(Y,oe){var pe=Y.length;Y.push(oe);e:for(;0<pe;){var Fe=pe-1>>>1,O=Y[Fe];if(0<o(O,oe))Y[Fe]=oe,Y[pe]=O,pe=Fe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var oe=Y[0],pe=Y.pop();if(pe!==oe){Y[0]=pe;e:for(var Fe=0,O=Y.length,ne=O>>>1;Fe<ne;){var le=2*(Fe+1)-1,ie=Y[le],ge=le+1,Ne=Y[ge];if(0>o(ie,pe))ge<O&&0>o(Ne,ie)?(Y[Fe]=Ne,Y[ge]=pe,Fe=ge):(Y[Fe]=ie,Y[le]=pe,Fe=le);else if(ge<O&&0>o(Ne,pe))Y[Fe]=Ne,Y[ge]=pe,Fe=ge;else break e}}return oe}function o(Y,oe){var pe=Y.sortIndex-oe.sortIndex;return pe!==0?pe:Y.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var m=[],y=[],k=1,x=null,E=3,P=!1,D=!1,K=!1,z=!1,G=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function re(Y){for(var oe=n(y);oe!==null;){if(oe.callback===null)a(y);else if(oe.startTime<=Y)a(y),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(y)}}function ue(Y){if(K=!1,re(Y),!D)if(n(m)!==null)D=!0,ke||(ke=!0,A());else{var oe=n(y);oe!==null&&We(ue,oe.startTime-Y)}}var ke=!1,j=-1,T=5,_=-1;function M(){return z?!0:!(r.unstable_now()-_<T)}function I(){if(z=!1,ke){var Y=r.unstable_now();_=Y;var oe=!0;try{e:{D=!1,K&&(K=!1,F(j),j=-1),P=!0;var pe=E;try{t:{for(re(Y),x=n(m);x!==null&&!(x.expirationTime>Y&&M());){var Fe=x.callback;if(typeof Fe=="function"){x.callback=null,E=x.priorityLevel;var O=Fe(x.expirationTime<=Y);if(Y=r.unstable_now(),typeof O=="function"){x.callback=O,re(Y),oe=!0;break t}x===n(m)&&a(m),re(Y)}else a(m);x=n(m)}if(x!==null)oe=!0;else{var ne=n(y);ne!==null&&We(ue,ne.startTime-Y),oe=!1}}break e}finally{x=null,E=pe,P=!1}oe=void 0}}finally{oe?A():ke=!1}}}var A;if(typeof ae=="function")A=function(){ae(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Je=N.port2;N.port1.onmessage=I,A=function(){Je.postMessage(null)}}else A=function(){G(I,0)};function We(Y,oe){j=G(function(){Y(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var oe=3;break;default:oe=E}var pe=E;E=oe;try{return Y()}finally{E=pe}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=E;E=Y;try{return oe()}finally{E=pe}},r.unstable_scheduleCallback=function(Y,oe,pe){var Fe=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Fe+pe:Fe):pe=Fe,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,Y={id:k++,callback:oe,priorityLevel:Y,startTime:pe,expirationTime:O,sortIndex:-1},pe>Fe?(Y.sortIndex=pe,e(y,Y),n(m)===null&&Y===n(y)&&(K?(F(j),j=-1):K=!0,We(ue,pe-Fe))):(Y.sortIndex=O,e(m,Y),D||P||(D=!0,ke||(ke=!0,A()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var oe=E;return function(){var pe=E;E=oe;try{return Y.apply(this,arguments)}finally{E=pe}}}}(_0)),_0}var R0;function yC(){return R0||(R0=1,I0.exports=gC()),I0.exports}var op={exports:{}},Ht={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var A0;function vC(){if(A0)return Ht;A0=1;var r=nm();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)y+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,y,k){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:m,containerInfo:y,implementation:k}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ht.createPortal=function(m,y){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(m,y,null,k)},Ht.flushSync=function(m){var y=d.T,k=a.p;try{if(d.T=null,a.p=2,m)return m()}finally{d.T=y,a.p=k,a.d.f()}},Ht.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(m,y))},Ht.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Ht.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var k=y.as,x=p(k,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;k==="style"?a.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:P}):k==="script"&&a.d.X(m,{crossOrigin:x,integrity:E,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ht.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var k=p(y.as,y.crossOrigin);a.d.M(m,{crossOrigin:k,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(m)},Ht.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var k=y.as,x=p(k,y.crossOrigin);a.d.L(m,k,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ht.preloadModule=function(m,y){if(typeof m=="string")if(y){var k=p(y.as,y.crossOrigin);a.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:k,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(m)},Ht.requestFormReset=function(m){a.d.r(m)},Ht.unstable_batchedUpdates=function(m,y){return m(y)},Ht.useFormState=function(m,y,k){return d.H.useFormState(m,y,k)},Ht.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ht.version="19.1.0",Ht}var D0;function bC(){if(D0)return op.exports;D0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),op.exports=vC(),op.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var O0;function wC(){if(O0)return Dl;O0=1;var r=yC(),e=nm(),n=bC();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),t;if(f===l)return p(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var w=!1,S=h.child;S;){if(S===s){w=!0,s=h,l=f;break}if(S===l){w=!0,l=h,s=f;break}S=S.sibling}if(!w){for(S=f.child;S;){if(S===s){w=!0,s=f,l=h;break}if(S===l){w=!0,l=f,s=h;break}S=S.sibling}if(!w)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var k=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function A(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case z:return"Profiler";case K:return"StrictMode";case ue:return"Suspense";case ke:return"SuspenseList";case _:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return i=t.displayName||null,i!==null?i:Je(t.type)||"Memo";case T:i=t._payload,t=t._init;try{return Je(t(i))}catch{}}return null}var We=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Fe=[],O=-1;function ne(t){return{current:t}}function le(t){0>O||(t.current=Fe[O],Fe[O]=null,O--)}function ie(t,i){O++,Fe[O]=t.current,t.current=i}var ge=ne(null),Ne=ne(null),xe=ne(null),_t=ne(null);function et(t,i){switch(ie(xe,i),ie(Ne,t),ie(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Gv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Gv(i),t=Yv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ge),ie(ge,t)}function Xn(){le(ge),le(Ne),le(xe)}function si(t){t.memoizedState!==null&&ie(_t,t);var i=ge.current,s=Yv(i,t.type);i!==s&&(ie(Ne,t),ie(ge,s))}function kr(t){Ne.current===t&&(le(ge),le(Ne)),_t.current===t&&(le(_t),Tl._currentValue=pe)}var ra=Object.prototype.hasOwnProperty,ia=r.unstable_scheduleCallback,aa=r.unstable_cancelCallback,xo=r.unstable_shouldYield,yu=r.unstable_requestPaint,kn=r.unstable_now,ad=r.unstable_getCurrentPriorityLevel,Co=r.unstable_ImmediatePriority,es=r.unstable_UserBlockingPriority,sa=r.unstable_NormalPriority,sd=r.unstable_LowPriority,ts=r.unstable_IdlePriority,Eo=r.log,vu=r.unstable_setDisableYieldValue,lt=null,qe=null;function cn(t){if(typeof Eo=="function"&&vu(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(lt,t)}catch{}}var qt=Math.clz32?Math.clz32:oa,bu=Math.log,od=Math.LN2;function oa(t){return t>>>=0,t===0?32:31-(bu(t)/od|0)|0}var la=256,ua=4194304;function Mn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ns(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?h=Mn(l):(w&=S,w!==0?h=Mn(w):s||(s=S&~t,s!==0&&(h=Mn(s))))):(S=l&~f,S!==0?h=Mn(S):w!==0?h=Mn(w):s||(s=l&~t,s!==0&&(h=Mn(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function ca(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function To(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var t=la;return la<<=1,(la&4194048)===0&&(la=256),t}function _o(){var t=ua;return ua<<=1,(ua&62914560)===0&&(ua=4194304),t}function Sr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function xr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function No(t,i,s,l,h,f){var w=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,R=t.expirationTimes,$=t.hiddenUpdates;for(s=w&~s;0<s;){var X=31-qt(s),Z=1<<X;S[X]=0,R[X]=-1;var q=$[X];if(q!==null)for($[X]=null,X=0;X<q.length;X++){var H=q[X];H!==null&&(H.lane&=-536870913)}s&=~Z}l!==0&&Jn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(w&~i))}function Jn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Ro(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-qt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function li(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:m0(t.type))}function wu(t,i){var s=oe.p;try{return oe.p=t,i()}finally{oe.p=s}}var rt=Math.random().toString(36).slice(2),kt="__reactFiber$"+rt,gt="__reactProps$"+rt,Sn="__reactContainer$"+rt,Ao="__reactEvents$"+rt,ld="__reactListeners$"+rt,ui="__reactHandles$"+rt,ku="__reactResources$"+rt,ha="__reactMarker$"+rt;function ci(t){delete t[kt],delete t[gt],delete t[Ao],delete t[ld],delete t[ui]}function Cr(t){var i=t[kt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Sn]||s[kt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=e0(t);t!==null;){if(s=t[kt])return s;t=e0(t)}return i}t=s,s=t.parentNode}return null}function Zn(t){if(t=t[kt]||t[Sn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function er(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Xt(t){var i=t[ku];return i||(i=t[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(t){t[ha]=!0}var Do=new Set,is={};function zn(t,i){Er(t,i),Er(t+"Capture",i)}function Er(t,i){for(is[t]=i,t=0;t<i.length;t++)Do.add(i[t])}var Su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xu={},da={};function Cu(t){return ra.call(da,t)?!0:ra.call(xu,t)?!1:Su.test(t)?da[t]=!0:(xu[t]=!0,!1)}function hi(t,i,s){if(Cu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function tr(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Lt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var fa,Eu;function Tr(t){if(fa===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);fa=i&&i[1]||"",Eu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+t+Eu}var as=!1;function ss(t,i){if(!t||as)return"";as=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var q=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){q=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){q=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),w=f[0],S=f[1];if(w&&S){var R=w.split(`
`),$=S.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===$.length)for(l=R.length-1,h=$.length-1;1<=l&&0<=h&&R[l]!==$[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==$[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==$[h]){var X=`
`+R[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{as=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Tr(s):""}function Oo(t){switch(t.tag){case 26:case 27:case 5:return Tr(t.type);case 16:return Tr("Lazy");case 13:return Tr("Suspense");case 19:return Tr("SuspenseList");case 0:case 15:return ss(t.type,!1);case 11:return ss(t.type.render,!1);case 1:return ss(t.type,!0);case 31:return Tr("Activity");default:return""}}function os(t){try{var i="";do i+=Oo(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Po(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ud(t){var i=Po(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(w){l=""+w,f.call(this,w)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ls(t){t._valueTracker||(t._valueTracker=ud(t))}function Lo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Po(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cd=/[\n"\\]/g;function St(t){return t.replace(cd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function hn(t,i,s,l,h,f,w,S){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),i!=null?w==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),i!=null?di(t,w,Jt(i)):s!=null?di(t,w,Jt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Jt(S):t.removeAttribute("name")}function ma(t,i,s,l,h,f,w,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;s=s!=null?""+Jt(s):"",i=i!=null?""+Jt(i):s,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function di(t,i,s){i==="number"&&pa(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ir(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Jt(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,s){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Jt(s):""}function ga(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(We(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Jt(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function xn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var ya=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||ya.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function jo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Tu(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Tu(t,f,i[f])}function Mo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function us(t){return dd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _r=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nr=null,Rr=null;function zo(t){var i=Zn(t);if(i&&(t=i.stateNode)){var s=t[gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(hn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+St(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[gt]||null;if(!h)throw Error(a(90));hn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Lo(l)}break e;case"textarea":Qe(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Ir(t,!!s.multiple,i,!1)}}}var nr=!1;function Iu(t,i,s){if(nr)return t(i,s);nr=!0;try{var l=t(i);return l}finally{if(nr=!1,(Nr!==null||Rr!==null)&&(wc(),Nr&&(i=Nr,t=Rr,Rr=Nr=null,zo(i),t)))for(i=0;i<t.length;i++)zo(t[i])}}function va(t,i){var s=t.stateNode;if(s===null)return null;var l=s[gt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Fn)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){En=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{En=!1}var rr=null,fi=null,Ar=null;function Fo(){if(Ar)return Ar;var t,i=fi,s=i.length,l,h="value"in rr?rr.value:rr.textContent,f=h.length;for(t=0;t<s&&i[t]===h[t];t++);var w=s-t;for(l=1;l<=w&&i[s-l]===h[f-l];l++);return Ar=h.slice(t,1<l?1-l:void 0)}function ir(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ar(){return!0}function Vo(){return!1}function Nt(t){function i(s,l,h,f,w){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ar:Vo,this.isPropagationStopped=Vo,this}return k(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),i}var Be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Nt(Be),wa=k({},Be,{view:0,detail:0}),_u=Nt(wa),hs,ds,sr,ka=k({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sr&&(sr&&t.type==="mousemove"?(hs=t.screenX-sr.screenX,ds=t.screenY-sr.screenY):ds=hs=0,sr=t),hs)},movementY:function(t){return"movementY"in t?t.movementY:ds}}),Tn=Nt(ka),Nu=k({},ka,{dataTransfer:0}),fd=Nt(Nu),Sa=k({},wa,{relatedTarget:0}),fs=Nt(Sa),Uo=k({},Be,{animationName:0,elapsedTime:0,pseudoElement:0}),ps=Nt(Uo),Ru=k({},Be,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ms=Nt(Ru),pd=k({},Be,{data:0}),Bo=Nt(pd),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Du[t])?!!i[t]:!1}function Ca(){return $o}var Ou=k({},wa,{key:function(t){if(t.key){var i=xa[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(t){return t.type==="keypress"?ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gs=Nt(Ou),Pu=k({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=Nt(Pu),Dr=k({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),Lu=Nt(Dr),ju=k({},Be,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=Nt(ju),zu=k({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ys=Nt(zu),Zt=k({},Be,{newState:0,oldState:0}),Fu=Nt(Zt),Vu=[9,13,27,32],or=Fn&&"CompositionEvent"in window,c=null;Fn&&"documentMode"in document&&(c=document.documentMode);var g=Fn&&"TextEvent"in window&&!c,b=Fn&&(!or||c&&8<c&&11>=c),C=" ",U=!1;function Q(t,i){switch(t){case"keyup":return Vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function xt(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(U=!0,C);case"textInput":return t=i.data,t===C&&U?null:t;default:return null}}function Ve(t,i){if(Me)return t==="compositionend"||!or&&Q(t,i)?(t=Fo(),Ar=fi=rr=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var Rt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Rt[t.type]:i==="textarea"}function Or(t,i,s,l){Nr?Rr?Rr.push(l):Rr=[l]:Nr=l,i=Tc(i,"onChange"),0<i.length&&(s=new cs("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Mt=null,lr=null;function Ko(t){qv(t,0)}function Uu(t){var i=er(t);if(Lo(i))return t}function hg(t,i){if(t==="change")return i}var dg=!1;if(Fn){var md;if(Fn){var gd="oninput"in document;if(!gd){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),gd=typeof fg.oninput=="function"}md=gd}else md=!1;dg=md&&(!document.documentMode||9<document.documentMode)}function pg(){Mt&&(Mt.detachEvent("onpropertychange",mg),lr=Mt=null)}function mg(t){if(t.propertyName==="value"&&Uu(lr)){var i=[];Or(i,lr,t,Cn(t)),Iu(Ko,i)}}function $1(t,i,s){t==="focusin"?(pg(),Mt=i,lr=s,Mt.attachEvent("onpropertychange",mg)):t==="focusout"&&pg()}function q1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(lr)}function K1(t,i){if(t==="click")return Uu(i)}function H1(t,i){if(t==="input"||t==="change")return Uu(i)}function W1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:W1;function Ho(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ra.call(i,h)||!dn(t[h],i[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,i){var s=gg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gg(s)}}function vg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?vg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pa(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=pa(t.document)}return i}function yd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Q1=Fn&&"documentMode"in document&&11>=document.documentMode,vs=null,vd=null,Wo=null,bd=!1;function wg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;bd||vs==null||vs!==pa(l)||(l=vs,"selectionStart"in l&&yd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Ho(Wo,l)||(Wo=l,l=Tc(vd,"onSelect"),0<l.length&&(i=new cs("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=vs)))}function Ea(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var bs={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},wd={},kg={};Fn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Ta(t){if(wd[t])return wd[t];if(!bs[t])return t;var i=bs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in kg)return wd[t]=i[s];return t}var Sg=Ta("animationend"),xg=Ta("animationiteration"),Cg=Ta("animationstart"),G1=Ta("transitionrun"),Y1=Ta("transitionstart"),X1=Ta("transitioncancel"),Eg=Ta("transitionend"),Tg=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function Vn(t,i){Tg.set(t,i),zn(i,[t])}var Ig=new WeakMap;function In(t,i){if(typeof t=="object"&&t!==null){var s=Ig.get(t);return s!==void 0?s:(i={value:t,source:i,stack:os(i)},Ig.set(t,i),i)}return{value:t,source:i,stack:os(i)}}var _n=[],ws=0,Sd=0;function Bu(){for(var t=ws,i=Sd=ws=0;i<t;){var s=_n[i];_n[i++]=null;var l=_n[i];_n[i++]=null;var h=_n[i];_n[i++]=null;var f=_n[i];if(_n[i++]=null,l!==null&&h!==null){var w=l.pending;w===null?h.next=h:(h.next=w.next,w.next=h),l.pending=h}f!==0&&_g(s,h,f)}}function $u(t,i,s,l){_n[ws++]=t,_n[ws++]=i,_n[ws++]=s,_n[ws++]=l,Sd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xd(t,i,s,l){return $u(t,i,s,l),qu(t)}function ks(t,i){return $u(t,null,null,i),qu(t)}function _g(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-qt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),f):null}function qu(t){if(50<vl)throw vl=0,Rf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ss={};function J1(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,i,s,l){return new J1(t,i,s,l)}function Cd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pr(t,i){var s=t.alternate;return s===null?(s=fn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ng(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ku(t,i,s,l,h,f){var w=0;if(l=t,typeof t=="function")Cd(t)&&(w=1);else if(typeof t=="string")w=eC(t,s,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case _:return t=fn(31,s,i,h),t.elementType=_,t.lanes=f,t;case D:return Ia(s.children,h,f,i);case K:w=8,h|=24;break;case z:return t=fn(12,s,i,h|2),t.elementType=z,t.lanes=f,t;case ue:return t=fn(13,s,i,h),t.elementType=ue,t.lanes=f,t;case ke:return t=fn(19,s,i,h),t.elementType=ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case ae:w=10;break e;case F:w=9;break e;case re:w=11;break e;case j:w=14;break e;case T:w=16,l=null;break e}w=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=fn(w,s,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function Ia(t,i,s,l){return t=fn(7,t,l,i),t.lanes=s,t}function Ed(t,i,s){return t=fn(6,t,null,i),t.lanes=s,t}function Td(t,i,s){return i=fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var xs=[],Cs=0,Hu=null,Wu=0,Nn=[],Rn=0,_a=null,Lr=1,jr="";function Na(t,i){xs[Cs++]=Wu,xs[Cs++]=Hu,Hu=t,Wu=i}function Rg(t,i,s){Nn[Rn++]=Lr,Nn[Rn++]=jr,Nn[Rn++]=_a,_a=t;var l=Lr;t=jr;var h=32-qt(l)-1;l&=~(1<<h),s+=1;var f=32-qt(i)+h;if(30<f){var w=h-h%5;f=(l&(1<<w)-1).toString(32),l>>=w,h-=w,Lr=1<<32-qt(i)+h|s<<h|l,jr=f+t}else Lr=1<<f|s<<h|l,jr=t}function Id(t){t.return!==null&&(Na(t,1),Rg(t,1,0))}function _d(t){for(;t===Hu;)Hu=xs[--Cs],xs[Cs]=null,Wu=xs[--Cs],xs[Cs]=null;for(;t===_a;)_a=Nn[--Rn],Nn[Rn]=null,jr=Nn[--Rn],Nn[Rn]=null,Lr=Nn[--Rn],Nn[Rn]=null}var en=null,ut=null,Ue=!1,Ra=null,ur=!1,Nd=Error(a(519));function Aa(t){var i=Error(a(418,""));throw Yo(In(i,t)),Nd}function Ag(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[kt]=t,i[gt]=l,s){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(s=0;s<wl.length;s++)De(wl[s],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),ma(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ls(i);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),ga(i,l.value,l.defaultValue,l.children),ls(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Qv(i.textContent,s)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Ic),i=!0):i=!1,i||Aa(t)}function Dg(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:en=en.return}}function Qo(t){if(t!==en)return!1;if(!Ue)return Dg(t),Ue=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Hf(t.type,t.memoizedProps)),s=!s),s&&ut&&Aa(t),Dg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){ut=Bn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,Ni(t.type)?(t=Yf,Yf=null,ut=t):ut=i):ut=en?Bn(t.stateNode.nextSibling):null;return!0}function Go(){ut=en=null,Ue=!1}function Og(){var t=Ra;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),Ra=null),t}function Yo(t){Ra===null?Ra=[t]:Ra.push(t)}var Rd=ne(null),Da=null,Mr=null;function pi(t,i,s){ie(Rd,i._currentValue),i._currentValue=s}function zr(t){t._currentValue=Rd.current,le(Rd)}function Ad(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Dd(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var w=h.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=h;for(var R=0;R<i.length;R++)if(S.context===i[R]){f.lanes|=s,S=f.alternate,S!==null&&(S.lanes|=s),Ad(f.return,s,t),l||(w=null);break e}f=S.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(a(341));w.lanes|=s,f=w.alternate,f!==null&&(f.lanes|=s),Ad(w,s,t),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===t){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Xo(t,i,s,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var S=h.type;dn(h.pendingProps.value,w.value)||(t!==null?t.push(S):t=[S])}}else if(h===_t.current){if(w=h.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&Dd(i,t,s,l),i.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Oa(t){Da=t,Mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Pg(Da,t)}function Gu(t,i){return Da===null&&Oa(t),Pg(t,i)}function Pg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Mr===null){if(t===null)throw Error(a(308));Mr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mr=Mr.next=i;return s}var Z1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},ex=r.unstable_scheduleCallback,tx=r.unstable_NormalPriority,Ct={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Od(){return{controller:new Z1,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&ex(tx,function(){t.controller.abort()})}var Zo=null,Pd=0,Es=0,Ts=null;function nx(t,i){if(Zo===null){var s=Zo=[];Pd=0,Es=Mf(),Ts={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Pd++,i.then(Lg,Lg),i}function Lg(){if(--Pd===0&&Zo!==null){Ts!==null&&(Ts.status="fulfilled");var t=Zo;Zo=null,Es=0,Ts=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function rx(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var jg=Y.S;Y.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&nx(t,i),jg!==null&&jg(t,i)};var Pa=ne(null);function Ld(){var t=Pa.current;return t!==null?t:tt.pooledCache}function Yu(t,i){i===null?ie(Pa,Pa.current):ie(Pa,i.pool)}function Mg(){var t=Ld();return t===null?null:{parent:Ct._currentValue,pool:t}}var el=Error(a(460)),zg=Error(a(474)),Xu=Error(a(542)),jd={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ju(){}function Vg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Ju,Ju),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bg(t),t;default:if(typeof i.status=="string")i.then(Ju,Ju);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bg(t),t}throw tl=i,el}}var tl=null;function Ug(){if(tl===null)throw Error(a(459));var t=tl;return tl=null,t}function Bg(t){if(t===el||t===Xu)throw Error(a(483))}var mi=!1;function Md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yi(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=qu(t),_g(t,null,s),i}return $u(t,l,i,s),qu(t)}function nl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Ro(t,s)}}function Fd(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var w={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=w:f=f.next=w,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Vd=!1;function rl(){if(Vd){var t=Ts;if(t!==null)throw t}}function il(t,i,s,l){Vd=!1;var h=t.updateQueue;mi=!1;var f=h.firstBaseUpdate,w=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var R=S,$=R.next;R.next=null,w===null?f=$:w.next=$,w=R;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==w&&(S===null?X.firstBaseUpdate=$:S.next=$,X.lastBaseUpdate=R))}if(f!==null){var Z=h.baseState;w=0,X=$=R=null,S=f;do{var q=S.lane&-536870913,H=q!==S.lane;if(H?(Le&q)===q:(l&q)===q){q!==0&&q===Es&&(Vd=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Se=t,ye=S;q=i;var Xe=s;switch(ye.tag){case 1:if(Se=ye.payload,typeof Se=="function"){Z=Se.call(Xe,Z,q);break e}Z=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ye.payload,q=typeof Se=="function"?Se.call(Xe,Z,q):Se,q==null)break e;Z=k({},Z,q);break e;case 2:mi=!0}}q=S.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?($=X=H,R=Z):X=X.next=H,w|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;H=S,S=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);X===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=$,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Ei|=w,t.lanes=w,t.memoizedState=Z}}function $g(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function qg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)$g(s[t],i)}var Is=ne(null),Zu=ne(0);function Kg(t,i){t=Hr,ie(Zu,t),ie(Is,i),Hr=t|i.baseLanes}function Ud(){ie(Zu,Hr),ie(Is,Is.current)}function Bd(){Hr=Zu.current,le(Is),le(Zu)}var vi=0,Ie=null,Ge=null,yt=null,ec=!1,_s=!1,La=!1,tc=0,al=0,Ns=null,ix=0;function ft(){throw Error(a(321))}function $d(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!dn(t[s],i[s]))return!1;return!0}function qd(t,i,s,l,h,f){return vi=f,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?_y:Ny,La=!1,f=s(l,h),La=!1,_s&&(f=Wg(i,s,l,h)),Hg(t),f}function Hg(t){Y.H=oc;var i=Ge!==null&&Ge.next!==null;if(vi=0,yt=Ge=Ie=null,ec=!1,al=0,Ns=null,i)throw Error(a(300));t===null||At||(t=t.dependencies,t!==null&&Qu(t)&&(At=!0))}function Wg(t,i,s,l){Ie=t;var h=0;do{if(_s&&(Ns=null),al=0,_s=!1,25<=h)throw Error(a(301));if(h+=1,yt=Ge=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=hx,f=i(s,l)}while(_s);return f}function ax(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?sl(i):i,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Kd(){var t=tc!==0;return tc=0,t}function Hd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Wd(t){if(ec){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ec=!1}vi=0,yt=Ge=Ie=null,_s=!1,al=tc=0,Ns=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ie.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if(Ge===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var i=yt===null?Ie.memoizedState:yt.next;if(i!==null)yt=i,Ge=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},yt===null?Ie.memoizedState=yt=t:yt=yt.next=t}return yt}function Qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var i=al;return al+=1,Ns===null&&(Ns=[]),t=Vg(Ns,t,i),i=Ie,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?_y:Ny),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===ae)return Kt(t)}throw Error(a(438,String(t)))}function Gd(t){var i=null,s=Ie.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Qd(),Ie.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=M;return i.index++,s}function Fr(t,i){return typeof i=="function"?i(t):i}function rc(t){var i=vt();return Yd(i,Ge,t)}function Yd(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var w=h.next;h.next=f.next,f.next=w}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var S=w=null,R=null,$=i,X=!1;do{var Z=$.lane&-536870913;if(Z!==$.lane?(Le&Z)===Z:(vi&Z)===Z){var q=$.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),Z===Es&&(X=!0);else if((vi&q)===q){$=$.next,q===Es&&(X=!0);continue}else Z={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},R===null?(S=R=Z,w=f):R=R.next=Z,Ie.lanes|=q,Ei|=q;Z=$.action,La&&s(f,Z),f=$.hasEagerState?$.eagerState:s(f,Z)}else q={lane:Z,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},R===null?(S=R=q,w=f):R=R.next=q,Ie.lanes|=Z,Ei|=Z;$=$.next}while($!==null&&$!==i);if(R===null?w=f:R.next=S,!dn(f,t.memoizedState)&&(At=!0,X&&(s=Ts,s!==null)))throw s;t.memoizedState=f,t.baseState=w,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xd(t){var i=vt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var w=h=h.next;do f=t(f,w.action),w=w.next;while(w!==h);dn(f,i.memoizedState)||(At=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,l]}function Qg(t,i,s){var l=Ie,h=vt(),f=Ue;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var w=!dn((Ge||h).memoizedState,s);w&&(h.memoizedState=s,At=!0),h=h.queue;var S=Xg.bind(null,l,h,t);if(ol(2048,8,S,[t]),h.getSnapshot!==i||w||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Rs(9,ic(),Yg.bind(null,l,h,s,i),null),tt===null)throw Error(a(349));f||(vi&124)!==0||Gg(l,i,s)}return s}function Gg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ie.updateQueue,i===null?(i=Qd(),Ie.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Yg(t,i,s,l){i.value=s,i.getSnapshot=l,Jg(i)&&Zg(t)}function Xg(t,i,s){return s(function(){Jg(i)&&Zg(t)})}function Jg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!dn(t,s)}catch{return!0}}function Zg(t){var i=ks(t,2);i!==null&&vn(i,t,2)}function Jd(t){var i=tn();if(typeof t=="function"){var s=t;if(t=s(),La){cn(!0);try{s()}finally{cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:t},i}function ey(t,i,s,l){return t.baseState=s,Yd(t,Ge,typeof l=="function"?l:Fr)}function sx(t,i,s,l,h){if(sc(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){f.listeners.push(w)}};Y.T!==null?s(!0):f.isTransition=!1,l(f),s=i.pending,s===null?(f.next=i.pending=f,ty(i,f)):(f.next=s.next,i.pending=s.next=f)}}function ty(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=Y.T,w={};Y.T=w;try{var S=s(h,l),R=Y.S;R!==null&&R(w,S),ny(t,i,S)}catch($){Zd(t,i,$)}finally{Y.T=f}}else try{f=s(h,l),ny(t,i,f)}catch($){Zd(t,i,$)}}function ny(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ry(t,i,l)},function(l){return Zd(t,i,l)}):ry(t,i,s)}function ry(t,i,s){i.status="fulfilled",i.value=s,iy(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,ty(t,s)))}function Zd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,iy(i),i=i.next;while(i!==l)}t.action=null}function iy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ay(t,i){return i}function sy(t,i){if(Ue){var s=tt.formState;if(s!==null){e:{var l=Ie;if(Ue){if(ut){t:{for(var h=ut,f=ur;h.nodeType!==8;){if(!f){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Bn(h.nextSibling),l=h.data==="F!";break e}}Aa(l)}l=!1}l&&(i=s[0])}}return s=tn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:i},s.queue=l,s=Ey.bind(null,Ie,l),l.dispatch=s,l=Jd(!1),f=af.bind(null,Ie,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=sx.bind(null,Ie,h,f,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function oy(t){var i=vt();return ly(i,Ge,t)}function ly(t,i,s){if(i=Yd(t,i,ay)[0],t=rc(Fr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=sl(i)}catch(w){throw w===el?Xu:w}else l=i;i=vt();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(Ie.flags|=2048,Rs(9,ic(),ox.bind(null,h,s),null)),[l,f,t]}function ox(t,i){t.action=i}function uy(t){var i=vt(),s=Ge;if(s!==null)return ly(i,s,t);vt(),i=i.memoizedState,s=vt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Rs(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Qd(),Ie.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function ic(){return{destroy:void 0,resource:void 0}}function cy(){return vt().memoizedState}function ac(t,i,s,l){var h=tn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Rs(1|i,ic(),s,l)}function ol(t,i,s,l){var h=vt();l=l===void 0?null:l;var f=h.memoizedState.inst;Ge!==null&&l!==null&&$d(l,Ge.memoizedState.deps)?h.memoizedState=Rs(i,f,s,l):(Ie.flags|=t,h.memoizedState=Rs(1|i,f,s,l))}function hy(t,i){ac(8390656,8,t,i)}function dy(t,i){ol(2048,8,t,i)}function fy(t,i){return ol(4,2,t,i)}function py(t,i){return ol(4,4,t,i)}function my(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gy(t,i,s){s=s!=null?s.concat([t]):null,ol(4,4,my.bind(null,i,t),s)}function ef(){}function yy(t,i){var s=vt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&$d(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function vy(t,i){var s=vt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&$d(i,l[1]))return l[0];if(l=t(),La){cn(!0);try{t()}finally{cn(!1)}}return s.memoizedState=[l,i],l}function tf(t,i,s){return s===void 0||(vi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=kv(),Ie.lanes|=t,Ei|=t,s)}function by(t,i,s,l){return dn(s,i)?s:Is.current!==null?(t=tf(t,s,l),dn(t,i)||(At=!0),t):(vi&42)===0?(At=!0,t.memoizedState=s):(t=kv(),Ie.lanes|=t,Ei|=t,i)}function wy(t,i,s,l,h){var f=oe.p;oe.p=f!==0&&8>f?f:8;var w=Y.T,S={};Y.T=S,af(t,!1,i,s);try{var R=h(),$=Y.S;if($!==null&&$(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var X=rx(R,l);ll(t,i,X,yn(t))}else ll(t,i,l,yn(t))}catch(Z){ll(t,i,{then:function(){},status:"rejected",reason:Z},yn())}finally{oe.p=f,Y.T=w}}function lx(){}function nf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=ky(t).queue;wy(t,h,i,pe,s===null?lx:function(){return Sy(t),s(l)})}function ky(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:pe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Sy(t){var i=ky(t).next.queue;ll(t,i,{},yn())}function rf(){return Kt(Tl)}function xy(){return vt().memoizedState}function Cy(){return vt().memoizedState}function ux(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=yn();t=gi(s);var l=yi(i,t,s);l!==null&&(vn(l,i,s),nl(l,i,s)),i={cache:Od()},t.payload=i;return}i=i.return}}function cx(t,i,s){var l=yn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},sc(t)?Ty(i,s):(s=xd(t,i,s,l),s!==null&&(vn(s,t,l),Iy(s,i,l)))}function Ey(t,i,s){var l=yn();ll(t,i,s,l)}function ll(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(sc(t))Ty(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var w=i.lastRenderedState,S=f(w,s);if(h.hasEagerState=!0,h.eagerState=S,dn(S,w))return $u(t,i,h,0),tt===null&&Bu(),!1}catch{}finally{}if(s=xd(t,i,h,l),s!==null)return vn(s,t,l),Iy(s,i,l),!0}return!1}function af(t,i,s,l){if(l={lane:2,revertLane:Mf(),action:l,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(i)throw Error(a(479))}else i=xd(t,s,l,2),i!==null&&vn(i,t,2)}function sc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Ty(t,i){_s=ec=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Iy(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Ro(t,s)}}var oc={readContext:Kt,use:nc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},_y={readContext:Kt,use:nc,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:hy,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,ac(4194308,4,my.bind(null,i,t),s)},useLayoutEffect:function(t,i){return ac(4194308,4,t,i)},useInsertionEffect:function(t,i){ac(4,2,t,i)},useMemo:function(t,i){var s=tn();i=i===void 0?null:i;var l=t();if(La){cn(!0);try{t()}finally{cn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=tn();if(s!==void 0){var h=s(i);if(La){cn(!0);try{s(i)}finally{cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=cx.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=Jd(t);var i=t.queue,s=Ey.bind(null,Ie,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:ef,useDeferredValue:function(t,i){var s=tn();return tf(s,t,i)},useTransition:function(){var t=Jd(!1);return t=wy.bind(null,Ie,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ie,h=tn();if(Ue){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),tt===null)throw Error(a(349));(Le&124)!==0||Gg(l,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,hy(Xg.bind(null,l,f,t),[t]),l.flags|=2048,Rs(9,ic(),Yg.bind(null,l,f,s,i),null),s},useId:function(){var t=tn(),i=tt.identifierPrefix;if(Ue){var s=jr,l=Lr;s=(l&~(1<<32-qt(l)-1)).toString(32)+s,i=""+i+"R"+s,s=tc++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=ix++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:rf,useFormState:sy,useActionState:sy,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=af.bind(null,Ie,!0,s),s.dispatch=i,[t,i]},useMemoCache:Gd,useCacheRefresh:function(){return tn().memoizedState=ux.bind(null,Ie)}},Ny={readContext:Kt,use:nc,useCallback:yy,useContext:Kt,useEffect:dy,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:py,useMemo:vy,useReducer:rc,useRef:cy,useState:function(){return rc(Fr)},useDebugValue:ef,useDeferredValue:function(t,i){var s=vt();return by(s,Ge.memoizedState,t,i)},useTransition:function(){var t=rc(Fr)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Qg,useId:xy,useHostTransitionStatus:rf,useFormState:oy,useActionState:oy,useOptimistic:function(t,i){var s=vt();return ey(s,Ge,t,i)},useMemoCache:Gd,useCacheRefresh:Cy},hx={readContext:Kt,use:nc,useCallback:yy,useContext:Kt,useEffect:dy,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:py,useMemo:vy,useReducer:Xd,useRef:cy,useState:function(){return Xd(Fr)},useDebugValue:ef,useDeferredValue:function(t,i){var s=vt();return Ge===null?tf(s,t,i):by(s,Ge.memoizedState,t,i)},useTransition:function(){var t=Xd(Fr)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Qg,useId:xy,useHostTransitionStatus:rf,useFormState:uy,useActionState:uy,useOptimistic:function(t,i){var s=vt();return Ge!==null?ey(s,Ge,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Gd,useCacheRefresh:Cy},As=null,ul=0;function lc(t){var i=ul;return ul+=1,As===null&&(As=[]),Vg(As,t,i)}function cl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function uc(t,i){throw i.$$typeof===x?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ry(t){var i=t._init;return i(t._payload)}function Ay(t){function i(V,L){if(t){var B=V.deletions;B===null?(V.deletions=[L],V.flags|=16):B.push(L)}}function s(V,L){if(!t)return null;for(;L!==null;)i(V,L),L=L.sibling;return null}function l(V){for(var L=new Map;V!==null;)V.key!==null?L.set(V.key,V):L.set(V.index,V),V=V.sibling;return L}function h(V,L){return V=Pr(V,L),V.index=0,V.sibling=null,V}function f(V,L,B){return V.index=B,t?(B=V.alternate,B!==null?(B=B.index,B<L?(V.flags|=67108866,L):B):(V.flags|=67108866,L)):(V.flags|=1048576,L)}function w(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function S(V,L,B,J){return L===null||L.tag!==6?(L=Ed(B,V.mode,J),L.return=V,L):(L=h(L,B),L.return=V,L)}function R(V,L,B,J){var de=B.type;return de===D?X(V,L,B.props.children,J,B.key):L!==null&&(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===T&&Ry(de)===L.type)?(L=h(L,B.props),cl(L,B),L.return=V,L):(L=Ku(B.type,B.key,B.props,null,V.mode,J),cl(L,B),L.return=V,L)}function $(V,L,B,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=Td(B,V.mode,J),L.return=V,L):(L=h(L,B.children||[]),L.return=V,L)}function X(V,L,B,J,de){return L===null||L.tag!==7?(L=Ia(B,V.mode,J,de),L.return=V,L):(L=h(L,B),L.return=V,L)}function Z(V,L,B){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ed(""+L,V.mode,B),L.return=V,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case E:return B=Ku(L.type,L.key,L.props,null,V.mode,B),cl(B,L),B.return=V,B;case P:return L=Td(L,V.mode,B),L.return=V,L;case T:var J=L._init;return L=J(L._payload),Z(V,L,B)}if(We(L)||A(L))return L=Ia(L,V.mode,B,null),L.return=V,L;if(typeof L.then=="function")return Z(V,lc(L),B);if(L.$$typeof===ae)return Z(V,Gu(V,L),B);uc(V,L)}return null}function q(V,L,B,J){var de=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:S(V,L,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return B.key===de?R(V,L,B,J):null;case P:return B.key===de?$(V,L,B,J):null;case T:return de=B._init,B=de(B._payload),q(V,L,B,J)}if(We(B)||A(B))return de!==null?null:X(V,L,B,J,null);if(typeof B.then=="function")return q(V,L,lc(B),J);if(B.$$typeof===ae)return q(V,L,Gu(V,B),J);uc(V,B)}return null}function H(V,L,B,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return V=V.get(B)||null,S(L,V,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return V=V.get(J.key===null?B:J.key)||null,R(L,V,J,de);case P:return V=V.get(J.key===null?B:J.key)||null,$(L,V,J,de);case T:var Re=J._init;return J=Re(J._payload),H(V,L,B,J,de)}if(We(J)||A(J))return V=V.get(B)||null,X(L,V,J,de,null);if(typeof J.then=="function")return H(V,L,B,lc(J),de);if(J.$$typeof===ae)return H(V,L,B,Gu(L,J),de);uc(L,J)}return null}function Se(V,L,B,J){for(var de=null,Re=null,fe=L,ve=L=0,Ot=null;fe!==null&&ve<B.length;ve++){fe.index>ve?(Ot=fe,fe=null):Ot=fe.sibling;var ze=q(V,fe,B[ve],J);if(ze===null){fe===null&&(fe=Ot);break}t&&fe&&ze.alternate===null&&i(V,fe),L=f(ze,L,ve),Re===null?de=ze:Re.sibling=ze,Re=ze,fe=Ot}if(ve===B.length)return s(V,fe),Ue&&Na(V,ve),de;if(fe===null){for(;ve<B.length;ve++)fe=Z(V,B[ve],J),fe!==null&&(L=f(fe,L,ve),Re===null?de=fe:Re.sibling=fe,Re=fe);return Ue&&Na(V,ve),de}for(fe=l(fe);ve<B.length;ve++)Ot=H(fe,V,ve,B[ve],J),Ot!==null&&(t&&Ot.alternate!==null&&fe.delete(Ot.key===null?ve:Ot.key),L=f(Ot,L,ve),Re===null?de=Ot:Re.sibling=Ot,Re=Ot);return t&&fe.forEach(function(Pi){return i(V,Pi)}),Ue&&Na(V,ve),de}function ye(V,L,B,J){if(B==null)throw Error(a(151));for(var de=null,Re=null,fe=L,ve=L=0,Ot=null,ze=B.next();fe!==null&&!ze.done;ve++,ze=B.next()){fe.index>ve?(Ot=fe,fe=null):Ot=fe.sibling;var Pi=q(V,fe,ze.value,J);if(Pi===null){fe===null&&(fe=Ot);break}t&&fe&&Pi.alternate===null&&i(V,fe),L=f(Pi,L,ve),Re===null?de=Pi:Re.sibling=Pi,Re=Pi,fe=Ot}if(ze.done)return s(V,fe),Ue&&Na(V,ve),de;if(fe===null){for(;!ze.done;ve++,ze=B.next())ze=Z(V,ze.value,J),ze!==null&&(L=f(ze,L,ve),Re===null?de=ze:Re.sibling=ze,Re=ze);return Ue&&Na(V,ve),de}for(fe=l(fe);!ze.done;ve++,ze=B.next())ze=H(fe,V,ve,ze.value,J),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?ve:ze.key),L=f(ze,L,ve),Re===null?de=ze:Re.sibling=ze,Re=ze);return t&&fe.forEach(function(dC){return i(V,dC)}),Ue&&Na(V,ve),de}function Xe(V,L,B,J){if(typeof B=="object"&&B!==null&&B.type===D&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case E:e:{for(var de=B.key;L!==null;){if(L.key===de){if(de=B.type,de===D){if(L.tag===7){s(V,L.sibling),J=h(L,B.props.children),J.return=V,V=J;break e}}else if(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===T&&Ry(de)===L.type){s(V,L.sibling),J=h(L,B.props),cl(J,B),J.return=V,V=J;break e}s(V,L);break}else i(V,L);L=L.sibling}B.type===D?(J=Ia(B.props.children,V.mode,J,B.key),J.return=V,V=J):(J=Ku(B.type,B.key,B.props,null,V.mode,J),cl(J,B),J.return=V,V=J)}return w(V);case P:e:{for(de=B.key;L!==null;){if(L.key===de)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){s(V,L.sibling),J=h(L,B.children||[]),J.return=V,V=J;break e}else{s(V,L);break}else i(V,L);L=L.sibling}J=Td(B,V.mode,J),J.return=V,V=J}return w(V);case T:return de=B._init,B=de(B._payload),Xe(V,L,B,J)}if(We(B))return Se(V,L,B,J);if(A(B)){if(de=A(B),typeof de!="function")throw Error(a(150));return B=de.call(B),ye(V,L,B,J)}if(typeof B.then=="function")return Xe(V,L,lc(B),J);if(B.$$typeof===ae)return Xe(V,L,Gu(V,B),J);uc(V,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,L!==null&&L.tag===6?(s(V,L.sibling),J=h(L,B),J.return=V,V=J):(s(V,L),J=Ed(B,V.mode,J),J.return=V,V=J),w(V)):s(V,L)}return function(V,L,B,J){try{ul=0;var de=Xe(V,L,B,J);return As=null,de}catch(fe){if(fe===el||fe===Xu)throw fe;var Re=fn(29,fe,null,V.mode);return Re.lanes=J,Re.return=V,Re}finally{}}}var Ds=Ay(!0),Dy=Ay(!1),An=ne(null),Vr=null;function bi(t){var i=t.alternate;ie(Et,Et.current&1),ie(An,t),Vr===null&&(i===null||Is.current!==null||i.memoizedState!==null)&&(Vr=t)}function Oy(t){if(t.tag===22){if(ie(Et,Et.current),ie(An,t),Vr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Vr=t)}}else wi()}function wi(){ie(Et,Et.current),ie(An,An.current)}function Ur(t){le(An),Vr===t&&(Vr=null),le(Et)}var Et=ne(0);function cc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Gf(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function sf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:k({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var of={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=yn(),h=gi(l);h.payload=i,s!=null&&(h.callback=s),i=yi(t,h,l),i!==null&&(vn(i,t,l),nl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=yn(),h=gi(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=yi(t,h,l),i!==null&&(vn(i,t,l),nl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=yn(),l=gi(s);l.tag=2,i!=null&&(l.callback=i),i=yi(t,l,s),i!==null&&(vn(i,t,s),nl(i,t,s))}};function Py(t,i,s,l,h,f,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,w):i.prototype&&i.prototype.isPureReactComponent?!Ho(s,l)||!Ho(h,f):!0}function Ly(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&of.enqueueReplaceState(i,i.state,null)}function ja(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=k({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function jy(t){hc(t)}function My(t){console.error(t)}function zy(t){hc(t)}function dc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Fy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function lf(t,i,s){return s=gi(s),s.tag=3,s.payload={element:null},s.callback=function(){dc(t,i)},s}function Vy(t){return t=gi(t),t.tag=3,t}function Uy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Fy(i,s,l)}}var w=s.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Fy(i,s,l),typeof h!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function dx(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Xo(i,s,h,!0),s=An.current,s!==null){switch(s.tag){case 13:return Vr===null?Df():s.alternate===null&&ct===0&&(ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===jd?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Pf(t,l,h)),!1;case 22:return s.flags|=65536,l===jd?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Pf(t,l,h)),!1}throw Error(a(435,s.tag))}return Pf(t,l,h),Df(),!1}if(Ue)return i=An.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Nd&&(t=Error(a(422),{cause:l}),Yo(In(t,s)))):(l!==Nd&&(i=Error(a(423),{cause:l}),Yo(In(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,s),h=lf(t.stateNode,l,h),Fd(t,h),ct!==4&&(ct=2)),!1;var f=Error(a(520),{cause:l});if(f=In(f,s),yl===null?yl=[f]:yl.push(f),ct!==4&&(ct=2),i===null)return!0;l=In(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=lf(s.stateNode,l,t),Fd(s,t),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ti===null||!Ti.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Vy(h),Uy(h,t,s,l),Fd(s,h),!1}s=s.return}while(s!==null);return!1}var By=Error(a(461)),At=!1;function zt(t,i,s,l){i.child=t===null?Dy(i,null,s,l):Ds(i,t.child,s,l)}function $y(t,i,s,l,h){s=s.render;var f=i.ref;if("ref"in l){var w={};for(var S in l)S!=="ref"&&(w[S]=l[S])}else w=l;return Oa(i),l=qd(t,i,s,w,f,h),S=Kd(),t!==null&&!At?(Hd(t,i,h),Br(t,i,h)):(Ue&&S&&Id(i),i.flags|=1,zt(t,i,l,h),i.child)}function qy(t,i,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Cd(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,Ky(t,i,f,l,h)):(t=Ku(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!gf(t,h)){var w=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ho,s(w,l)&&t.ref===i.ref)return Br(t,i,h)}return i.flags|=1,t=Pr(f,l),t.ref=i.ref,t.return=i,i.child=t}function Ky(t,i,s,l,h){if(t!==null){var f=t.memoizedProps;if(Ho(f,l)&&t.ref===i.ref)if(At=!1,i.pendingProps=l=f,gf(t,h))(t.flags&131072)!==0&&(At=!0);else return i.lanes=t.lanes,Br(t,i,h)}return uf(t,i,s,l,h)}function Hy(t,i,s){var l=i.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return Wy(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,f!==null?f.cachePool:null),f!==null?Kg(i,f):Ud(),Oy(i);else return i.lanes=i.childLanes=536870912,Wy(t,i,f!==null?f.baseLanes|s:s,s)}else f!==null?(Yu(i,f.cachePool),Kg(i,f),wi(),i.memoizedState=null):(t!==null&&Yu(i,null),Ud(),wi());return zt(t,i,h,s),i.child}function Wy(t,i,s,l){var h=Ld();return h=h===null?null:{parent:Ct._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&Yu(i,null),Ud(),Oy(i),t!==null&&Xo(t,i,l,!0),null}function fc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function uf(t,i,s,l,h){return Oa(i),s=qd(t,i,s,l,void 0,h),l=Kd(),t!==null&&!At?(Hd(t,i,h),Br(t,i,h)):(Ue&&l&&Id(i),i.flags|=1,zt(t,i,s,h),i.child)}function Qy(t,i,s,l,h,f){return Oa(i),i.updateQueue=null,s=Wg(i,l,s,h),Hg(t),l=Kd(),t!==null&&!At?(Hd(t,i,f),Br(t,i,f)):(Ue&&l&&Id(i),i.flags|=1,zt(t,i,s,f),i.child)}function Gy(t,i,s,l,h){if(Oa(i),i.stateNode===null){var f=Ss,w=s.contextType;typeof w=="object"&&w!==null&&(f=Kt(w)),f=new s(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=of,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Md(i),w=s.contextType,f.context=typeof w=="object"&&w!==null?Kt(w):Ss,f.state=i.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(sf(i,s,w,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(w=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),w!==f.state&&of.enqueueReplaceState(f,f.state,null),il(i,l,f,h),rl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,R=ja(s,S);f.props=R;var $=f.context,X=s.contextType;w=Ss,typeof X=="object"&&X!==null&&(w=Kt(X));var Z=s.getDerivedStateFromProps;X=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||$!==w)&&Ly(i,f,l,w),mi=!1;var q=i.memoizedState;f.state=q,il(i,l,f,h),rl(),$=i.memoizedState,S||q!==$||mi?(typeof Z=="function"&&(sf(i,s,Z,l),$=i.memoizedState),(R=mi||Py(i,s,R,l,q,$,w))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=$),f.props=l,f.state=$,f.context=w,l=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,zd(t,i),w=i.memoizedProps,X=ja(s,w),f.props=X,Z=i.pendingProps,q=f.context,$=s.contextType,R=Ss,typeof $=="object"&&$!==null&&(R=Kt($)),S=s.getDerivedStateFromProps,($=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==Z||q!==R)&&Ly(i,f,l,R),mi=!1,q=i.memoizedState,f.state=q,il(i,l,f,h),rl();var H=i.memoizedState;w!==Z||q!==H||mi||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof S=="function"&&(sf(i,s,S,l),H=i.memoizedState),(X=mi||Py(i,s,X,l,q,H,R)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?($||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),f.props=l,f.state=H,f.context=R,l=X):(typeof f.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,fc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=Ds(i,t.child,null,h),i.child=Ds(i,null,s,h)):zt(t,i,s,h),i.memoizedState=f.state,t=i.child):t=Br(t,i,h),t}function Yy(t,i,s,l){return Go(),i.flags|=256,zt(t,i,s,l),i.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hf(t){return{baseLanes:t,cachePool:Mg()}}function df(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Dn),t}function Xy(t,i,s){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,w;if((w=f)||(w=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),w&&(h=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(h?bi(i):wi(),Ue){var S=ut,R;if(R=S){e:{for(R=S,S=ur;R.nodeType!==8;){if(!S){S=null;break e}if(R=Bn(R.nextSibling),R===null){S=null;break e}}S=R}S!==null?(i.memoizedState={dehydrated:S,treeContext:_a!==null?{id:Lr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},R=fn(18,null,null,0),R.stateNode=S,R.return=i,i.child=R,en=i,ut=null,R=!0):R=!1}R||Aa(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Gf(S)?i.lanes=32:i.lanes=536870912,null;Ur(i)}return S=l.children,l=l.fallback,h?(wi(),h=i.mode,S=pc({mode:"hidden",children:S},h),l=Ia(l,h,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=hf(s),h.childLanes=df(t,w,s),i.memoizedState=cf,l):(bi(i),ff(i,S))}if(R=t.memoizedState,R!==null&&(S=R.dehydrated,S!==null)){if(f)i.flags&256?(bi(i),i.flags&=-257,i=pf(t,i,s)):i.memoizedState!==null?(wi(),i.child=t.child,i.flags|=128,i=null):(wi(),h=l.fallback,S=i.mode,l=pc({mode:"visible",children:l.children},S),h=Ia(h,S,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ds(i,t.child,null,s),l=i.child,l.memoizedState=hf(s),l.childLanes=df(t,w,s),i.memoizedState=cf,i=h);else if(bi(i),Gf(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var $=w.dgst;w=$,l=Error(a(419)),l.stack="",l.digest=w,Yo({value:l,source:null,stack:null}),i=pf(t,i,s)}else if(At||Xo(t,i,s,!1),w=(s&t.childLanes)!==0,At||w){if(w=tt,w!==null&&(l=s&-s,l=(l&42)!==0?1:oi(l),l=(l&(w.suspendedLanes|s))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,ks(t,l),vn(w,t,l),By;S.data==="$?"||Df(),i=pf(t,i,s)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,ut=Bn(S.nextSibling),en=i,Ue=!0,Ra=null,ur=!1,t!==null&&(Nn[Rn++]=Lr,Nn[Rn++]=jr,Nn[Rn++]=_a,Lr=t.id,jr=t.overflow,_a=i),i=ff(i,l.children),i.flags|=4096);return i}return h?(wi(),h=l.fallback,S=i.mode,R=t.child,$=R.sibling,l=Pr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,$!==null?h=Pr($,h):(h=Ia(h,S,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=hf(s):(R=S.cachePool,R!==null?($=Ct._currentValue,R=R.parent!==$?{parent:$,pool:$}:R):R=Mg(),S={baseLanes:S.baseLanes|s,cachePool:R}),h.memoizedState=S,h.childLanes=df(t,w,s),i.memoizedState=cf,l):(bi(i),s=t.child,t=s.sibling,s=Pr(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(w=i.deletions,w===null?(i.deletions=[t],i.flags|=16):w.push(t)),i.child=s,i.memoizedState=null,s)}function ff(t,i){return i=pc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function pc(t,i){return t=fn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function pf(t,i,s){return Ds(i,t.child,null,s),t=ff(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Jy(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ad(t.return,i,s)}function mf(t,i,s,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=h)}function Zy(t,i,s){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(zt(t,i,l.children,s),l=Et.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,s,i);else if(t.tag===19)Jy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(Et,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&cc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),mf(i,!1,h,s,f);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}mf(i,!0,s,null,f);break;case"together":mf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Br(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Ei|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Xo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Pr(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Pr(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function gf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function fx(t,i,s){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),pi(i,Ct,t.memoizedState.cache),Go();break;case 27:case 5:si(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:pi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(bi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Xy(t,i,s):(bi(i),t=Br(t,i,s),t!==null?t.sibling:null);bi(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Xo(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return Zy(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Et,Et.current),l)break;return null;case 22:case 23:return i.lanes=0,Hy(t,i,s);case 24:pi(i,Ct,t.memoizedState.cache)}return Br(t,i,s)}function ev(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)At=!0;else{if(!gf(t,s)&&(i.flags&128)===0)return At=!1,fx(t,i,s);At=(t.flags&131072)!==0}else At=!1,Ue&&(i.flags&1048576)!==0&&Rg(i,Wu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Cd(l)?(t=ja(l,t),i.tag=1,i=Gy(null,i,l,t,s)):(i.tag=0,i=uf(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===re){i.tag=11,i=$y(null,i,l,t,s);break e}else if(h===j){i.tag=14,i=qy(null,i,l,t,s);break e}}throw i=Je(l)||l,Error(a(306,i,""))}}return i;case 0:return uf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=ja(l,i.pendingProps),Gy(t,i,l,h,s);case 3:e:{if(et(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,zd(t,i),il(i,l,null,s);var w=i.memoizedState;if(l=w.cache,pi(i,Ct,l),l!==f.cache&&Dd(i,[Ct],s,!0),rl(),l=w.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Yy(t,i,l,s);break e}else if(l!==h){h=In(Error(a(424)),i),Yo(h),i=Yy(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Bn(t.firstChild),en=i,Ue=!0,Ra=null,ur=!0,s=Dy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Go(),l===h){i=Br(t,i,s);break e}zt(t,i,l,s)}i=i.child}return i;case 26:return fc(t,i),t===null?(s=i0(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ue||(s=i.type,t=i.pendingProps,l=_c(xe.current).createElement(s),l[kt]=i,l[gt]=t,Vt(l,s,t),dt(l),i.stateNode=l):i.memoizedState=i0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return si(i),t===null&&Ue&&(l=i.stateNode=t0(i.type,i.pendingProps,xe.current),en=i,ur=!0,h=ut,Ni(i.type)?(Yf=h,ut=Bn(l.firstChild)):ut=h),zt(t,i,i.pendingProps.children,s),fc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((h=l=ut)&&(l=Ux(l,i.type,i.pendingProps,ur),l!==null?(i.stateNode=l,en=i,ut=Bn(l.firstChild),ur=!1,h=!0):h=!1),h||Aa(i)),si(i),h=i.type,f=i.pendingProps,w=t!==null?t.memoizedProps:null,l=f.children,Hf(h,f)?l=null:w!==null&&Hf(h,w)&&(i.flags|=32),i.memoizedState!==null&&(h=qd(t,i,ax,null,null,s),Tl._currentValue=h),fc(t,i),zt(t,i,l,s),i.child;case 6:return t===null&&Ue&&((t=s=ut)&&(s=Bx(s,i.pendingProps,ur),s!==null?(i.stateNode=s,en=i,ut=null,t=!0):t=!1),t||Aa(i)),null;case 13:return Xy(t,i,s);case 4:return et(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ds(i,null,l,s):zt(t,i,l,s),i.child;case 11:return $y(t,i,i.type,i.pendingProps,s);case 7:return zt(t,i,i.pendingProps,s),i.child;case 8:return zt(t,i,i.pendingProps.children,s),i.child;case 12:return zt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,pi(i,i.type,l.value),zt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Oa(i),h=Kt(h),l=l(h),i.flags|=1,zt(t,i,l,s),i.child;case 14:return qy(t,i,i.type,i.pendingProps,s);case 15:return Ky(t,i,i.type,i.pendingProps,s);case 19:return Zy(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=pc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Pr(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Hy(t,i,s);case 24:return Oa(i),l=Kt(Ct),t===null?(h=Ld(),h===null&&(h=tt,f=Od(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:l,cache:h},Md(i),pi(i,Ct,h)):((t.lanes&s)!==0&&(zd(t,i),il(i,null,null,s),rl()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),pi(i,Ct,l)):(l=f.cache,pi(i,Ct,l),l!==h.cache&&Dd(i,[Ct],s,!0))),zt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function $r(t){t.flags|=4}function tv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!u0(i)){if(i=An.current,i!==null&&((Le&4194048)===Le?Vr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==Vr))throw tl=jd,zg;t.flags|=8192}}function mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?_o():536870912,t.lanes|=i,js|=i)}function hl(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function px(t,i,s){var l=i.pendingProps;switch(_d(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zr(Ct),Xn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Qo(i)?$r(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Og())),st(i),null;case 26:return s=i.memoizedState,t===null?($r(i),s!==null?(st(i),tv(i,s)):(st(i),i.flags&=-16777217)):s?s!==t.memoizedState?($r(i),st(i),tv(i,s)):(st(i),i.flags&=-16777217):(t.memoizedProps!==l&&$r(i),st(i),i.flags&=-16777217),null;case 27:kr(i),s=xe.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$r(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return st(i),null}t=ge.current,Qo(i)?Ag(i):(t=t0(h,l,s),i.stateNode=t,$r(i))}return st(i),null;case 5:if(kr(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$r(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return st(i),null}if(t=ge.current,Qo(i))Ag(i);else{switch(h=_c(xe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[kt]=i,t[gt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Vt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$r(i)}}return st(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&$r(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=xe.current,Qo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[kt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Qv(t.nodeValue,s)),t||Aa(i)}else t=_c(t).createTextNode(l),t[kt]=i,i.stateNode=t}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[kt]=i}else Go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=Og(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ur(i),i):(Ur(i),null)}if(Ur(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),mc(i,i.updateQueue),st(i),null;case 4:return Xn(),t===null&&Uf(i.stateNode.containerInfo),st(i),null;case 10:return zr(i.type),st(i),null;case 19:if(le(Et),h=i.memoizedState,h===null)return st(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)hl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=cc(t),f!==null){for(i.flags|=128,hl(h,!1),t=f.updateQueue,i.updateQueue=t,mc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Ng(s,t),s=s.sibling;return ie(Et,Et.current&1|2),i.child}t=t.sibling}h.tail!==null&&kn()>vc&&(i.flags|=128,l=!0,hl(h,!1),i.lanes=4194304)}else{if(!l)if(t=cc(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,mc(i,t),hl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Ue)return st(i),null}else 2*kn()-h.renderingStartTime>vc&&s!==536870912&&(i.flags|=128,l=!0,hl(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=kn(),i.sibling=null,t=Et.current,ie(Et,l?t&1|2:t&1),i):(st(i),null);case 22:case 23:return Ur(i),Bd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),s=i.updateQueue,s!==null&&mc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&le(Pa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),zr(Ct),st(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function mx(t,i){switch(_d(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return zr(Ct),Xn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return kr(i),null;case 13:if(Ur(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Go()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(Et),null;case 4:return Xn(),null;case 10:return zr(i.type),null;case 22:case 23:return Ur(i),Bd(),t!==null&&le(Pa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return zr(Ct),null;case 25:return null;default:return null}}function nv(t,i){switch(_d(i),i.tag){case 3:zr(Ct),Xn();break;case 26:case 27:case 5:kr(i);break;case 4:Xn();break;case 13:Ur(i);break;case 19:le(Et);break;case 10:zr(i.type);break;case 22:case 23:Ur(i),Bd(),t!==null&&le(Pa);break;case 24:zr(Ct)}}function dl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,w=s.inst;l=f(),w.destroy=l}s=s.next}while(s!==h)}}catch(S){Ze(i,i.return,S)}}function ki(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var w=l.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,h=i;var R=s,$=S;try{$()}catch(X){Ze(h,R,X)}}}l=l.next}while(l!==f)}}catch(X){Ze(i,i.return,X)}}function rv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{qg(i,s)}catch(l){Ze(t,t.return,l)}}}function iv(t,i,s){s.props=ja(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ze(t,i,l)}}function fl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ze(t,i,h)}}function cr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ze(t,i,h)}else s.current=null}function av(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ze(t,t.return,h)}}function yf(t,i,s){try{var l=t.stateNode;jx(l,t.type,s,i),l[gt]=i}catch(h){Ze(t,t.return,h)}}function sv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ni(t.type)||t.tag===4}function vf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ni(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bf(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Ic));else if(l!==4&&(l===27&&Ni(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(bf(t,i,s),t=t.sibling;t!==null;)bf(t,i,s),t=t.sibling}function gc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Ni(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(gc(t,i,s),t=t.sibling;t!==null;)gc(t,i,s),t=t.sibling}function ov(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Vt(i,l,s),i[kt]=t,i[gt]=s}catch(f){Ze(t,t.return,f)}}var qr=!1,pt=!1,wf=!1,lv=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function gx(t,i){if(t=t.containerInfo,qf=Pc,t=bg(t),yd(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var w=0,S=-1,R=-1,$=0,X=0,Z=t,q=null;t:for(;;){for(var H;Z!==s||h!==0&&Z.nodeType!==3||(S=w+h),Z!==f||l!==0&&Z.nodeType!==3||(R=w+l),Z.nodeType===3&&(w+=Z.nodeValue.length),(H=Z.firstChild)!==null;)q=Z,Z=H;for(;;){if(Z===t)break t;if(q===s&&++$===h&&(S=w),q===f&&++X===l&&(R=w),(H=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=H}s=S===-1||R===-1?null:{start:S,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kf={focusedElem:t,selectionRange:s},Pc=!1,Dt=i;Dt!==null;)if(i=Dt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Dt=t;else for(;Dt!==null;){switch(i=Dt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Se=ja(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Se,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ze(s,s.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Qf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Dt=t;break}Dt=i.return}}function uv(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Si(t,s),l&4&&dl(5,s);break;case 1:if(Si(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(w){Ze(s,s.return,w)}else{var h=ja(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Ze(s,s.return,w)}}l&64&&rv(s),l&512&&fl(s,s.return);break;case 3:if(Si(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{qg(t,i)}catch(w){Ze(s,s.return,w)}}break;case 27:i===null&&l&4&&ov(s);case 26:case 5:Si(t,s),i===null&&l&4&&av(s),l&512&&fl(s,s.return);break;case 12:Si(t,s);break;case 13:Si(t,s),l&4&&dv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Ex.bind(null,s),$x(t,s))));break;case 22:if(l=s.memoizedState!==null||qr,!l){i=i!==null&&i.memoizedState!==null||pt,h=qr;var f=pt;qr=l,(pt=i)&&!f?xi(t,s,(s.subtreeFlags&8772)!==0):Si(t,s),qr=h,pt=f}break;case 30:break;default:Si(t,s)}}function cv(t){var i=t.alternate;i!==null&&(t.alternate=null,cv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ci(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,nn=!1;function Kr(t,i,s){for(s=s.child;s!==null;)hv(t,i,s),s=s.sibling}function hv(t,i,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(lt,s)}catch{}switch(s.tag){case 26:pt||cr(s,i),Kr(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:pt||cr(s,i);var l=it,h=nn;Ni(s.type)&&(it=s.stateNode,nn=!1),Kr(t,i,s),Sl(s.stateNode),it=l,nn=h;break;case 5:pt||cr(s,i);case 6:if(l=it,h=nn,it=null,Kr(t,i,s),it=l,nn=h,it!==null)if(nn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(s.stateNode)}catch(f){Ze(s,i,f)}else try{it.removeChild(s.stateNode)}catch(f){Ze(s,i,f)}break;case 18:it!==null&&(nn?(t=it,Zv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Rl(t)):Zv(it,s.stateNode));break;case 4:l=it,h=nn,it=s.stateNode.containerInfo,nn=!0,Kr(t,i,s),it=l,nn=h;break;case 0:case 11:case 14:case 15:pt||ki(2,s,i),pt||ki(4,s,i),Kr(t,i,s);break;case 1:pt||(cr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&iv(s,i,l)),Kr(t,i,s);break;case 21:Kr(t,i,s);break;case 22:pt=(l=pt)||s.memoizedState!==null,Kr(t,i,s),pt=l;break;default:Kr(t,i,s)}}function dv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(s){Ze(i,i.return,s)}}function yx(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new lv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new lv),i;default:throw Error(a(435,t.tag))}}function kf(t,i){var s=yx(t);i.forEach(function(l){var h=Tx.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function pn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,w=i,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(Ni(S.type)){it=S.stateNode,nn=!1;break e}break;case 5:it=S.stateNode,nn=!1;break e;case 3:case 4:it=S.stateNode.containerInfo,nn=!0;break e}S=S.return}if(it===null)throw Error(a(160));hv(f,w,h),it=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)fv(i,t),i=i.sibling}var Un=null;function fv(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),mn(t),l&4&&(ki(3,t,t.return),dl(3,t),ki(5,t,t.return));break;case 1:pn(i,t),mn(t),l&512&&(pt||s===null||cr(s,s.return)),l&64&&qr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Un;if(pn(i,t),mn(t),l&512&&(pt||s===null||cr(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ha]||f[kt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Vt(f,l,s),f[kt]=t,dt(f),l=f;break e;case"link":var w=o0("link","href",h).get(l+(s.href||""));if(w){for(var S=0;S<w.length;S++)if(f=w[S],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){w.splice(S,1);break t}}f=h.createElement(l),Vt(f,l,s),h.head.appendChild(f);break;case"meta":if(w=o0("meta","content",h).get(l+(s.content||""))){for(S=0;S<w.length;S++)if(f=w[S],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){w.splice(S,1);break t}}f=h.createElement(l),Vt(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[kt]=t,dt(f),l=f}t.stateNode=l}else l0(h,t.type,t.stateNode);else t.stateNode=s0(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?l0(h,t.type,t.stateNode):s0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yf(t,t.memoizedProps,s.memoizedProps)}break;case 27:pn(i,t),mn(t),l&512&&(pt||s===null||cr(s,s.return)),s!==null&&l&4&&yf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(pn(i,t),mn(t),l&512&&(pt||s===null||cr(s,s.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(H){Ze(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(wf=!0);break;case 6:if(pn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(H){Ze(t,t.return,H)}}break;case 3:if(Ac=null,h=Un,Un=Nc(i.containerInfo),pn(i,t),Un=h,mn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Rl(i.containerInfo)}catch(H){Ze(t,t.return,H)}wf&&(wf=!1,pv(t));break;case 4:l=Un,Un=Nc(t.stateNode.containerInfo),pn(i,t),mn(t),Un=l;break;case 12:pn(i,t),mn(t);break;case 13:pn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(If=kn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kf(t,l)));break;case 22:h=t.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,$=qr,X=pt;if(qr=$||h,pt=X||R,pn(i,t),pt=X,qr=$,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||R||qr||pt||Ma(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){R=s=i;try{if(f=R.stateNode,h)w=f.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=R.stateNode;var Z=R.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Ze(R,R.return,H)}}}else if(i.tag===6){if(s===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(H){Ze(R,R.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,kf(t,s))));break;case 19:pn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kf(t,l)));break;case 30:break;case 21:break;default:pn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(sv(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=vf(t);gc(t,f,h);break;case 5:var w=s.stateNode;s.flags&32&&(xn(w,""),s.flags&=-33);var S=vf(t);gc(t,S,w);break;case 3:case 4:var R=s.stateNode.containerInfo,$=vf(t);bf(t,$,R);break;default:throw Error(a(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function pv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;pv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Si(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)uv(t,i.alternate,i),i=i.sibling}function Ma(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ki(4,i,i.return),Ma(i);break;case 1:cr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&iv(i,i.return,s),Ma(i);break;case 27:Sl(i.stateNode);case 26:case 5:cr(i,i.return),Ma(i);break;case 22:i.memoizedState===null&&Ma(i);break;case 30:Ma(i);break;default:Ma(i)}t=t.sibling}}function xi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,w=f.flags;switch(f.tag){case 0:case 11:case 15:xi(h,f,s),dl(4,f);break;case 1:if(xi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){Ze(l,l.return,$)}if(l=f,h=l.updateQueue,h!==null){var S=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)$g(R[h],S)}catch($){Ze(l,l.return,$)}}s&&w&64&&rv(f),fl(f,f.return);break;case 27:ov(f);case 26:case 5:xi(h,f,s),s&&l===null&&w&4&&av(f),fl(f,f.return);break;case 12:xi(h,f,s);break;case 13:xi(h,f,s),s&&w&4&&dv(h,f);break;case 22:f.memoizedState===null&&xi(h,f,s),fl(f,f.return);break;case 30:break;default:xi(h,f,s)}i=i.sibling}}function Sf(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Jo(s))}function xf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t))}function hr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)mv(t,i,s,l),i=i.sibling}function mv(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:hr(t,i,s,l),h&2048&&dl(9,i);break;case 1:hr(t,i,s,l);break;case 3:hr(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){hr(t,i,s,l),t=i.stateNode;try{var f=i.memoizedProps,w=f.id,S=f.onPostCommit;typeof S=="function"&&S(w,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ze(i,i.return,R)}}else hr(t,i,s,l);break;case 13:hr(t,i,s,l);break;case 23:break;case 22:f=i.stateNode,w=i.alternate,i.memoizedState!==null?f._visibility&2?hr(t,i,s,l):pl(t,i):f._visibility&2?hr(t,i,s,l):(f._visibility|=2,Os(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&Sf(w,i);break;case 24:hr(t,i,s,l),h&2048&&xf(i.alternate,i);break;default:hr(t,i,s,l)}}function Os(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,w=i,S=s,R=l,$=w.flags;switch(w.tag){case 0:case 11:case 15:Os(f,w,S,R,h),dl(8,w);break;case 23:break;case 22:var X=w.stateNode;w.memoizedState!==null?X._visibility&2?Os(f,w,S,R,h):pl(f,w):(X._visibility|=2,Os(f,w,S,R,h)),h&&$&2048&&Sf(w.alternate,w);break;case 24:Os(f,w,S,R,h),h&&$&2048&&xf(w.alternate,w);break;default:Os(f,w,S,R,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:pl(s,l),h&2048&&Sf(l.alternate,l);break;case 24:pl(s,l),h&2048&&xf(l.alternate,l);break;default:pl(s,l)}i=i.sibling}}var ml=8192;function Ps(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)gv(t),t=t.sibling}function gv(t){switch(t.tag){case 26:Ps(t),t.flags&ml&&t.memoizedState!==null&&nC(Un,t.memoizedState,t.memoizedProps);break;case 5:Ps(t);break;case 3:case 4:var i=Un;Un=Nc(t.stateNode.containerInfo),Ps(t),Un=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ml,ml=16777216,Ps(t),ml=i):Ps(t));break;default:Ps(t)}}function yv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function gl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Dt=l,bv(l,t)}yv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vv(t),t=t.sibling}function vv(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&ki(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,yc(t)):gl(t);break;default:gl(t)}}function yc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Dt=l,bv(l,t)}yv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ki(8,i,i.return),yc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,yc(i));break;default:yc(i)}t=t.sibling}}function bv(t,i){for(;Dt!==null;){var s=Dt;switch(s.tag){case 0:case 11:case 15:ki(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Dt=l;else e:for(s=t;Dt!==null;){l=Dt;var h=l.sibling,f=l.return;if(cv(l),l===s){Dt=null;break e}if(h!==null){h.return=f,Dt=h;break e}Dt=f}}}var vx={getCacheForType:function(t){var i=Kt(Ct),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},bx=typeof WeakMap=="function"?WeakMap:Map,Ke=0,tt=null,Ae=null,Le=0,He=0,gn=null,Ci=!1,Ls=!1,Cf=!1,Hr=0,ct=0,Ei=0,za=0,Ef=0,Dn=0,js=0,yl=null,rn=null,Tf=!1,If=0,vc=1/0,bc=null,Ti=null,Ft=0,Ii=null,Ms=null,zs=0,_f=0,Nf=null,wv=null,vl=0,Rf=null;function yn(){if((Ke&2)!==0&&Le!==0)return Le&-Le;if(Y.T!==null){var t=Es;return t!==0?t:Mf()}return li()}function kv(){Dn===0&&(Dn=(Le&536870912)===0||Ue?Io():536870912);var t=An.current;return t!==null&&(t.flags|=32),Dn}function vn(t,i,s){(t===tt&&(He===2||He===9)||t.cancelPendingCommit!==null)&&(Fs(t,0),_i(t,Le,Dn,!1)),xr(t,s),((Ke&2)===0||t!==tt)&&(t===tt&&((Ke&2)===0&&(za|=s),ct===4&&_i(t,Le,Dn,!1)),dr(t))}function Sv(t,i,s){if((Ke&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||ca(t,i),h=l?Sx(t,i):Of(t,i,!0),f=l;do{if(h===0){Ls&&!l&&_i(t,i,0,!1);break}else{if(s=t.current.alternate,f&&!wx(s)){h=Of(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var S=t;h=yl;var R=S.current.memoizedState.isDehydrated;if(R&&(Fs(S,w).flags|=256),w=Of(S,w,!1),w!==2){if(Cf&&!R){S.errorRecoveryDisabledLanes|=f,za|=f,h=4;break e}f=rn,rn=h,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}h=w}if(f=!1,h!==2)continue}}if(h===1){Fs(t,0),_i(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:_i(l,i,Dn,!Ci);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=If+300-kn(),10<h)){if(_i(l,i,Dn,!Ci),ns(l,0,!0)!==0)break e;l.timeoutHandle=Xv(xv.bind(null,l,s,rn,bc,Tf,i,Dn,za,js,Ci,f,2,-0,0),h);break e}xv(l,s,rn,bc,Tf,i,Dn,za,js,Ci,f,0,-0,0)}}break}while(!0);dr(t)}function xv(t,i,s,l,h,f,w,S,R,$,X,Z,q,H){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(El={stylesheets:null,count:0,unsuspend:tC},gv(i),Z=rC(),Z!==null)){t.cancelPendingCommit=Z(Rv.bind(null,t,i,f,s,l,h,w,S,R,X,1,q,H)),_i(t,f,w,!$);return}Rv(t,i,f,s,l,h,w,S,R)}function wx(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _i(t,i,s,l){i&=~Ef,i&=~za,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-qt(h),w=1<<f;l[f]=-1,h&=~w}s!==0&&Jn(t,s,i)}function wc(){return(Ke&6)===0?(bl(0),!1):!0}function Af(){if(Ae!==null){if(He===0)var t=Ae.return;else t=Ae,Mr=Da=null,Wd(t),As=null,ul=0,t=Ae;for(;t!==null;)nv(t.alternate,t),t=t.return;Ae=null}}function Fs(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,zx(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Af(),tt=t,Ae=s=Pr(t.current,null),Le=i,He=0,gn=null,Ci=!1,Ls=ca(t,i),Cf=!1,js=Dn=Ef=za=Ei=ct=0,rn=yl=null,Tf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-qt(l),f=1<<h;i|=t[h],l&=~f}return Hr=i,Bu(),s}function Cv(t,i){Ie=null,Y.H=oc,i===el||i===Xu?(i=Ug(),He=3):i===zg?(i=Ug(),He=4):He=i===By?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Ae===null&&(ct=1,dc(t,In(i,t.current)))}function Ev(){var t=Y.H;return Y.H=oc,t===null?oc:t}function Tv(){var t=Y.A;return Y.A=vx,t}function Df(){ct=4,Ci||(Le&4194048)!==Le&&An.current!==null||(Ls=!0),(Ei&134217727)===0&&(za&134217727)===0||tt===null||_i(tt,Le,Dn,!1)}function Of(t,i,s){var l=Ke;Ke|=2;var h=Ev(),f=Tv();(tt!==t||Le!==i)&&(bc=null,Fs(t,i)),i=!1;var w=ct;e:do try{if(He!==0&&Ae!==null){var S=Ae,R=gn;switch(He){case 8:Af(),w=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(i=!0);var $=He;if(He=0,gn=null,Vs(t,S,R,$),s&&Ls){w=0;break e}break;default:$=He,He=0,gn=null,Vs(t,S,R,$)}}kx(),w=ct;break}catch(X){Cv(t,X)}while(!0);return i&&t.shellSuspendCounter++,Mr=Da=null,Ke=l,Y.H=h,Y.A=f,Ae===null&&(tt=null,Le=0,Bu()),w}function kx(){for(;Ae!==null;)Iv(Ae)}function Sx(t,i){var s=Ke;Ke|=2;var l=Ev(),h=Tv();tt!==t||Le!==i?(bc=null,vc=kn()+500,Fs(t,i)):Ls=ca(t,i);e:do try{if(He!==0&&Ae!==null){i=Ae;var f=gn;t:switch(He){case 1:He=0,gn=null,Vs(t,i,f,1);break;case 2:case 9:if(Fg(f)){He=0,gn=null,_v(i);break}i=function(){He!==2&&He!==9||tt!==t||(He=7),dr(t)},f.then(i,i);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Fg(f)?(He=0,gn=null,_v(i)):(He=0,gn=null,Vs(t,i,f,7));break;case 5:var w=null;switch(Ae.tag){case 26:w=Ae.memoizedState;case 5:case 27:var S=Ae;if(!w||u0(w)){He=0,gn=null;var R=S.sibling;if(R!==null)Ae=R;else{var $=S.return;$!==null?(Ae=$,kc($)):Ae=null}break t}}He=0,gn=null,Vs(t,i,f,5);break;case 6:He=0,gn=null,Vs(t,i,f,6);break;case 8:Af(),ct=6;break e;default:throw Error(a(462))}}xx();break}catch(X){Cv(t,X)}while(!0);return Mr=Da=null,Y.H=l,Y.A=h,Ke=s,Ae!==null?0:(tt=null,Le=0,Bu(),ct)}function xx(){for(;Ae!==null&&!xo();)Iv(Ae)}function Iv(t){var i=ev(t.alternate,t,Hr);t.memoizedProps=t.pendingProps,i===null?kc(t):Ae=i}function _v(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Qy(s,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=Qy(s,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Wd(i);default:nv(s,i),i=Ae=Ng(i,Hr),i=ev(s,i,Hr)}t.memoizedProps=t.pendingProps,i===null?kc(t):Ae=i}function Vs(t,i,s,l){Mr=Da=null,Wd(i),As=null,ul=0;var h=i.return;try{if(dx(t,h,i,s,Le)){ct=1,dc(t,In(s,t.current)),Ae=null;return}}catch(f){if(h!==null)throw Ae=h,f;ct=1,dc(t,In(s,t.current)),Ae=null;return}i.flags&32768?(Ue||l===1?t=!0:Ls||(Le&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),Nv(i,t)):kc(i)}function kc(t){var i=t;do{if((i.flags&32768)!==0){Nv(i,Ci);return}t=i.return;var s=px(i.alternate,i,Hr);if(s!==null){Ae=s;return}if(i=i.sibling,i!==null){Ae=i;return}Ae=i=t}while(i!==null);ct===0&&(ct=5)}function Nv(t,i){do{var s=mx(t.alternate,t);if(s!==null){s.flags&=32767,Ae=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=s}while(t!==null);ct=6,Ae=null}function Rv(t,i,s,l,h,f,w,S,R){t.cancelPendingCommit=null;do Sc();while(Ft!==0);if((Ke&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=Sd,No(t,s,f,w,S,R),t===tt&&(Ae=tt=null,Le=0),Ms=i,Ii=t,zs=s,_f=f,Nf=h,wv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ix(sa,function(){return Lv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=oe.p,oe.p=2,w=Ke,Ke|=4;try{gx(t,i,s)}finally{Ke=w,oe.p=h,Y.T=l}}Ft=1,Av(),Dv(),Ov()}}function Av(){if(Ft===1){Ft=0;var t=Ii,i=Ms,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Ke;Ke|=4;try{fv(i,t);var f=Kf,w=bg(t.containerInfo),S=f.focusedElem,R=f.selectionRange;if(w!==S&&S&&S.ownerDocument&&vg(S.ownerDocument.documentElement,S)){if(R!==null&&yd(S)){var $=R.start,X=R.end;if(X===void 0&&(X=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(X,S.value.length);else{var Z=S.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var H=q.getSelection(),Se=S.textContent.length,ye=Math.min(R.start,Se),Xe=R.end===void 0?ye:Math.min(R.end,Se);!H.extend&&ye>Xe&&(w=Xe,Xe=ye,ye=w);var V=yg(S,ye),L=yg(S,Xe);if(V&&L&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==L.node||H.focusOffset!==L.offset)){var B=Z.createRange();B.setStart(V.node,V.offset),H.removeAllRanges(),ye>Xe?(H.addRange(B),H.extend(L.node,L.offset)):(B.setEnd(L.node,L.offset),H.addRange(B))}}}}for(Z=[],H=S;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var J=Z[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Pc=!!qf,Kf=qf=null}finally{Ke=h,oe.p=l,Y.T=s}}t.current=i,Ft=2}}function Dv(){if(Ft===2){Ft=0;var t=Ii,i=Ms,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Ke;Ke|=4;try{uv(t,i.alternate,i)}finally{Ke=h,oe.p=l,Y.T=s}}Ft=3}}function Ov(){if(Ft===4||Ft===3){Ft=0,yu();var t=Ii,i=Ms,s=zs,l=wv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,Ms=Ii=null,Pv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ti=null),rs(s),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=oe.p,oe.p=2,Y.T=null;try{for(var f=t.onRecoverableError,w=0;w<l.length;w++){var S=l[w];f(S.value,{componentStack:S.stack})}}finally{Y.T=i,oe.p=h}}(zs&3)!==0&&Sc(),dr(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Rf?vl++:(vl=0,Rf=t):vl=0,bl(0)}}function Pv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Jo(i)))}function Sc(t){return Av(),Dv(),Ov(),Lv()}function Lv(){if(Ft!==5)return!1;var t=Ii,i=_f;_f=0;var s=rs(zs),l=Y.T,h=oe.p;try{oe.p=32>s?32:s,Y.T=null,s=Nf,Nf=null;var f=Ii,w=zs;if(Ft=0,Ms=Ii=null,zs=0,(Ke&6)!==0)throw Error(a(331));var S=Ke;if(Ke|=4,vv(f.current),mv(f,f.current,w,s),Ke=S,bl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(lt,f)}catch{}return!0}finally{oe.p=h,Y.T=l,Pv(t,i)}}function jv(t,i,s){i=In(s,i),i=lf(t.stateNode,i,2),t=yi(t,i,2),t!==null&&(xr(t,2),dr(t))}function Ze(t,i,s){if(t.tag===3)jv(t,t,s);else for(;i!==null;){if(i.tag===3){jv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ti===null||!Ti.has(l))){t=In(s,t),s=Vy(2),l=yi(i,s,2),l!==null&&(Uy(s,l,i,t),xr(l,2),dr(l));break}}i=i.return}}function Pf(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new bx;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Cf=!0,h.add(s),t=Cx.bind(null,t,i,s),i.then(t,t))}function Cx(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,tt===t&&(Le&s)===s&&(ct===4||ct===3&&(Le&62914560)===Le&&300>kn()-If?(Ke&2)===0&&Fs(t,0):Ef|=s,js===Le&&(js=0)),dr(t)}function Mv(t,i){i===0&&(i=_o()),t=ks(t,i),t!==null&&(xr(t,i),dr(t))}function Ex(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Mv(t,s)}function Tx(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Mv(t,s)}function Ix(t,i){return ia(t,i)}var xc=null,Us=null,Lf=!1,Cc=!1,jf=!1,Fa=0;function dr(t){t!==Us&&t.next===null&&(Us===null?xc=Us=t:Us=Us.next=t),Cc=!0,Lf||(Lf=!0,Nx())}function bl(t,i){if(!jf&&Cc){jf=!0;do for(var s=!1,l=xc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var w=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-qt(42|t)+1)-1,f&=h&~(w&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Uv(l,f))}else f=Le,f=ns(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ca(l,f)||(s=!0,Uv(l,f));l=l.next}while(s);jf=!1}}function _x(){zv()}function zv(){Cc=Lf=!1;var t=0;Fa!==0&&(Mx()&&(t=Fa),Fa=0);for(var i=kn(),s=null,l=xc;l!==null;){var h=l.next,f=Fv(l,i);f===0?(l.next=null,s===null?xc=h:s.next=h,h===null&&(Us=s)):(s=l,(t!==0||(f&3)!==0)&&(Cc=!0)),l=h}bl(t)}function Fv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var w=31-qt(f),S=1<<w,R=h[w];R===-1?((S&s)===0||(S&l)!==0)&&(h[w]=To(S,i)):R<=i&&(t.expiredLanes|=S),f&=~S}if(i=tt,s=Le,s=ns(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(He===2||He===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&aa(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ca(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&aa(l),rs(s)){case 2:case 8:s=es;break;case 32:s=sa;break;case 268435456:s=ts;break;default:s=sa}return l=Vv.bind(null,t),s=ia(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&aa(l),t.callbackPriority=2,t.callbackNode=null,2}function Vv(t,i){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Sc()&&t.callbackNode!==s)return null;var l=Le;return l=ns(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Sv(t,l,i),Fv(t,kn()),t.callbackNode!=null&&t.callbackNode===s?Vv.bind(null,t):null)}function Uv(t,i){if(Sc())return null;Sv(t,i,!0)}function Nx(){Fx(function(){(Ke&6)!==0?ia(Co,_x):zv()})}function Mf(){return Fa===0&&(Fa=Io()),Fa}function Bv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:us(""+t)}function $v(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function Rx(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var f=Bv((h[gt]||null).action),w=l.submitter;w&&(i=(i=w[gt]||null)?Bv(i.formAction):w.getAttribute("formAction"),i!==null&&(f=i,w=null));var S=new cs("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fa!==0){var R=w?$v(h,w):new FormData(h);nf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(S.preventDefault(),R=w?$v(h,w):new FormData(h),nf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var zf=0;zf<kd.length;zf++){var Ff=kd[zf],Ax=Ff.toLowerCase(),Dx=Ff[0].toUpperCase()+Ff.slice(1);Vn(Ax,"on"+Dx)}Vn(Sg,"onAnimationEnd"),Vn(xg,"onAnimationIteration"),Vn(Cg,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(G1,"onTransitionRun"),Vn(Y1,"onTransitionStart"),Vn(X1,"onTransitionCancel"),Vn(Eg,"onTransitionEnd"),Er("onMouseEnter",["mouseout","mouseover"]),Er("onMouseLeave",["mouseout","mouseover"]),Er("onPointerEnter",["pointerout","pointerover"]),Er("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ox=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function qv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var w=l.length-1;0<=w;w--){var S=l[w],R=S.instance,$=S.currentTarget;if(S=S.listener,R!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=$;try{f(h)}catch(X){hc(X)}h.currentTarget=null,f=R}else for(w=0;w<l.length;w++){if(S=l[w],R=S.instance,$=S.currentTarget,S=S.listener,R!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=$;try{f(h)}catch(X){hc(X)}h.currentTarget=null,f=R}}}}function De(t,i){var s=i[Ao];s===void 0&&(s=i[Ao]=new Set);var l=t+"__bubble";s.has(l)||(Kv(i,t,2,!1),s.add(l))}function Vf(t,i,s){var l=0;i&&(l|=4),Kv(s,t,l,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Uf(t){if(!t[Ec]){t[Ec]=!0,Do.forEach(function(s){s!=="selectionchange"&&(Ox.has(s)||Vf(s,!1,t),Vf(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,Vf("selectionchange",!1,i))}}function Kv(t,i,s,l){switch(m0(i)){case 2:var h=sC;break;case 8:h=oC;break;default:h=tp}s=h.bind(null,i,s,t),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Bf(t,i,s,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var S=l.stateNode.containerInfo;if(S===h)break;if(w===4)for(w=l.return;w!==null;){var R=w.tag;if((R===3||R===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;S!==null;){if(w=Cr(S),w===null)return;if(R=w.tag,R===5||R===6||R===26||R===27){l=f=w;continue e}S=S.parentNode}}l=l.return}Iu(function(){var $=f,X=Cn(s),Z=[];e:{var q=Tg.get(t);if(q!==void 0){var H=cs,Se=t;switch(t){case"keypress":if(ir(s)===0)break e;case"keydown":case"keyup":H=gs;break;case"focusin":Se="focus",H=fs;break;case"focusout":Se="blur",H=fs;break;case"beforeblur":case"afterblur":H=fs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Lu;break;case Sg:case xg:case Cg:H=ps;break;case Eg:H=Mu;break;case"scroll":case"scrollend":H=_u;break;case"wheel":H=ys;break;case"copy":case"cut":case"paste":H=ms;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=qo;break;case"toggle":case"beforetoggle":H=Fu}var ye=(i&4)!==0,Xe=!ye&&(t==="scroll"||t==="scrollend"),V=ye?q!==null?q+"Capture":null:q;ye=[];for(var L=$,B;L!==null;){var J=L;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||V===null||(J=va(L,V),J!=null&&ye.push(kl(L,J,B))),Xe)break;L=L.return}0<ye.length&&(q=new H(q,Se,null,s,X),Z.push({event:q,listeners:ye}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&s!==_r&&(Se=s.relatedTarget||s.fromElement)&&(Cr(Se)||Se[Sn]))break e;if((H||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Se=s.relatedTarget||s.toElement,H=$,Se=Se?Cr(Se):null,Se!==null&&(Xe=u(Se),ye=Se.tag,Se!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Se=null)):(H=null,Se=$),H!==Se)){if(ye=Tn,J="onMouseLeave",V="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(ye=qo,J="onPointerLeave",V="onPointerEnter",L="pointer"),Xe=H==null?q:er(H),B=Se==null?q:er(Se),q=new ye(J,L+"leave",H,s,X),q.target=Xe,q.relatedTarget=B,J=null,Cr(X)===$&&(ye=new ye(V,L+"enter",Se,s,X),ye.target=B,ye.relatedTarget=Xe,J=ye),Xe=J,H&&Se)t:{for(ye=H,V=Se,L=0,B=ye;B;B=Bs(B))L++;for(B=0,J=V;J;J=Bs(J))B++;for(;0<L-B;)ye=Bs(ye),L--;for(;0<B-L;)V=Bs(V),B--;for(;L--;){if(ye===V||V!==null&&ye===V.alternate)break t;ye=Bs(ye),V=Bs(V)}ye=null}else ye=null;H!==null&&Hv(Z,q,H,ye,!1),Se!==null&&Xe!==null&&Hv(Z,Xe,Se,ye,!0)}}e:{if(q=$?er($):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var de=hg;else if(jt(q))if(dg)de=H1;else{de=q1;var Re=$1}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?$&&Mo($.elementType)&&(de=hg):de=K1;if(de&&(de=de(t,$))){Or(Z,de,s,X);break e}Re&&Re(t,q,$),t==="focusout"&&$&&q.type==="number"&&$.memoizedProps.value!=null&&di(q,"number",q.value)}switch(Re=$?er($):window,t){case"focusin":(jt(Re)||Re.contentEditable==="true")&&(vs=Re,vd=$,Wo=null);break;case"focusout":Wo=vd=vs=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,wg(Z,s,X);break;case"selectionchange":if(Q1)break;case"keydown":case"keyup":wg(Z,s,X)}var fe;if(or)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Me?Q(t,s)&&(ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(b&&s.locale!=="ko"&&(Me||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Me&&(fe=Fo()):(rr=X,fi="value"in rr?rr.value:rr.textContent,Me=!0)),Re=Tc($,ve),0<Re.length&&(ve=new Bo(ve,t,null,s,X),Z.push({event:ve,listeners:Re}),fe?ve.data=fe:(fe=se(s),fe!==null&&(ve.data=fe)))),(fe=g?xt(t,s):Ve(t,s))&&(ve=Tc($,"onBeforeInput"),0<ve.length&&(Re=new Bo("onBeforeInput","beforeinput",null,s,X),Z.push({event:Re,listeners:ve}),Re.data=fe)),Rx(Z,t,$,s,X)}qv(Z,i)})}function kl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Tc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=va(t,s),h!=null&&l.unshift(kl(t,h,f)),h=va(t,i),h!=null&&l.push(kl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hv(t,i,s,l,h){for(var f=i._reactName,w=[];s!==null&&s!==l;){var S=s,R=S.alternate,$=S.stateNode;if(S=S.tag,R!==null&&R===l)break;S!==5&&S!==26&&S!==27||$===null||(R=$,h?($=va(s,f),$!=null&&w.unshift(kl(s,$,R))):h||($=va(s,f),$!=null&&w.push(kl(s,$,R)))),s=s.return}w.length!==0&&t.push({event:i,listeners:w})}var Px=/\r\n?/g,Lx=/\u0000|\uFFFD/g;function Wv(t){return(typeof t=="string"?t:""+t).replace(Px,`
`).replace(Lx,"")}function Qv(t,i){return i=Wv(i),Wv(t)===i}function Ic(){}function Ye(t,i,s,l,h,f){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&xn(t,""+l);break;case"className":tr(t,"class",l);break;case"tabIndex":tr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(t,s,l);break;case"style":jo(t,l,f);break;case"data":if(i!=="object"){tr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=us(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&Ye(t,i,"name",h.name,h,null),Ye(t,i,"formEncType",h.formEncType,h,null),Ye(t,i,"formMethod",h.formMethod,h,null),Ye(t,i,"formTarget",h.formTarget,h,null)):(Ye(t,i,"encType",h.encType,h,null),Ye(t,i,"method",h.method,h,null),Ye(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=us(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Ic);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=us(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":De("beforetoggle",t),De("toggle",t),hi(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hd.get(s)||s,hi(t,s,l))}}function $f(t,i,s,l,h,f){switch(s){case"style":jo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!is.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=t[gt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):hi(t,s,l)}}}function Vt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var w=s[f];if(w!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ye(t,i,f,w,s,null)}}h&&Ye(t,i,"srcSet",s.srcSet,s,null),l&&Ye(t,i,"src",s.src,s,null);return;case"input":De("invalid",t);var S=f=w=h=null,R=null,$=null;for(l in s)if(s.hasOwnProperty(l)){var X=s[l];if(X!=null)switch(l){case"name":h=X;break;case"type":w=X;break;case"checked":R=X;break;case"defaultChecked":$=X;break;case"value":f=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:Ye(t,i,l,X,s,null)}}ma(t,f,S,R,$,w,h,!1),ls(t);return;case"select":De("invalid",t),l=w=f=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":w=S;break;case"multiple":l=S;default:Ye(t,i,h,S,s,null)}i=f,s=w,t.multiple=!!l,i!=null?Ir(t,!!l,i,!1):s!=null&&Ir(t,!!l,s,!0);return;case"textarea":De("invalid",t),f=h=l=null;for(w in s)if(s.hasOwnProperty(w)&&(S=s[w],S!=null))switch(w){case"value":l=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Ye(t,i,w,S,s,null)}ga(t,l,h,f),ls(t);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,i,R,l,s,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)De(wl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in s)if(s.hasOwnProperty($)&&(l=s[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ye(t,i,$,l,s,null)}return;default:if(Mo(i)){for(X in s)s.hasOwnProperty(X)&&(l=s[X],l!==void 0&&$f(t,i,X,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&Ye(t,i,S,l,s,null))}function jx(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,w=null,S=null,R=null,$=null,X=null;for(H in s){var Z=s[H];if(s.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(H)||Ye(t,i,H,null,l,Z)}}for(var q in l){var H=l[q];if(Z=s[q],l.hasOwnProperty(q)&&(H!=null||Z!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":$=H;break;case"defaultChecked":X=H;break;case"value":w=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:H!==Z&&Ye(t,i,q,H,l,Z)}}hn(t,w,S,R,$,X,f,h);return;case"select":H=w=S=q=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(f)||Ye(t,i,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":q=f;break;case"defaultValue":S=f;break;case"multiple":w=f;default:f!==R&&Ye(t,i,h,f,l,R)}i=S,s=w,l=H,q!=null?Ir(t,!!s,q,!1):!!l!=!!s&&(i!=null?Ir(t,!!s,i,!0):Ir(t,!!s,s?[]:"",!1));return;case"textarea":H=q=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ye(t,i,S,null,l,h)}for(w in l)if(h=l[w],f=s[w],l.hasOwnProperty(w)&&(h!=null||f!=null))switch(w){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Ye(t,i,w,h,l,f)}Qe(t,q,H);return;case"option":for(var Se in s)if(q=s[Se],s.hasOwnProperty(Se)&&q!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Ye(t,i,Se,null,l,q)}for(R in l)if(q=l[R],H=s[R],l.hasOwnProperty(R)&&q!==H&&(q!=null||H!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ye(t,i,R,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)q=s[ye],s.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&Ye(t,i,ye,null,l,q);for($ in l)if(q=l[$],H=s[$],l.hasOwnProperty($)&&q!==H&&(q!=null||H!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:Ye(t,i,$,q,l,H)}return;default:if(Mo(i)){for(var Xe in s)q=s[Xe],s.hasOwnProperty(Xe)&&q!==void 0&&!l.hasOwnProperty(Xe)&&$f(t,i,Xe,void 0,l,q);for(X in l)q=l[X],H=s[X],!l.hasOwnProperty(X)||q===H||q===void 0&&H===void 0||$f(t,i,X,q,l,H);return}}for(var V in s)q=s[V],s.hasOwnProperty(V)&&q!=null&&!l.hasOwnProperty(V)&&Ye(t,i,V,null,l,q);for(Z in l)q=l[Z],H=s[Z],!l.hasOwnProperty(Z)||q===H||q==null&&H==null||Ye(t,i,Z,q,l,H)}var qf=null,Kf=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function Gv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wf=null;function Mx(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var Xv=typeof setTimeout=="function"?setTimeout:void 0,zx=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,Fx=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(t){return Jv.resolve(null).then(t).catch(Vx)}:Xv;function Vx(t){setTimeout(function(){throw t})}function Ni(t){return t==="head"}function Zv(t,i){var s=i,l=0,h=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var w=t.ownerDocument;if(s&1&&Sl(w.documentElement),s&2&&Sl(w.body),s&4)for(s=w.head,Sl(s),w=s.firstChild;w;){var S=w.nextSibling,R=w.nodeName;w[ha]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=S}}if(h===0){t.removeChild(f),Rl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Rl(i)}function Qf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qf(s),ci(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Ux(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ha])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence")||f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function Bx(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Bn(t.nextSibling),t===null))return null;return t}function Gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $x(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Yf=null;function e0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function t0(t,i,s){switch(i=_c(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Sl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ci(t)}var On=new Map,n0=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wr=oe.d;oe.d={f:qx,r:Kx,D:Hx,C:Wx,L:Qx,m:Gx,X:Xx,S:Yx,M:Jx};function qx(){var t=Wr.f(),i=wc();return t||i}function Kx(t){var i=Zn(t);i!==null&&i.tag===5&&i.type==="form"?Sy(i):Wr.r(t)}var $s=typeof document>"u"?null:document;function r0(t,i,s){var l=$s;if(l&&typeof i=="string"&&i){var h=St(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),n0.has(h)||(n0.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Vt(i,"link",t),dt(i),l.head.appendChild(i)))}}function Hx(t){Wr.D(t),r0("dns-prefetch",t,null)}function Wx(t,i){Wr.C(t,i),r0("preconnect",t,i)}function Qx(t,i,s){Wr.L(t,i,s);var l=$s;if(l&&t&&i){var h='link[rel="preload"][as="'+St(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+St(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+St(s.imageSizes)+'"]')):h+='[href="'+St(t)+'"]';var f=h;switch(i){case"style":f=qs(t);break;case"script":f=Ks(t)}On.has(f)||(t=k({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),On.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(xl(f))||i==="script"&&l.querySelector(Cl(f))||(i=l.createElement("link"),Vt(i,"link",t),dt(i),l.head.appendChild(i)))}}function Gx(t,i){Wr.m(t,i);var s=$s;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ks(t)}if(!On.has(f)&&(t=k({rel:"modulepreload",href:t},i),On.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Cl(f)))return}l=s.createElement("link"),Vt(l,"link",t),dt(l),s.head.appendChild(l)}}}function Yx(t,i,s){Wr.S(t,i,s);var l=$s;if(l&&t){var h=Xt(l).hoistableStyles,f=qs(t);i=i||"default";var w=h.get(f);if(!w){var S={loading:0,preload:null};if(w=l.querySelector(xl(f)))S.loading=5;else{t=k({rel:"stylesheet",href:t,"data-precedence":i},s),(s=On.get(f))&&Xf(t,s);var R=w=l.createElement("link");dt(R),Vt(R,"link",t),R._p=new Promise(function($,X){R.onload=$,R.onerror=X}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Rc(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:S},h.set(f,w)}}}function Xx(t,i){Wr.X(t,i);var s=$s;if(s&&t){var l=Xt(s).hoistableScripts,h=Ks(t),f=l.get(h);f||(f=s.querySelector(Cl(h)),f||(t=k({src:t,async:!0},i),(i=On.get(h))&&Jf(t,i),f=s.createElement("script"),dt(f),Vt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Jx(t,i){Wr.M(t,i);var s=$s;if(s&&t){var l=Xt(s).hoistableScripts,h=Ks(t),f=l.get(h);f||(f=s.querySelector(Cl(h)),f||(t=k({src:t,async:!0,type:"module"},i),(i=On.get(h))&&Jf(t,i),f=s.createElement("script"),dt(f),Vt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function i0(t,i,s,l){var h=(h=xe.current)?Nc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=qs(s.href),s=Xt(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=qs(s.href);var f=Xt(h).hoistableStyles,w=f.get(t);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,w),(f=h.querySelector(xl(t)))&&!f._p&&(w.instance=f,w.state.loading=5),On.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(t,s),f||Zx(h,t,s,w.state))),i&&l===null)throw Error(a(528,""));return w}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ks(s),s=Xt(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function qs(t){return'href="'+St(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function a0(t){return k({},t,{"data-precedence":t.precedence,precedence:null})}function Zx(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Vt(i,"link",s),dt(i),t.head.appendChild(i))}function Ks(t){return'[src="'+St(t)+'"]'}function Cl(t){return"script[async]"+t}function s0(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+St(s.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=k({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),Vt(l,"style",h),Rc(l,s.precedence,t),i.instance=l;case"stylesheet":h=qs(s.href);var f=t.querySelector(xl(h));if(f)return i.state.loading|=4,i.instance=f,dt(f),f;l=a0(s),(h=On.get(h))&&Xf(l,h),f=(t.ownerDocument||t).createElement("link"),dt(f);var w=f;return w._p=new Promise(function(S,R){w.onload=S,w.onerror=R}),Vt(f,"link",l),i.state.loading|=4,Rc(f,s.precedence,t),i.instance=f;case"script":return f=Ks(s.src),(h=t.querySelector(Cl(f)))?(i.instance=h,dt(h),h):(l=s,(h=On.get(f))&&(l=k({},s),Jf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),Vt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Rc(l,s.precedence,t));return i.instance}function Rc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,w=0;w<l.length;w++){var S=l[w];if(S.dataset.precedence===i)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Xf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Jf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ac=null;function o0(t,i,s){if(Ac===null){var l=new Map,h=Ac=new Map;h.set(s,l)}else h=Ac,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[ha]||f[kt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var w=f.getAttribute(i)||"";w=t+w;var S=l.get(w);S?S.push(f):l.set(w,[f])}}return l}function l0(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function eC(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function u0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var El=null;function tC(){}function nC(t,i,s){if(El===null)throw Error(a(475));var l=El;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qs(s.href),f=t.querySelector(xl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Dc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,dt(f);return}f=t.ownerDocument||t,s=a0(s),(h=On.get(h))&&Xf(s,h),f=f.createElement("link"),dt(f);var w=f;w._p=new Promise(function(S,R){w.onload=S,w.onerror=R}),Vt(f,"link",s),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Dc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function rC(){if(El===null)throw Error(a(475));var t=El;return t.stylesheets&&t.count===0&&Zf(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Zf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Dc(){if(this.count--,this.count===0){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Zf(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,i.forEach(iC,t),Oc=null,Dc.call(t))}function iC(t,i){if(!(i.state.loading&4)){var s=Oc.get(t);if(s)var l=s.get(null);else{s=new Map,Oc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var w=h[f];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(s.set(w.dataset.precedence,w),l=w)}l&&s.set(null,l)}h=i.instance,w=h.getAttribute("data-precedence"),f=s.get(w)||l,f===l&&s.set(null,h),s.set(w,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Tl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function aC(t,i,s,l,h,f,w,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function c0(t,i,s,l,h,f,w,S,R,$,X,Z){return t=new aC(t,i,s,w,S,R,$,Z),i=1,f===!0&&(i|=24),f=fn(3,null,null,i),t.current=f,f.stateNode=t,i=Od(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:i},Md(f),t}function h0(t){return t?(t=Ss,t):Ss}function d0(t,i,s,l,h,f){h=h0(h),l.context===null?l.context=h:l.pendingContext=h,l=gi(i),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=yi(t,l,i),s!==null&&(vn(s,t,i),nl(s,t,i))}function f0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function ep(t,i){f0(t,i),(t=t.alternate)&&f0(t,i)}function p0(t){if(t.tag===13){var i=ks(t,67108864);i!==null&&vn(i,t,67108864),ep(t,67108864)}}var Pc=!0;function sC(t,i,s,l){var h=Y.T;Y.T=null;var f=oe.p;try{oe.p=2,tp(t,i,s,l)}finally{oe.p=f,Y.T=h}}function oC(t,i,s,l){var h=Y.T;Y.T=null;var f=oe.p;try{oe.p=8,tp(t,i,s,l)}finally{oe.p=f,Y.T=h}}function tp(t,i,s,l){if(Pc){var h=np(l);if(h===null)Bf(t,i,l,Lc,s),g0(t,l);else if(uC(h,t,i,s,l))l.stopPropagation();else if(g0(t,l),i&4&&-1<lC.indexOf(t)){for(;h!==null;){var f=Zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var w=Mn(f.pendingLanes);if(w!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var R=1<<31-qt(w);S.entanglements[1]|=R,w&=~R}dr(f),(Ke&6)===0&&(vc=kn()+500,bl(0))}}break;case 13:S=ks(f,2),S!==null&&vn(S,f,2),wc(),ep(f,2)}if(f=np(l),f===null&&Bf(t,i,l,Lc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else Bf(t,i,l,null,s)}}function np(t){return t=Cn(t),rp(t)}var Lc=null;function rp(t){if(Lc=null,t=Cr(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=d(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Lc=t,null}function m0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ad()){case Co:return 2;case es:return 8;case sa:case sd:return 32;case ts:return 268435456;default:return 32}default:return 32}}var ip=!1,Ri=null,Ai=null,Di=null,Il=new Map,_l=new Map,Oi=[],lC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g0(t,i){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(i.pointerId)}}function Nl(t,i,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Zn(i),i!==null&&p0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function uC(t,i,s,l,h){switch(i){case"focusin":return Ri=Nl(Ri,t,i,s,l,h),!0;case"dragenter":return Ai=Nl(Ai,t,i,s,l,h),!0;case"mouseover":return Di=Nl(Di,t,i,s,l,h),!0;case"pointerover":var f=h.pointerId;return Il.set(f,Nl(Il.get(f)||null,t,i,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,Nl(_l.get(f)||null,t,i,s,l,h)),!0}return!1}function y0(t){var i=Cr(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){t.blockedOn=i,wu(t.priority,function(){if(s.tag===13){var l=yn();l=oi(l);var h=ks(s,l);h!==null&&vn(h,s,l),ep(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=np(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);_r=l,s.target.dispatchEvent(l),_r=null}else return i=Zn(s),i!==null&&p0(i),t.blockedOn=s,!1;i.shift()}return!0}function v0(t,i,s){jc(t)&&s.delete(i)}function cC(){ip=!1,Ri!==null&&jc(Ri)&&(Ri=null),Ai!==null&&jc(Ai)&&(Ai=null),Di!==null&&jc(Di)&&(Di=null),Il.forEach(v0),_l.forEach(v0)}function Mc(t,i){t.blockedOn===i&&(t.blockedOn=null,ip||(ip=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cC)))}var zc=null;function b0(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(rp(l||s)===null)continue;break}var f=Zn(s);f!==null&&(t.splice(i,3),i-=3,nf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Rl(t){function i(R){return Mc(R,t)}Ri!==null&&Mc(Ri,t),Ai!==null&&Mc(Ai,t),Di!==null&&Mc(Di,t),Il.forEach(i),_l.forEach(i);for(var s=0;s<Oi.length;s++){var l=Oi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Oi.length&&(s=Oi[0],s.blockedOn===null);)y0(s),s.blockedOn===null&&Oi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],w=h[gt]||null;if(typeof f=="function")w||b0(s);else if(w){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,w=f[gt]||null)S=w.formAction;else if(rp(h)!==null)continue}else S=w.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),b0(s)}}}function ap(t){this._internalRoot=t}Fc.prototype.render=ap.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=yn();d0(s,l,t,i,null,null)},Fc.prototype.unmount=ap.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;d0(t.current,2,null,t,null,null),wc(),i[Sn]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var i=li();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Oi.length&&i!==0&&i<Oi[s].priority;s++);Oi.splice(s,0,t),s===0&&y0(t)}};var w0=e.version;if(w0!=="19.1.0")throw Error(a(527,w0,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var hC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{lt=Vc.inject(hC),qe=Vc}catch{}}return Dl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=jy,f=My,w=zy,S=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=c0(t,1,!1,null,null,s,l,h,f,w,S,null),t[Sn]=i.current,Uf(t),new ap(i)},Dl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=jy,w=My,S=zy,R=null,$=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks),s.formState!==void 0&&($=s.formState)),i=c0(t,1,!0,i,s??null,l,h,f,w,S,R,$),i.context=h0(null),s=i.current,l=yn(),l=oi(l),h=gi(l),h.callback=null,yi(s,h,l),s=l,i.current.lanes=s,xr(i,s),dr(i),t[Sn]=i.current,Uf(t),new Fc(i)},Dl.version="19.1.0",Dl}var P0;function kC(){if(P0)return sp.exports;P0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sp.exports=wC(),sp.exports}var SC=kC(),Ol={},L0;function xC(){if(L0)return Ol;L0=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=d,Ol.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function d(E,P){const D=new u,K=E.length;if(K<2)return D;const z=(P==null?void 0:P.decode)||k;let G=0;do{const F=E.indexOf("=",G);if(F===-1)break;const ae=E.indexOf(";",G),re=ae===-1?K:ae;if(F>re){G=E.lastIndexOf(";",F-1)+1;continue}const ue=p(E,G,F),ke=m(E,F,ue),j=E.slice(ue,ke);if(D[j]===void 0){let T=p(E,F+1,re),_=m(E,re,T);const M=z(E.slice(T,_));D[j]=M}G=re+1}while(G<K);return D}function p(E,P,D){do{const K=E.charCodeAt(P);if(K!==32&&K!==9)return P}while(++P<D);return D}function m(E,P,D){for(;P>D;){const K=E.charCodeAt(--P);if(K!==32&&K!==9)return P+1}return D}function y(E,P,D){const K=(D==null?void 0:D.encode)||encodeURIComponent;if(!r.test(E))throw new TypeError(`argument name is invalid: ${E}`);const z=K(P);if(!e.test(z))throw new TypeError(`argument val is invalid: ${P}`);let G=E+"="+z;if(!D)return G;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);G+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);G+="; Domain="+D.domain}if(D.path){if(!a.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);G+="; Path="+D.path}if(D.expires){if(!x(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);G+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(G+="; HttpOnly"),D.secure&&(G+="; Secure"),D.partitioned&&(G+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return G}function k(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function x(E){return o.call(E)==="[object Date]"}return Ol}xC();var j0="popstate";function CC(r={}){function e(a,o){let{pathname:u,search:d,hash:p}=a.location;return Tp("",{pathname:u,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Gl(o)}return TC(e,n,null,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EC(){return Math.random().toString(36).substring(2,10)}function M0(r,e){return{usr:r.state,key:r.key,idx:e}}function Tp(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:n,key:e&&e.key||a||EC()}}function Gl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function co(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function TC(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,p="POP",m=null,y=k();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function k(){return(d.state||{idx:null}).idx}function x(){p="POP";let z=k(),G=z==null?null:z-y;y=z,m&&m({action:p,location:K.location,delta:G})}function E(z,G){p="PUSH";let F=Tp(K.location,z,G);y=k()+1;let ae=M0(F,y),re=K.createHref(F);try{d.pushState(ae,"",re)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(re)}u&&m&&m({action:p,location:K.location,delta:1})}function P(z,G){p="REPLACE";let F=Tp(K.location,z,G);y=k();let ae=M0(F,y),re=K.createHref(F);d.replaceState(ae,"",re),u&&m&&m({action:p,location:K.location,delta:0})}function D(z){return IC(z)}let K={get action(){return p},get location(){return r(o,d)},listen(z){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(j0,x),m=z,()=>{o.removeEventListener(j0,x),m=null}},createHref(z){return e(o,z)},createURL:D,encodeLocation(z){let G=D(z);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:E,replace:P,go(z){return d.go(z)}};return K}function IC(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Gl(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Rw(r,e,n="/"){return _C(r,e,n,!1)}function _C(r,e,n,a){let o=typeof e=="string"?co(e):e,u=Zr(o.pathname||"/",n);if(u==null)return null;let d=Aw(r);NC(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let y=VC(u);p=zC(d[m],y,a)}return p}function Aw(r,e=[],n=[],a=""){let o=(u,d,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};m.relativePath.startsWith("/")&&(at(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let y=Yr([a,m.relativePath]),k=n.concat(m);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Aw(u.children,e,k,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:jC(y,u.index),routesMeta:k})};return r.forEach((u,d)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,d);else for(let m of Dw(u.path))o(u,d,m)}),e}function Dw(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=Dw(a.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...d),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function NC(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:MC(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var RC=/^:[\w-]+$/,AC=3,DC=2,OC=1,PC=10,LC=-2,z0=r=>r==="*";function jC(r,e){let n=r.split("/"),a=n.length;return n.some(z0)&&(a+=LC),e&&(a+=DC),n.filter(o=>!z0(o)).reduce((o,u)=>o+(RC.test(u)?AC:u===""?OC:PC),a)}function MC(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function zC(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",d=[];for(let p=0;p<a.length;++p){let m=a[p],y=p===a.length-1,k=u==="/"?e:e.slice(u.length)||"/",x=sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},k),E=m.route;if(!x&&y&&n&&!a[a.length-1].route.index&&(x=sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},k)),!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:Yr([u,x.pathname]),pathnameBase:qC(Yr([u,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(u=Yr([u,x.pathnameBase]))}return d}function sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=FC(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:a.reduce((m,{paramName:y,isOptional:k},x)=>{if(y==="*"){let P=p[x]||"";d=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const E=p[x];return k&&!E?m[y]=void 0:m[y]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:r}}function FC(r,e=!1,n=!0){Kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function VC(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Zr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function UC(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?co(r):r;return{pathname:n?n.startsWith("/")?n:BC(n,e):e,search:KC(a),hash:HC(o)}}function BC(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function lp(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $C(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rm(r){let e=$C(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function im(r,e,n,a=!1){let o;typeof r=="string"?o=co(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),lp("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),lp("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),lp("#","search","hash",o)));let u=r===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let x=e.length-1;if(!a&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),x-=1;o.pathname=E.join("/")}p=x>=0?e[x]:"/"}let m=UC(o,p),y=d&&d!=="/"&&d.endsWith("/"),k=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||k)&&(m.pathname+="/"),m}var Yr=r=>r.join("/").replace(/\/\/+/g,"/"),qC=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),KC=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,HC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function WC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Ow=["POST","PUT","PATCH","DELETE"];new Set(Ow);var QC=["GET",...Ow];new Set(QC);var ho=W.createContext(null);ho.displayName="DataRouter";var Ah=W.createContext(null);Ah.displayName="DataRouterState";var Pw=W.createContext({isTransitioning:!1});Pw.displayName="ViewTransition";var GC=W.createContext(new Map);GC.displayName="Fetchers";var YC=W.createContext(null);YC.displayName="Await";var Gn=W.createContext(null);Gn.displayName="Navigation";var au=W.createContext(null);au.displayName="Location";var wr=W.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var am=W.createContext(null);am.displayName="RouteError";function XC(r,{relative:e}={}){at(fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=W.useContext(Gn),{hash:o,pathname:u,search:d}=su(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Yr([n,u])),a.createHref({pathname:p,search:d,hash:o})}function fo(){return W.useContext(au)!=null}function ai(){return at(fo(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(au).location}var Lw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jw(r){W.useContext(Gn).static||W.useLayoutEffect(r)}function Dh(){let{isDataRoute:r}=W.useContext(wr);return r?cE():JC()}function JC(){at(fo(),"useNavigate() may be used only in the context of a <Router> component.");let r=W.useContext(ho),{basename:e,navigator:n}=W.useContext(Gn),{matches:a}=W.useContext(wr),{pathname:o}=ai(),u=JSON.stringify(rm(a)),d=W.useRef(!1);return jw(()=>{d.current=!0}),W.useCallback((p,m={})=>{if(Kn(d.current,Lw),!d.current)return;if(typeof p=="number"){n.go(p);return}let y=im(p,JSON.parse(u),o,m.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Yr([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,u,o,r])}W.createContext(null);function su(r,{relative:e}={}){let{matches:n}=W.useContext(wr),{pathname:a}=ai(),o=JSON.stringify(rm(n));return W.useMemo(()=>im(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function ZC(r,e){return Mw(r,e)}function Mw(r,e,n,a){var o;at(fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=W.useContext(Gn),{matches:d}=W.useContext(wr),p=d[d.length-1],m=p?p.params:{},y=p?p.pathname:"/",k=p?p.pathnameBase:"/",x=p&&p.route;{let F=x&&x.path||"";zw(y,!x||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=ai(),P;if(e){let F=typeof e=="string"?co(e):e;at(k==="/"||((o=F.pathname)==null?void 0:o.startsWith(k)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${k}" but pathname "${F.pathname}" was given in the \`location\` prop.`),P=F}else P=E;let D=P.pathname||"/",K=D;if(k!=="/"){let F=k.replace(/^\//,"").split("/");K="/"+D.replace(/^\//,"").split("/").slice(F.length).join("/")}let z=Rw(r,{pathname:K});Kn(x||z!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Kn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=iE(z&&z.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Yr([k,u.encodeLocation?u.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?k:Yr([k,u.encodeLocation?u.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),d,n,a);return e&&G?W.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},G):G}function eE(){let r=uE(),e=WC(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:o},n):null,d)}var tE=W.createElement(eE,null),nE=class extends W.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?W.createElement(wr.Provider,{value:this.props.routeContext},W.createElement(am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rE({routeContext:r,match:e,children:n}){let a=W.useContext(ho);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(wr.Provider,{value:r},n)}function iE(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);at(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:k,errors:x}=n,E=y.route.loader&&!k.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||E){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,y,k)=>{let x,E=!1,P=null,D=null;n&&(x=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||tE,d&&(p<0&&k===0?(zw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,D=null):p===k&&(E=!0,D=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,k+1)),z=()=>{let G;return x?G=P:E?G=D:y.route.Component?G=W.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=m,W.createElement(rE,{match:y,routeContext:{outlet:m,matches:K,isDataRoute:n!=null},children:G})};return n&&(y.route.ErrorBoundary||y.route.errorElement||k===0)?W.createElement(nE,{location:n.location,revalidation:n.revalidation,component:P,error:x,children:z(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):z()},null)}function sm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aE(r){let e=W.useContext(ho);return at(e,sm(r)),e}function sE(r){let e=W.useContext(Ah);return at(e,sm(r)),e}function oE(r){let e=W.useContext(wr);return at(e,sm(r)),e}function om(r){let e=oE(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function lE(){return om("useRouteId")}function uE(){var r;let e=W.useContext(am),n=sE("useRouteError"),a=om("useRouteError");return e!==void 0?e:(r=n.errors)==null?void 0:r[a]}function cE(){let{router:r}=aE("useNavigate"),e=om("useNavigate"),n=W.useRef(!1);return jw(()=>{n.current=!0}),W.useCallback(async(a,o={})=>{Kn(n.current,Lw),n.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...o}))},[r,e])}var F0={};function zw(r,e,n){!e&&!F0[r]&&(F0[r]=!0,Kn(!1,n))}W.memo(hE);function hE({routes:r,future:e,state:n}){return Mw(r,void 0,n,e)}function oh({to:r,replace:e,state:n,relative:a}){at(fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=W.useContext(Gn);Kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=W.useContext(wr),{pathname:d}=ai(),p=Dh(),m=im(r,rm(u),d,a==="path"),y=JSON.stringify(m);return W.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:a})},[p,y,a,e,n]),null}function fr(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dE({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){at(!fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=W.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=co(n));let{pathname:m="/",search:y="",hash:k="",state:x=null,key:E="default"}=n,P=W.useMemo(()=>{let D=Zr(m,d);return D==null?null:{location:{pathname:D,search:y,hash:k,state:x,key:E},navigationType:a}},[d,m,y,k,x,E,a]);return Kn(P!=null,`<Router basename="${d}"> is not able to match the URL "${m}${y}${k}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:W.createElement(Gn.Provider,{value:p},W.createElement(au.Provider,{children:e,value:P}))}function fE({children:r,location:e}){return ZC(Ip(r),e)}function Ip(r,e=[]){let n=[];return W.Children.forEach(r,(a,o)=>{if(!W.isValidElement(a))return;let u=[...e,o];if(a.type===W.Fragment){n.push.apply(n,Ip(a.props.children,u));return}at(a.type===fr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Ip(a.props.children,u)),n.push(d)}),n}var Qc="get",Gc="application/x-www-form-urlencoded";function Oh(r){return r!=null&&typeof r.tagName=="string"}function pE(r){return Oh(r)&&r.tagName.toLowerCase()==="button"}function mE(r){return Oh(r)&&r.tagName.toLowerCase()==="form"}function gE(r){return Oh(r)&&r.tagName.toLowerCase()==="input"}function yE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function vE(r,e){return r.button===0&&(!e||e==="_self")&&!yE(r)}var Uc=null;function bE(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var wE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function up(r){return r!=null&&!wE.has(r)?(Kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gc}"`),null):r}function kE(r,e){let n,a,o,u,d;if(mE(r)){let p=r.getAttribute("action");a=p?Zr(p,e):null,n=r.getAttribute("method")||Qc,o=up(r.getAttribute("enctype"))||Gc,u=new FormData(r)}else if(pE(r)||gE(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(a=m?Zr(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Qc,o=up(r.getAttribute("formenctype"))||up(p.getAttribute("enctype"))||Gc,u=new FormData(p,r),!bE()){let{name:y,type:k,value:x}=r;if(k==="image"){let E=y?`${y}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else y&&u.append(y,x)}}else{if(Oh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qc,a=null,o=Gc,d=r}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:d}}function lm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function SE(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function CE(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await SE(u,n);return d.links?d.links():[]}return[]}));return _E(a.flat(1).filter(xE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function V0(r,e,n,a,o,u){let d=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,p=(m,y)=>{var k;return n[y].pathname!==m.pathname||((k=n[y].route.path)==null?void 0:k.endsWith("*"))&&n[y].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,y)=>d(m,y)||p(m,y)):u==="data"?e.filter((m,y)=>{var k;let x=a.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(d(m,y)||p(m,y))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((k=n[0])==null?void 0:k.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function EE(r,e,{includeHydrateFallback:n}={}){return TE(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function TE(r){return[...new Set(r)]}function IE(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function _E(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(IE(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NE=new Set([100,101,204,205]);function RE(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Zr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Fw(){let r=W.useContext(ho);return lm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function AE(){let r=W.useContext(Ah);return lm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var um=W.createContext(void 0);um.displayName="FrameworkContext";function Vw(){let r=W.useContext(um);return lm(r,"You must render this element inside a <HydratedRouter> element"),r}function DE(r,e){let n=W.useContext(um),[a,o]=W.useState(!1),[u,d]=W.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:y,onMouseLeave:k,onTouchStart:x}=e,E=W.useRef(null);W.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let K=G=>{G.forEach(F=>{d(F.isIntersecting)})},z=new IntersectionObserver(K,{threshold:.5});return E.current&&z.observe(E.current),()=>{z.disconnect()}}},[r]),W.useEffect(()=>{if(a){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[a]);let P=()=>{o(!0)},D=()=>{o(!1),d(!1)};return n?r!=="intent"?[u,E,{}]:[u,E,{onFocus:Pl(p,P),onBlur:Pl(m,D),onMouseEnter:Pl(y,P),onMouseLeave:Pl(k,D),onTouchStart:Pl(x,P)}]:[!1,E,{}]}function Pl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function OE({page:r,...e}){let{router:n}=Fw(),a=W.useMemo(()=>Rw(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?W.createElement(LE,{page:r,matches:a,...e}):null}function PE(r){let{manifest:e,routeModules:n}=Vw(),[a,o]=W.useState([]);return W.useEffect(()=>{let u=!1;return CE(r,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[r,e,n]),a}function LE({page:r,matches:e,...n}){let a=ai(),{manifest:o,routeModules:u}=Vw(),{basename:d}=Fw(),{loaderData:p,matches:m}=AE(),y=W.useMemo(()=>V0(r,e,m,o,a,"data"),[r,e,m,o,a]),k=W.useMemo(()=>V0(r,e,m,o,a,"assets"),[r,e,m,o,a]),x=W.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let D=new Set,K=!1;if(e.forEach(G=>{var F;let ae=o.routes[G.route.id];!ae||!ae.hasLoader||(!y.some(re=>re.route.id===G.route.id)&&G.route.id in p&&(F=u[G.route.id])!=null&&F.shouldRevalidate||ae.hasClientLoader?K=!0:D.add(G.route.id))}),D.size===0)return[];let z=RE(r,d);return K&&D.size>0&&z.searchParams.set("_routes",e.filter(G=>D.has(G.route.id)).map(G=>G.route.id).join(",")),[z.pathname+z.search]},[d,p,a,o,y,e,r,u]),E=W.useMemo(()=>EE(k,o),[k,o]),P=PE(k);return W.createElement(W.Fragment,null,x.map(D=>W.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>W.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),P.map(({key:D,link:K})=>W.createElement("link",{key:D,...K})))}function jE(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Uw&&(window.__reactRouterVersion="7.6.2")}catch{}function ME({basename:r,children:e,window:n}){let a=W.useRef();a.current==null&&(a.current=CC({window:n,v5Compat:!0}));let o=a.current,[u,d]=W.useState({action:o.action,location:o.location}),p=W.useCallback(m=>{W.startTransition(()=>d(m))},[d]);return W.useLayoutEffect(()=>o.listen(p),[o,p]),W.createElement(dE,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cm=W.forwardRef(function({onClick:r,discover:e="render",prefetch:n="none",relative:a,reloadDocument:o,replace:u,state:d,target:p,to:m,preventScrollReset:y,viewTransition:k,...x},E){let{basename:P}=W.useContext(Gn),D=typeof m=="string"&&Bw.test(m),K,z=!1;if(typeof m=="string"&&D&&(K=m,Uw))try{let T=new URL(window.location.href),_=m.startsWith("//")?new URL(T.protocol+m):new URL(m),M=Zr(_.pathname,P);_.origin===T.origin&&M!=null?m=M+_.search+_.hash:z=!0}catch{Kn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=XC(m,{relative:a}),[F,ae,re]=DE(n,x),ue=UE(m,{replace:u,state:d,target:p,preventScrollReset:y,relative:a,viewTransition:k});function ke(T){r&&r(T),T.defaultPrevented||ue(T)}let j=W.createElement("a",{...x,...re,href:K||G,onClick:z||o?r:ke,ref:jE(E,ae),target:p,"data-discover":!D&&e==="render"?"true":void 0});return F&&!D?W.createElement(W.Fragment,null,j,W.createElement(OE,{page:G})):j});cm.displayName="Link";var zE=W.forwardRef(function({"aria-current":r="page",caseSensitive:e=!1,className:n="",end:a=!1,style:o,to:u,viewTransition:d,children:p,...m},y){let k=su(u,{relative:m.relative}),x=ai(),E=W.useContext(Ah),{navigator:P,basename:D}=W.useContext(Gn),K=E!=null&&HE(k)&&d===!0,z=P.encodeLocation?P.encodeLocation(k).pathname:k.pathname,G=x.pathname,F=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(G=G.toLowerCase(),F=F?F.toLowerCase():null,z=z.toLowerCase()),F&&D&&(F=Zr(F,D)||F);const ae=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let re=G===z||!a&&G.startsWith(z)&&G.charAt(ae)==="/",ue=F!=null&&(F===z||!a&&F.startsWith(z)&&F.charAt(z.length)==="/"),ke={isActive:re,isPending:ue,isTransitioning:K},j=re?r:void 0,T;typeof n=="function"?T=n(ke):T=[n,re?"active":null,ue?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let _=typeof o=="function"?o(ke):o;return W.createElement(cm,{...m,"aria-current":j,className:T,ref:y,style:_,to:u,viewTransition:d},typeof p=="function"?p(ke):p)});zE.displayName="NavLink";var FE=W.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:d=Qc,action:p,onSubmit:m,relative:y,preventScrollReset:k,viewTransition:x,...E},P)=>{let D=qE(),K=KE(p,{relative:y}),z=d.toLowerCase()==="get"?"get":"post",G=typeof p=="string"&&Bw.test(p),F=ae=>{if(m&&m(ae),ae.defaultPrevented)return;ae.preventDefault();let re=ae.nativeEvent.submitter,ue=(re==null?void 0:re.getAttribute("formmethod"))||d;D(re||ae.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:y,preventScrollReset:k,viewTransition:x})};return W.createElement("form",{ref:P,method:z,action:K,onSubmit:a?m:F,...E,"data-discover":!G&&r==="render"?"true":void 0})});FE.displayName="Form";function VE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $w(r){let e=W.useContext(ho);return at(e,VE(r)),e}function UE(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:d}={}){let p=Dh(),m=ai(),y=su(r,{relative:u});return W.useCallback(k=>{if(vE(k,e)){k.preventDefault();let x=n!==void 0?n:Gl(m)===Gl(y);p(r,{replace:x,state:a,preventScrollReset:o,relative:u,viewTransition:d})}},[m,p,y,n,a,e,r,o,u,d])}var BE=0,$E=()=>`__${String(++BE)}__`;function qE(){let{router:r}=$w("useSubmit"),{basename:e}=W.useContext(Gn),n=lE();return W.useCallback(async(a,o={})=>{let{action:u,method:d,encType:p,formData:m,body:y}=kE(a,e);if(o.navigate===!1){let k=o.fetcherKey||$E();await r.fetch(k,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:y,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:y,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function KE(r,{relative:e}={}){let{basename:n}=W.useContext(Gn),a=W.useContext(wr);at(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...su(r||".",{relative:e})},d=ai();if(r==null){u.search=d.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(y=>y==="")){p.delete("index"),m.filter(k=>k).forEach(k=>p.append("index",k));let y=p.toString();u.search=y?`?${y}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Yr([n,u.pathname])),Gl(u)}function HE(r,e={}){let n=W.useContext(Pw);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=$w("useViewTransitionState"),o=su(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Zr(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=Zr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return sh(o.pathname,d)!=null||sh(o.pathname,u)!=null}[...NE];const WE=()=>{};var U0={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qw=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},QE=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],d=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,p=d?r[o+1]:0,m=o+2<r.length,y=m?r[o+2]:0,k=u>>2,x=(u&3)<<4|p>>4;let E=(p&15)<<2|y>>6,P=y&63;m||(P=64,d||(E=64)),a.push(n[k],n[x],n[E],n[P])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(qw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):QE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],d=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const m=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||d==null||p==null||m==null)throw new GE;const y=u<<2|d>>4;if(a.push(y),p!==64){const k=d<<4&240|p>>2;if(a.push(k),m!==64){const x=p<<6&192|m;a.push(x)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YE=function(r){const e=qw(r);return Kw.encodeByteArray(e,!0)},lh=function(r){return YE(r).replace(/\./g,"")},Hw=function(r){try{return Kw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function XE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JE=()=>XE().__FIREBASE_DEFAULTS__,ZE=()=>{if(typeof process>"u"||typeof U0>"u")return;const r=U0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},eT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Hw(r[1]);return e&&JSON.parse(e)},Ph=()=>{try{return WE()||JE()||ZE()||eT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ww=r=>{var e,n;return(n=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Qw=r=>{const e=Ww(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},Gw=()=>{var r;return(r=Ph())===null||r===void 0?void 0:r.config},Yw=r=>{var e;return(e=Ph())===null||e===void 0?void 0:e[`_${r}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Qa(r){return r.endsWith(".cloudworkstations.dev")}async function hm(r){return(await fetch(r,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[lh(JSON.stringify(n)),lh(JSON.stringify(d)),""].join(".")}const Bl={};function rT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?r.emulator.push(e):r.prod.push(e);return r}function iT(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let B0=!1;function dm(r,e){if(typeof window>"u"||typeof document>"u"||!Qa(window.location.host)||Bl[r]===e||Bl[r]||B0)return;Bl[r]=e;function n(x){return`__firebase__banner__${x}`}const a="__firebase__banner",o=rT().prod.length>0;function u(){const x=document.getElementById(a);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{B0=!0,u()},x}function y(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function k(){const x=iT(a),E=n("text"),P=document.getElementById(E)||document.createElement("span"),D=n("learnmore"),K=document.getElementById(D)||document.createElement("a"),z=n("preprendIcon"),G=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;d(F),y(K,D);const ae=m();p(G,z),F.append(G,P,K,ae),document.body.appendChild(F)}o?(P.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",k):k()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function sT(){var r;const e=(r=Ph())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uT(){const r=Yt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function cT(){return!sT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jw(){try{return typeof indexedDB=="object"}catch{return!1}}function Zw(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function hT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dT="FirebaseError";class Yn extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=dT,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ga.prototype.create)}}class Ga{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?fT(u,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Yn(o,p,a)}}function fT(r,e){return r.replace(pT,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const pT=/\{\$([^}]+)}/g;function mT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Hi(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],d=e[o];if($0(u)&&$0(d)){if(!Hi(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function $0(r){return r!==null&&typeof r=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ou(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ll(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,o]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function gT(r,e){const n=new yT(r,e);return n.subscribe.bind(n)}class yT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");vT(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=cp),o.error===void 0&&(o.error=cp),o.complete===void 0&&(o.complete=cp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vT(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function cp(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bT=1e3,wT=2,kT=4*60*60*1e3,ST=.5;function q0(r,e=bT,n=wT){const a=e*Math.pow(n,r),o=Math.round(ST*a*(Math.random()-.5)*2);return Math.min(kT,a+o)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ht(r){return r&&r._delegate?r._delegate:r}class jn{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Va="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new tT;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ET(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&d.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CT(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CT(r){return r===Va?void 0:r}function ET(r){return r.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const IT={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},_T=Oe.INFO,NT={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},RT=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=NT[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lh{constructor(e){this.name=e,this._logLevel=_T,this._logHandler=RT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const AT=(r,e)=>e.some(n=>r instanceof n);let K0,H0;function DT(){return K0||(K0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OT(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ek=new WeakMap,_p=new WeakMap,tk=new WeakMap,hp=new WeakMap,fm=new WeakMap;function PT(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(Ui(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&ek.set(n,r)}).catch(()=>{}),fm.set(e,r),e}function LT(r){if(_p.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});_p.set(r,e)}let Np={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return _p.get(r);if(e==="objectStoreNames")return r.objectStoreNames||tk.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ui(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function jT(r){Np=r(Np)}function MT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(dp(this),e,...n);return tk.set(a,e.sort?e.sort():[e]),Ui(a)}:OT().includes(r)?function(...e){return r.apply(dp(this),e),Ui(ek.get(this))}:function(...e){return Ui(r.apply(dp(this),e))}}function zT(r){return typeof r=="function"?MT(r):(r instanceof IDBTransaction&&LT(r),AT(r,DT())?new Proxy(r,Np):r)}function Ui(r){if(r instanceof IDBRequest)return PT(r);if(hp.has(r))return hp.get(r);const e=zT(r);return e!==r&&(hp.set(r,e),fm.set(e,r)),e}const dp=r=>fm.get(r);function nk(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),p=Ui(d);return a&&d.addEventListener("upgradeneeded",m=>{a(Ui(d.result),m.oldVersion,m.newVersion,Ui(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const FT=["get","getKey","getAll","getAllKeys","count"],VT=["put","add","delete","clear"],fp=new Map;function W0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(fp.get(e))return fp.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=VT.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||FT.includes(n)))return;const u=async function(d,...p){const m=this.transaction(d,o?"readwrite":"readonly");let y=m.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&m.done]))[0]};return fp.set(e,u),u}jT(r=>({...r,get:(e,n,a)=>W0(e,n)||r.get(e,n,a),has:(e,n)=>!!W0(e,n)||r.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(BT(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function BT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",Q0="0.13.1";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ei=new Lh("@firebase/app"),$T="@firebase/app-compat",qT="@firebase/analytics-compat",KT="@firebase/analytics",HT="@firebase/app-check-compat",WT="@firebase/app-check",QT="@firebase/auth",GT="@firebase/auth-compat",YT="@firebase/database",XT="@firebase/data-connect",JT="@firebase/database-compat",ZT="@firebase/functions",e2="@firebase/functions-compat",t2="@firebase/installations",n2="@firebase/installations-compat",r2="@firebase/messaging",i2="@firebase/messaging-compat",a2="@firebase/performance",s2="@firebase/performance-compat",o2="@firebase/remote-config",l2="@firebase/remote-config-compat",u2="@firebase/storage",c2="@firebase/storage-compat",h2="@firebase/firestore",d2="@firebase/ai",f2="@firebase/firestore-compat",p2="firebase",m2="11.9.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ap="[DEFAULT]",g2={[Rp]:"fire-core",[$T]:"fire-core-compat",[KT]:"fire-analytics",[qT]:"fire-analytics-compat",[WT]:"fire-app-check",[HT]:"fire-app-check-compat",[QT]:"fire-auth",[GT]:"fire-auth-compat",[YT]:"fire-rtdb",[XT]:"fire-data-connect",[JT]:"fire-rtdb-compat",[ZT]:"fire-fn",[e2]:"fire-fn-compat",[t2]:"fire-iid",[n2]:"fire-iid-compat",[r2]:"fire-fcm",[i2]:"fire-fcm-compat",[a2]:"fire-perf",[s2]:"fire-perf-compat",[o2]:"fire-rc",[l2]:"fire-rc-compat",[u2]:"fire-gcs",[c2]:"fire-gcs-compat",[h2]:"fire-fst",[f2]:"fire-fst-compat",[d2]:"fire-vertex","fire-js":"fire-js",[p2]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uh=new Map,y2=new Map,Dp=new Map;function G0(r,e){try{r.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Hn(r){const e=r.name;if(Dp.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,r);for(const n of uh.values())G0(n,r);for(const n of y2.values())G0(n,r);return!0}function Zi(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new Ga("app","Firebase",v2);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b2{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const po=m2;function rk(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Ap,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Bi.create("bad-app-name",{appName:String(o)});if(n||(n=Gw()),!n)throw Bi.create("no-options");const u=uh.get(o);if(u){if(Hi(n,u.options)&&Hi(a,u.config))return u;throw Bi.create("duplicate-app",{appName:o})}const d=new TT(o);for(const m of Dp.values())d.addComponent(m);const p=new b2(n,a,d);return uh.set(o,p),p}function jh(r=Ap){const e=uh.get(r);if(!e&&r===Ap&&Gw())return rk();if(!e)throw Bi.create("no-app",{appName:r});return e}function on(r,e,n){var a;let o=(a=g2[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(p.join(" "));return}Hn(new jn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w2="firebase-heartbeat-database",k2=1,Yl="firebase-heartbeat-store";let pp=null;function ik(){return pp||(pp=nk(w2,k2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Bi.create("idb-open",{originalErrorMessage:r.message})})),pp}async function S2(r){try{const e=(await ik()).transaction(Yl),n=await e.objectStore(Yl).get(ak(r));return await e.done,n}catch(e){if(e instanceof Yn)ei.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(n.message)}}}async function Y0(r,e){try{const n=(await ik()).transaction(Yl,"readwrite");await n.objectStore(Yl).put(e,ak(r)),await n.done}catch(n){if(n instanceof Yn)ei.warn(n.message);else{const a=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(a.message)}}}function ak(r){return`${r.name}!${r.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const x2=1024,C2=30;class E2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I2(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=X0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>C2){const u=_2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ei.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X0(),{heartbeatsToSend:a,unsentEntries:o}=T2(this._heartbeatsCache.heartbeats),u=lh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ei.warn(n),""}}}function X0(){return new Date().toISOString().substring(0,10)}function T2(r,e=x2){const n=[];let a=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),J0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),J0(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class I2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jw()?Zw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await S2(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Y0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Y0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function J0(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function _2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function N2(r){Hn(new jn("platform-logger",e=>new UT(e),"PRIVATE")),Hn(new jn("heartbeat",e=>new E2(e),"PRIVATE")),on(Rp,Q0,r),on(Rp,Q0,"esm2017"),on("fire-js","")}N2("");function pm(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function sk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R2=sk,ok=new Ga("auth","Firebase",sk());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ch=new Lh("@firebase/auth");function A2(r,...e){ch.logLevel<=Oe.WARN&&ch.warn(`Auth (${po}): ${r}`,...e)}function Yc(r,...e){ch.logLevel<=Oe.ERROR&&ch.error(`Auth (${po}): ${r}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wn(r,...e){throw mm(r,...e)}function mr(r,...e){return mm(r,...e)}function lk(r,e,n){const a=Object.assign(Object.assign({},R2()),{[e]:n});return new Ga("auth","Firebase",a).create(e,{appName:r.name})}function $i(r){return lk(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return ok.create(r,...e)}function be(r,e,...n){if(!r)throw mm(e,...n)}function Qr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Yc(e),new Error(e)}function ti(r,e){r||Qr(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Op(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function D2(){return Z0()==="http:"||Z0()==="https:"}function Z0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function O2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D2()||Xw()||"connection"in navigator)?navigator.onLine:!0}function P2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ti(n>e,"Short delay should be less than long delay!"),this.isMobile=aT()||lT()}get(){return O2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gm(r,e){ti(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uk{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M2=new lu(3e4,6e4);function Ya(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ea(r,e,n,a,o={}){return ck(r,o,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const p=ou(Object.assign({key:r.config.apiKey},d)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:m},u);return oT()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Qa(r.emulatorConfig.host)&&(y.credentials="include"),uk.fetch()(await hk(r,r.config.apiHost,n,p),y)})}async function ck(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},L2),e);try{const o=new F2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Bc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[m,y]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",d);if(m==="USER_DISABLED")throw Bc(r,"user-disabled",d);const k=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw lk(r,k,y);Wn(r,k)}}catch(o){if(o instanceof Yn)throw o;Wn(r,"network-request-failed",{message:String(o)})}}async function Mh(r,e,n,a,o={}){const u=await ea(r,e,n,a,o);return"mfaPendingCredential"in u&&Wn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function hk(r,e,n,a){const o=`${e}${n}?${a}`,u=r,d=u.config.emulator?gm(r.config,o):`${r.config.apiScheme}://${o}`;return j2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function z2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(mr(this.auth,"network-request-failed")),M2.get())})}}function Bc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=mr(r,e,a);return o.customData._tokenResponse=n,o}function eb(r){return r!==void 0&&r.enterprise!==void 0}class V2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return z2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U2(r,e){return ea(r,"GET","/v2/recaptchaConfig",Ya(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function B2(r,e){return ea(r,"POST","/v1/accounts:delete",e)}async function hh(r,e){return ea(r,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $l(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $2(r,e=!1){const n=ht(r),a=await n.getIdToken(e),o=ym(a);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:$l(mp(o.auth_time)),issuedAtTime:$l(mp(o.iat)),expirationTime:$l(mp(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mp(r){return Number(r)*1e3}function ym(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Hw(n);return o?JSON.parse(o):(Yc("Failed to decode base64 JWT payload"),null)}catch(o){return Yc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function tb(r){const e=ym(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Xl(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Yn&&q2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function q2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class K2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function dh(r){var e;const n=r.auth,a=await r.getIdToken(),o=await Xl(r,hh(n,{idToken:a}));be(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?dk(u.providerUserInfo):[],p=W2(r.providerData,d),m=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),k=m?y:!1,x={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Pp(u.createdAt,u.lastLoginAt),isAnonymous:k};Object.assign(r,x)}async function H2(r){const e=ht(r);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W2(r,e){return[...r.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function dk(r){return r.map(e=>{var{providerId:n}=e,a=pm(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Q2(r,e){const n=await ck(r,{},async()=>{const a=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await hk(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:a};return r.emulatorConfig&&Qa(r.emulatorConfig.host)&&(m.credentials="include"),uk.fetch()(d,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G2(r,e){return ea(r,"POST","/v2/accounts:revokeToken",Ya(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=tb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await Q2(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,d=new Js;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(be(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Js,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Li(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $n{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Pp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $2(this,e)}reload(){return H2(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Xl(this,B2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,d,p,m,y,k;const x=(a=n.displayName)!==null&&a!==void 0?a:void 0,E=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,D=(d=n.photoURL)!==null&&d!==void 0?d:void 0,K=(p=n.tenantId)!==null&&p!==void 0?p:void 0,z=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,G=(y=n.createdAt)!==null&&y!==void 0?y:void 0,F=(k=n.lastLoginAt)!==null&&k!==void 0?k:void 0,{uid:ae,emailVerified:re,isAnonymous:ue,providerData:ke,stsTokenManager:j}=n;be(ae&&j,e,"internal-error");const T=Js.fromJSON(this.name,j);be(typeof ae=="string",e,"internal-error"),Li(x,e.name),Li(E,e.name),be(typeof re=="boolean",e,"internal-error"),be(typeof ue=="boolean",e,"internal-error"),Li(P,e.name),Li(D,e.name),Li(K,e.name),Li(z,e.name),Li(G,e.name),Li(F,e.name);const _=new $n({uid:ae,auth:e,email:E,emailVerified:re,displayName:x,isAnonymous:ue,photoURL:D,phoneNumber:P,tenantId:K,stsTokenManager:T,createdAt:G,lastLoginAt:F});return ke&&Array.isArray(ke)&&(_.providerData=ke.map(M=>Object.assign({},M))),z&&(_._redirectEventId=z),_}static async _fromIdTokenResponse(e,n,a=!1){const o=new Js;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await dh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?dk(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Js;p.updateFromIdToken(a);const m=new $n({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,y),m}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nb=new Map;function Gr(r){ti(r instanceof Function,"Expected a class definition");let e=nb.get(r);return e?(ti(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,nb.set(r,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fk.type="NONE";const rb=fk;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xc(r,e,n){return`firebase:${r}:${e}:${n}`}class Zs{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Zs(Gr(rb),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Gr(rb);const d=Xc(a,e.config.apiKey,e.name);let p=null;for(const y of n)try{const k=await y._get(d);if(k){let x;if(typeof k=="string"){const E=await hh(e,{idToken:k}).catch(()=>{});if(!E)break;x=await $n._fromGetAccountInfoResponse(e,E,k)}else x=$n._fromJSON(e,k);y!==u&&(p=x),u=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Zs(u,e,a):(u=m[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new Zs(u,e,a))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ib(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bk(e))return"Blackberry";if(wk(e))return"Webos";if(mk(e))return"Safari";if((e.includes("chrome/")||gk(e))&&!e.includes("edge/"))return"Chrome";if(vk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function pk(r=Yt()){return/firefox\//i.test(r)}function mk(r=Yt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gk(r=Yt()){return/crios\//i.test(r)}function yk(r=Yt()){return/iemobile/i.test(r)}function vk(r=Yt()){return/android/i.test(r)}function bk(r=Yt()){return/blackberry/i.test(r)}function wk(r=Yt()){return/webos/i.test(r)}function vm(r=Yt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Y2(r=Yt()){var e;return vm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X2(){return uT()&&document.documentMode===10}function kk(r=Yt()){return vm(r)||vk(r)||wk(r)||bk(r)||/windows phone/i.test(r)||yk(r)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Sk(r,e=[]){let n;switch(r){case"Browser":n=ib(Yt());break;case"Worker":n=`${ib(Yt())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${a}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((d,p)=>{try{const m=e(u);d(m)}catch(m){p(m)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Z2(r,e={}){return ea(r,"GET","/v2/passwordPolicy",Ya(r,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eI=6;class tI{constructor(e){var n,a,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:eI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,d,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(d=m.containsNumericCharacter)!==null&&d!==void 0?d:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nI{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ab(this),this.idTokenSubscription=new ab(this),this.beforeStateQueue=new J2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ok,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),a=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===p)&&m!=null&&m.user&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject($i(this));const n=e?ht(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z2(this),n=new tI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ga("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await G2(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,a,o);return()=>{d=!0,m()}}else{const m=e.addObserver(n);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&A2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mo(r){return ht(r)}class ab{constructor(e){this.auth=e,this.observer=null,this.addObserver=gT(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rI(r){zh=r}function xk(r){return zh.loadJS(r)}function iI(){return zh.recaptchaEnterpriseScript}function aI(){return zh.gapiScript}function sI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class oI{constructor(){this.enterprise=new lI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uI="recaptcha-enterprise",Ck="NO_RECAPTCHA";class cI{constructor(e){this.type=uI,this.auth=mo(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{U2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new V2(m);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(m=>{p(m)})})}function o(u,d,p){const m=window.grecaptcha;eb(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(Ck)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oI().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(p=>{if(!n&&eb(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=iI();m.length!==0&&(m+=p),xk(m).then(()=>{o(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function sb(r,e,n,a=!1,o=!1){const u=new cI(r);let d;if(o)d=Ck;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function ob(r,e,n,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await sb(r,e,n,n==="getOobCode");return a(r,d)}else return a(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await sb(r,e,n,n==="getOobCode");return a(r,p)}else return Promise.reject(d)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hI(r,e){const n=Zi(r,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(Hi(o,e??{}))return a;Wn(a,"already-initialized")}return n.initialize({options:e})}function dI(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Gr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function fI(r,e,n){const a=mo(r);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Ek(e),{host:d,port:p}=pI(e),m=p===null?"":`:${p}`,y={url:`${u}//${d}${m}/`},k=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(Hi(y,a.config.emulator)&&Hi(k,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=k,a.settings.appVerificationDisabledForTesting=!0,Qa(d)?(hm(`${u}//${d}${m}`),dm("Auth",!0)):mI()}function Ek(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function pI(r){const e=Ek(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:lb(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:lb(d)}}}function lb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function mI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function gI(r,e){return ea(r,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function yI(r,e){return Mh(r,"POST","/v1/accounts:signInWithPassword",Ya(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function vI(r,e){return Mh(r,"POST","/v1/accounts:signInWithEmailLink",Ya(r,e))}async function bI(r,e){return Mh(r,"POST","/v1/accounts:signInWithEmailLink",Ya(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jl extends bm{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Jl(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Jl(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ob(e,n,"signInWithPassword",yI);case"emailLink":return vI(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ob(e,a,"signUpPassword",gI);case"emailLink":return bI(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function eo(r,e){return Mh(r,"POST","/v1/accounts:signInWithIdp",Ya(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wI="http://localhost";class $a extends bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=pm(n,["providerId","signInMethod"]);if(!a||!o)return null;const d=new $a(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,eo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:wI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SI(r){const e=Ll(jl(r)).link,n=e?Ll(jl(e)).deep_link_id:null,a=Ll(jl(r)).deep_link_id;return(a?Ll(jl(a)).link:null)||a||n||e||r}class wm{constructor(e){var n,a,o,u,d,p;const m=Ll(jl(e)),y=(n=m.apiKey)!==null&&n!==void 0?n:null,k=(a=m.oobCode)!==null&&a!==void 0?a:null,x=kI((o=m.mode)!==null&&o!==void 0?o:null);be(y&&k&&x,"argument-error"),this.apiKey=y,this.operation=x,this.code=k,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=m.lang)!==null&&d!==void 0?d:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=SI(e);try{return new wm(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,n){return Jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=wm.parseLink(n);return be(a,"argument-error"),Jl._fromEmailAndCode(e,a.code,a.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uu extends Tk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ji extends uu{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mi extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $a._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Mi.credential(n,a)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zi extends uu{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fi extends uu{constructor(){super("twitter.com")}static credential(e,n){return $a._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Fi.credential(n,a)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await $n._fromIdTokenResponse(e,a,o),d=ub(a);return new no({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=ub(a);return new no({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function ub(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fh extends Yn{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new fh(e,n,a,o)}}function Ik(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(r,o,e,a):o})}async function xI(r,e,n=!1){const a=await Xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return no._forOperation(r,"link",a)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function CI(r,e,n=!1){const{auth:a}=r;if(Pn(a.app))return Promise.reject($i(a));const o="reauthenticate";try{const u=await Xl(r,Ik(a,o,e,r),n);be(u.idToken,a,"internal-error");const d=ym(u.idToken);be(d,a,"internal-error");const{sub:p}=d;return be(r.uid===p,a,"user-mismatch"),no._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Wn(a,"user-mismatch"),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _k(r,e,n=!1){if(Pn(r.app))return Promise.reject($i(r));const a="signIn",o=await Ik(r,a,e),u=await no._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function EI(r,e){return _k(mo(r),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function TI(r){const e=mo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function II(r,e,n){return Pn(r.app)?Promise.reject($i(r)):EI(ht(r),go.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&TI(r),a})}function _I(r,e,n,a){return ht(r).onIdTokenChanged(e,n,a)}function NI(r,e,n){return ht(r).beforeAuthStateChanged(e,n)}function RI(r,e,n,a){return ht(r).onAuthStateChanged(e,n,a)}function AI(r){return ht(r).signOut()}const ph="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DI=1e3,OI=10;class Rk extends Nk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);X2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OI):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rk.type="LOCAL";const PI=Rk;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ak extends Nk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ak.type="SESSION";const Dk=Ak;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function LI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Fh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,u)),m=await LI(p);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function km(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,m)=>{const y=km("",20);o.port1.start();const k=setTimeout(()=>{m(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(x){const E=x;if(E.data.eventId===y)switch(E.data.status){case"ack":clearTimeout(k),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(E.data.response);break;default:clearTimeout(k),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gr(){return window}function MI(r){gr().location.href=r}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ok(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function zI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function VI(){return Ok()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pk="firebaseLocalStorageDb",UI=1,mh="firebaseLocalStorage",Lk="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(r,e){return r.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function BI(){const r=indexedDB.deleteDatabase(Pk);return new cu(r).toPromise()}function Lp(){const r=indexedDB.open(Pk,UI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(mh,{keyPath:Lk})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(mh)?e(a):(a.close(),await BI(),e(await Lp()))})})}async function cb(r,e,n){const a=Vh(r,!0).put({[Lk]:e,value:n});return new cu(a).toPromise()}async function $I(r,e){const n=Vh(r,!1).get(e),a=await new cu(n).toPromise();return a===void 0?null:a.value}function hb(r,e){const n=Vh(r,!0).delete(e);return new cu(n).toPromise()}const qI=800,KI=3;class jk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>KI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ok()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(VI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zI(),!this.activeServiceWorker)return;this.sender=new jI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lp();return await cb(e,ph,"1"),await hb(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>cb(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>$I(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Vh(o,!1).getAll();return new cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jk.type="LOCAL";const HI=jk;new lu(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function WI(r,e){return e?Gr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sm extends bm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QI(r){return _k(r.auth,new Sm(r),r.bypassAuthState)}function GI(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),CI(n,new Sm(r),r.bypassAuthState)}async function YI(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),xI(n,new Sm(r),r.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mk{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QI;case"linkViaPopup":case"linkViaRedirect":return YI;case"reauthViaPopup":case"reauthViaRedirect":return GI;default:Wn(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const XI=new lu(2e3,1e4);class Xs extends Mk{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XI.get())};e()}}Xs.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JI="pendingRedirect",Jc=new Map;class ZI extends Mk{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const n=await e_(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e_(r,e){const n=r_(e),a=n_(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function t_(r,e){Jc.set(r._key(),e)}function n_(r){return Gr(r._redirectPersistence)}function r_(r){return Xc(JI,r.config.apiKey,r.name)}async function i_(r,e,n=!1){if(Pn(r.app))return Promise.reject($i(r));const a=mo(r),o=WI(a,e),u=await new ZI(a,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const a_=10*60*1e3;class s_{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o_(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!zk(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a_&&this.cachedEventUids.clear(),this.cachedEventUids.has(db(e))}saveEventToCache(e){this.cachedEventUids.add(db(e)),this.lastProcessedEventTime=Date.now()}}function db(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zk({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o_(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zk(r);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function l_(r,e={}){return ea(r,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const u_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c_=/^https?/;async function h_(r){if(r.config.emulator)return;const{authorizedDomains:e}=await l_(r);for(const n of e)try{if(d_(n))return}catch{}Wn(r,"unauthorized-domain")}function d_(r){const e=Op(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===a}if(!c_.test(n))return!1;if(u_.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const f_=new lu(3e4,6e4);function fb(){const r=gr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function p_(r){return new Promise((e,n)=>{var a,o,u;function d(){fb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fb(),n(mr(r,"network-request-failed"))},timeout:f_.get()})}if(!((o=(a=gr().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gr().gapi)===null||u===void 0)&&u.load)d();else{const p=sI("iframefcb");return gr()[p]=()=>{gapi.load?d():n(mr(r,"network-request-failed"))},xk(`${aI()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function m_(r){return Zc=Zc||p_(r),Zc}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const g_=new lu(5e3,15e3),y_="__/auth/iframe",v_="emulator/auth/iframe",b_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k_(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?gm(e,v_):`https://${r.config.authDomain}/${y_}`,a={apiKey:e.apiKey,appName:r.name,v:po},o=w_.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${ou(a).slice(1)}`}async function S_(r){const e=await m_(r),n=gr().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:k_(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b_,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=mr(r,"network-request-failed"),p=gr().setTimeout(()=>{u(d)},g_.get());function m(){gr().clearTimeout(p),o(a)}a.ping(m).then(m,()=>{u(d)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const x_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C_=500,E_=600,T_="_blank",I_="http://localhost";class pb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function __(r,e,n,a=C_,o=E_){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const m=Object.assign(Object.assign({},x_),{width:a.toString(),height:o.toString(),top:u,left:d}),y=Yt().toLowerCase();n&&(p=gk(y)?T_:n),pk(y)&&(e=e||I_,m.scrollbars="yes");const k=Object.entries(m).reduce((E,[P,D])=>`${E}${P}=${D},`,"");if(Y2(y)&&p!=="_self")return N_(e||"",p),new pb(null);const x=window.open(e||"",p,k);be(x,r,"popup-blocked");try{x.focus()}catch{}return new pb(x)}function N_(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R_="__/auth/handler",A_="emulator/auth/handler",D_=encodeURIComponent("fac");async function mb(r,e,n,a,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:po,eventId:o};if(e instanceof Tk){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",mT(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[k,x]of Object.entries({}))d[k]=x}if(e instanceof uu){const k=e.getScopes().filter(x=>x!=="");k.length>0&&(d.scopes=k.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const k of Object.keys(p))p[k]===void 0&&delete p[k];const m=await r._getAppCheckToken(),y=m?`#${D_}=${encodeURIComponent(m)}`:"";return`${O_(r)}?${ou(p).slice(1)}${y}`}function O_({config:r}){return r.emulator?gm(r,A_):`https://${r.authDomain}/${R_}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gp="webStorageSupport";class P_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dk,this._completeRedirectFn=i_,this._overrideRedirectResult=t_}async _openPopup(e,n,a,o){var u;ti((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await mb(e,n,a,Op(),o);return __(e,d,km())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await mb(e,n,a,Op(),o);return MI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ti(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await S_(e),a=new s_(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gp,{type:gp},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[gp];u!==void 0&&n(!!u),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h_(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kk()||mk()||vm()}}const L_=P_;var gb="@firebase/auth",yb="1.10.7";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class j_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function M_(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z_(r){Hn(new jn("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sk(r)},y=new nI(a,o,u,m);return dI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Hn(new jn("auth-internal",e=>{const n=mo(e.getProvider("auth").getImmediate());return(a=>new j_(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),on(gb,yb,M_(r)),on(gb,yb,"esm2017")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const F_=5*60,V_=Yw("authIdTokenMaxAge")||F_;let vb=null;const U_=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>V_)return;const o=n==null?void 0:n.token;vb!==o&&(vb=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function B_(r=jh()){const e=Zi(r,"auth");if(e.isInitialized())return e.getImmediate();const n=hI(r,{popupRedirectResolver:L_,persistence:[HI,PI,Dk]}),a=Yw("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=U_(u.toString());NI(n,d,()=>d(n.currentUser)),_I(n,p=>d(p))}}const o=Ww("auth");return o&&fI(n,`http://${o}`),n}function $_(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}rI({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=mr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",$_().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z_("Browser");var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,Fk;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,T){function _(){}_.prototype=T.prototype,j.D=T.prototype,j.prototype=new _,j.prototype.constructor=j,j.C=function(M,I,A){for(var N=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)N[Je-2]=arguments[Je];return T.prototype[I].apply(M,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,T,_){_||(_=0);var M=Array(16);if(typeof T=="string")for(var I=0;16>I;++I)M[I]=T.charCodeAt(_++)|T.charCodeAt(_++)<<8|T.charCodeAt(_++)<<16|T.charCodeAt(_++)<<24;else for(I=0;16>I;++I)M[I]=T[_++]|T[_++]<<8|T[_++]<<16|T[_++]<<24;T=j.g[0],_=j.g[1],I=j.g[2];var A=j.g[3],N=T+(A^_&(I^A))+M[0]+3614090360&4294967295;T=_+(N<<7&4294967295|N>>>25),N=A+(I^T&(_^I))+M[1]+3905402710&4294967295,A=T+(N<<12&4294967295|N>>>20),N=I+(_^A&(T^_))+M[2]+606105819&4294967295,I=A+(N<<17&4294967295|N>>>15),N=_+(T^I&(A^T))+M[3]+3250441966&4294967295,_=I+(N<<22&4294967295|N>>>10),N=T+(A^_&(I^A))+M[4]+4118548399&4294967295,T=_+(N<<7&4294967295|N>>>25),N=A+(I^T&(_^I))+M[5]+1200080426&4294967295,A=T+(N<<12&4294967295|N>>>20),N=I+(_^A&(T^_))+M[6]+2821735955&4294967295,I=A+(N<<17&4294967295|N>>>15),N=_+(T^I&(A^T))+M[7]+4249261313&4294967295,_=I+(N<<22&4294967295|N>>>10),N=T+(A^_&(I^A))+M[8]+1770035416&4294967295,T=_+(N<<7&4294967295|N>>>25),N=A+(I^T&(_^I))+M[9]+2336552879&4294967295,A=T+(N<<12&4294967295|N>>>20),N=I+(_^A&(T^_))+M[10]+4294925233&4294967295,I=A+(N<<17&4294967295|N>>>15),N=_+(T^I&(A^T))+M[11]+2304563134&4294967295,_=I+(N<<22&4294967295|N>>>10),N=T+(A^_&(I^A))+M[12]+1804603682&4294967295,T=_+(N<<7&4294967295|N>>>25),N=A+(I^T&(_^I))+M[13]+4254626195&4294967295,A=T+(N<<12&4294967295|N>>>20),N=I+(_^A&(T^_))+M[14]+2792965006&4294967295,I=A+(N<<17&4294967295|N>>>15),N=_+(T^I&(A^T))+M[15]+1236535329&4294967295,_=I+(N<<22&4294967295|N>>>10),N=T+(I^A&(_^I))+M[1]+4129170786&4294967295,T=_+(N<<5&4294967295|N>>>27),N=A+(_^I&(T^_))+M[6]+3225465664&4294967295,A=T+(N<<9&4294967295|N>>>23),N=I+(T^_&(A^T))+M[11]+643717713&4294967295,I=A+(N<<14&4294967295|N>>>18),N=_+(A^T&(I^A))+M[0]+3921069994&4294967295,_=I+(N<<20&4294967295|N>>>12),N=T+(I^A&(_^I))+M[5]+3593408605&4294967295,T=_+(N<<5&4294967295|N>>>27),N=A+(_^I&(T^_))+M[10]+38016083&4294967295,A=T+(N<<9&4294967295|N>>>23),N=I+(T^_&(A^T))+M[15]+3634488961&4294967295,I=A+(N<<14&4294967295|N>>>18),N=_+(A^T&(I^A))+M[4]+3889429448&4294967295,_=I+(N<<20&4294967295|N>>>12),N=T+(I^A&(_^I))+M[9]+568446438&4294967295,T=_+(N<<5&4294967295|N>>>27),N=A+(_^I&(T^_))+M[14]+3275163606&4294967295,A=T+(N<<9&4294967295|N>>>23),N=I+(T^_&(A^T))+M[3]+4107603335&4294967295,I=A+(N<<14&4294967295|N>>>18),N=_+(A^T&(I^A))+M[8]+1163531501&4294967295,_=I+(N<<20&4294967295|N>>>12),N=T+(I^A&(_^I))+M[13]+2850285829&4294967295,T=_+(N<<5&4294967295|N>>>27),N=A+(_^I&(T^_))+M[2]+4243563512&4294967295,A=T+(N<<9&4294967295|N>>>23),N=I+(T^_&(A^T))+M[7]+1735328473&4294967295,I=A+(N<<14&4294967295|N>>>18),N=_+(A^T&(I^A))+M[12]+2368359562&4294967295,_=I+(N<<20&4294967295|N>>>12),N=T+(_^I^A)+M[5]+4294588738&4294967295,T=_+(N<<4&4294967295|N>>>28),N=A+(T^_^I)+M[8]+2272392833&4294967295,A=T+(N<<11&4294967295|N>>>21),N=I+(A^T^_)+M[11]+1839030562&4294967295,I=A+(N<<16&4294967295|N>>>16),N=_+(I^A^T)+M[14]+4259657740&4294967295,_=I+(N<<23&4294967295|N>>>9),N=T+(_^I^A)+M[1]+2763975236&4294967295,T=_+(N<<4&4294967295|N>>>28),N=A+(T^_^I)+M[4]+1272893353&4294967295,A=T+(N<<11&4294967295|N>>>21),N=I+(A^T^_)+M[7]+4139469664&4294967295,I=A+(N<<16&4294967295|N>>>16),N=_+(I^A^T)+M[10]+3200236656&4294967295,_=I+(N<<23&4294967295|N>>>9),N=T+(_^I^A)+M[13]+681279174&4294967295,T=_+(N<<4&4294967295|N>>>28),N=A+(T^_^I)+M[0]+3936430074&4294967295,A=T+(N<<11&4294967295|N>>>21),N=I+(A^T^_)+M[3]+3572445317&4294967295,I=A+(N<<16&4294967295|N>>>16),N=_+(I^A^T)+M[6]+76029189&4294967295,_=I+(N<<23&4294967295|N>>>9),N=T+(_^I^A)+M[9]+3654602809&4294967295,T=_+(N<<4&4294967295|N>>>28),N=A+(T^_^I)+M[12]+3873151461&4294967295,A=T+(N<<11&4294967295|N>>>21),N=I+(A^T^_)+M[15]+530742520&4294967295,I=A+(N<<16&4294967295|N>>>16),N=_+(I^A^T)+M[2]+3299628645&4294967295,_=I+(N<<23&4294967295|N>>>9),N=T+(I^(_|~A))+M[0]+4096336452&4294967295,T=_+(N<<6&4294967295|N>>>26),N=A+(_^(T|~I))+M[7]+1126891415&4294967295,A=T+(N<<10&4294967295|N>>>22),N=I+(T^(A|~_))+M[14]+2878612391&4294967295,I=A+(N<<15&4294967295|N>>>17),N=_+(A^(I|~T))+M[5]+4237533241&4294967295,_=I+(N<<21&4294967295|N>>>11),N=T+(I^(_|~A))+M[12]+1700485571&4294967295,T=_+(N<<6&4294967295|N>>>26),N=A+(_^(T|~I))+M[3]+2399980690&4294967295,A=T+(N<<10&4294967295|N>>>22),N=I+(T^(A|~_))+M[10]+4293915773&4294967295,I=A+(N<<15&4294967295|N>>>17),N=_+(A^(I|~T))+M[1]+2240044497&4294967295,_=I+(N<<21&4294967295|N>>>11),N=T+(I^(_|~A))+M[8]+1873313359&4294967295,T=_+(N<<6&4294967295|N>>>26),N=A+(_^(T|~I))+M[15]+4264355552&4294967295,A=T+(N<<10&4294967295|N>>>22),N=I+(T^(A|~_))+M[6]+2734768916&4294967295,I=A+(N<<15&4294967295|N>>>17),N=_+(A^(I|~T))+M[13]+1309151649&4294967295,_=I+(N<<21&4294967295|N>>>11),N=T+(I^(_|~A))+M[4]+4149444226&4294967295,T=_+(N<<6&4294967295|N>>>26),N=A+(_^(T|~I))+M[11]+3174756917&4294967295,A=T+(N<<10&4294967295|N>>>22),N=I+(T^(A|~_))+M[2]+718787259&4294967295,I=A+(N<<15&4294967295|N>>>17),N=_+(A^(I|~T))+M[9]+3951481745&4294967295,j.g[0]=j.g[0]+T&4294967295,j.g[1]=j.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,j.g[2]=j.g[2]+I&4294967295,j.g[3]=j.g[3]+A&4294967295}a.prototype.u=function(j,T){T===void 0&&(T=j.length);for(var _=T-this.blockSize,M=this.B,I=this.h,A=0;A<T;){if(I==0)for(;A<=_;)o(this,j,A),A+=this.blockSize;if(typeof j=="string"){for(;A<T;)if(M[I++]=j.charCodeAt(A++),I==this.blockSize){o(this,M),I=0;break}}else for(;A<T;)if(M[I++]=j[A++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=T},a.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var T=1;T<j.length-8;++T)j[T]=0;var _=8*this.o;for(T=j.length-8;T<j.length;++T)j[T]=_&255,_/=256;for(this.u(j),j=Array(16),T=_=0;4>T;++T)for(var M=0;32>M;M+=8)j[_++]=this.g[T]>>>M&255;return j};function u(j,T){var _=p;return Object.prototype.hasOwnProperty.call(_,j)?_[j]:_[j]=T(j)}function d(j,T){this.h=T;for(var _=[],M=!0,I=j.length-1;0<=I;I--){var A=j[I]|0;M&&A==T||(_[I]=A,M=!1)}this.g=_}var p={};function m(j){return-128<=j&&128>j?u(j,function(T){return new d([T|0],0>T?-1:0)}):new d([j|0],0>j?-1:0)}function y(j){if(isNaN(j)||!isFinite(j))return x;if(0>j)return z(y(-j));for(var T=[],_=1,M=0;j>=_;M++)T[M]=j/_|0,_*=4294967296;return new d(T,0)}function k(j,T){if(j.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(j.charAt(0)=="-")return z(k(j.substring(1),T));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=y(Math.pow(T,8)),M=x,I=0;I<j.length;I+=8){var A=Math.min(8,j.length-I),N=parseInt(j.substring(I,I+A),T);8>A?(A=y(Math.pow(T,A)),M=M.j(A).add(y(N))):(M=M.j(_),M=M.add(y(N)))}return M}var x=m(0),E=m(1),P=m(16777216);r=d.prototype,r.m=function(){if(K(this))return-z(this).m();for(var j=0,T=1,_=0;_<this.g.length;_++){var M=this.i(_);j+=(0<=M?M:4294967296+M)*T,T*=4294967296}return j},r.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(D(this))return"0";if(K(this))return"-"+z(this).toString(j);for(var T=y(Math.pow(j,6)),_=this,M="";;){var I=re(_,T).g;_=G(_,I.j(T));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(j);if(_=I,D(_))return A+M;for(;6>A.length;)A="0"+A;M=A+M}},r.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function D(j){if(j.h!=0)return!1;for(var T=0;T<j.g.length;T++)if(j.g[T]!=0)return!1;return!0}function K(j){return j.h==-1}r.l=function(j){return j=G(this,j),K(j)?-1:D(j)?0:1};function z(j){for(var T=j.g.length,_=[],M=0;M<T;M++)_[M]=~j.g[M];return new d(_,~j.h).add(E)}r.abs=function(){return K(this)?z(this):this},r.add=function(j){for(var T=Math.max(this.g.length,j.g.length),_=[],M=0,I=0;I<=T;I++){var A=M+(this.i(I)&65535)+(j.i(I)&65535),N=(A>>>16)+(this.i(I)>>>16)+(j.i(I)>>>16);M=N>>>16,A&=65535,N&=65535,_[I]=N<<16|A}return new d(_,_[_.length-1]&-2147483648?-1:0)};function G(j,T){return j.add(z(T))}r.j=function(j){if(D(this)||D(j))return x;if(K(this))return K(j)?z(this).j(z(j)):z(z(this).j(j));if(K(j))return z(this.j(z(j)));if(0>this.l(P)&&0>j.l(P))return y(this.m()*j.m());for(var T=this.g.length+j.g.length,_=[],M=0;M<2*T;M++)_[M]=0;for(M=0;M<this.g.length;M++)for(var I=0;I<j.g.length;I++){var A=this.i(M)>>>16,N=this.i(M)&65535,Je=j.i(I)>>>16,We=j.i(I)&65535;_[2*M+2*I]+=N*We,F(_,2*M+2*I),_[2*M+2*I+1]+=A*We,F(_,2*M+2*I+1),_[2*M+2*I+1]+=N*Je,F(_,2*M+2*I+1),_[2*M+2*I+2]+=A*Je,F(_,2*M+2*I+2)}for(M=0;M<T;M++)_[M]=_[2*M+1]<<16|_[2*M];for(M=T;M<2*T;M++)_[M]=0;return new d(_,0)};function F(j,T){for(;(j[T]&65535)!=j[T];)j[T+1]+=j[T]>>>16,j[T]&=65535,T++}function ae(j,T){this.g=j,this.h=T}function re(j,T){if(D(T))throw Error("division by zero");if(D(j))return new ae(x,x);if(K(j))return T=re(z(j),T),new ae(z(T.g),z(T.h));if(K(T))return T=re(j,z(T)),new ae(z(T.g),T.h);if(30<j.g.length){if(K(j)||K(T))throw Error("slowDivide_ only works with positive integers.");for(var _=E,M=T;0>=M.l(j);)_=ue(_),M=ue(M);var I=ke(_,1),A=ke(M,1);for(M=ke(M,2),_=ke(_,2);!D(M);){var N=A.add(M);0>=N.l(j)&&(I=I.add(_),A=N),M=ke(M,1),_=ke(_,1)}return T=G(j,I.j(T)),new ae(I,T)}for(I=x;0<=j.l(T);){for(_=Math.max(1,Math.floor(j.m()/T.m())),M=Math.ceil(Math.log(_)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),A=y(_),N=A.j(T);K(N)||0<N.l(j);)_-=M,A=y(_),N=A.j(T);D(A)&&(A=E),I=I.add(A),j=G(j,N)}return new ae(I,j)}r.A=function(j){return re(this,j).h},r.and=function(j){for(var T=Math.max(this.g.length,j.g.length),_=[],M=0;M<T;M++)_[M]=this.i(M)&j.i(M);return new d(_,this.h&j.h)},r.or=function(j){for(var T=Math.max(this.g.length,j.g.length),_=[],M=0;M<T;M++)_[M]=this.i(M)|j.i(M);return new d(_,this.h|j.h)},r.xor=function(j){for(var T=Math.max(this.g.length,j.g.length),_=[],M=0;M<T;M++)_[M]=this.i(M)^j.i(M);return new d(_,this.h^j.h)};function ue(j){for(var T=j.g.length+1,_=[],M=0;M<T;M++)_[M]=j.i(M)<<1|j.i(M-1)>>>31;return new d(_,j.h)}function ke(j,T){var _=T>>5;T%=32;for(var M=j.g.length-_,I=[],A=0;A<M;A++)I[A]=0<T?j.i(A+_)>>>T|j.i(A+_+1)<<32-T:j.i(A+_);return new d(I,j.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Fk=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=k,qi=d}).apply(typeof bb<"u"?bb:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vk,Ml,Uk,eh,jp,Bk,$k,qk;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,b){return c==Array.prototype||c==Object.prototype||(c[g]=b.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=n(this);function o(c,g){if(g)e:{var b=a;c=c.split(".");for(var C=0;C<c.length-1;C++){var U=c[C];if(!(U in b))break e;b=b[U]}c=c[c.length-1],C=b[c],g=g(C),g!=C&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var b=0,C=!1,U={next:function(){if(!C&&b<c.length){var Q=b++;return{value:g(Q,c[Q]),done:!1}}return C=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function m(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function k(c,g,b){return c.call.apply(c.bind,arguments)}function x(c,g,b){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,C),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function E(c,g,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?k:x,E.apply(null,arguments)}function P(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function D(c,g){function b(){}b.prototype=g.prototype,c.aa=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(C,U,Q){for(var se=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)se[Me-2]=arguments[Me];return g.prototype[U].apply(C,se)}}function K(c){const g=c.length;if(0<g){const b=Array(g);for(let C=0;C<g;C++)b[C]=c[C];return b}return[]}function z(c,g){for(let b=1;b<arguments.length;b++){const C=arguments[b];if(m(C)){const U=c.length||0,Q=C.length||0;c.length=U+Q;for(let se=0;se<Q;se++)c[U+se]=C[se]}else c.push(C)}}class G{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ue=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function ke(c,g,b){for(const C in c)g.call(b,c[C],C,c)}function j(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function T(c){const g={};for(const b in c)g[b]=c[b];return g}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,g){let b,C;for(let U=1;U<arguments.length;U++){C=arguments[U];for(b in C)c[b]=C[b];for(let Q=0;Q<_.length;Q++)b=_[Q],Object.prototype.hasOwnProperty.call(C,b)&&(c[b]=C[b])}}function I(c){var g=1;c=c.split(":");const b=[];for(;0<g&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function A(c){p.setTimeout(()=>{throw c},0)}function N(){var c=Fe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Je{constructor(){this.h=this.g=null}add(g,b){const C=We.get();C.set(g,b),this.h?this.h.next=C:this.g=C,this.h=C}}var We=new G(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,pe=!1,Fe=new Je,O=()=>{const c=p.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(b){A(b)}var g=We;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}pe=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};p.addEventListener("test",b,g),p.removeEventListener("test",b,g)}catch{}return c}();function Ne(c,g){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ue){e:{try{re(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}D(Ne,ie);var xe={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),et=0;function Xn(c,g,b,C,U){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!C,this.ha=U,this.key=++et,this.da=this.fa=!1}function si(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kr(c){this.src=c,this.g={},this.h=0}kr.prototype.add=function(c,g,b,C,U){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var se=ia(c,g,C,U);return-1<se?(g=c[se],b||(g.fa=!1)):(g=new Xn(g,this.src,Q,!!C,U),g.fa=b,c.push(g)),g};function ra(c,g){var b=g.type;if(b in c.g){var C=c.g[b],U=Array.prototype.indexOf.call(C,g,void 0),Q;(Q=0<=U)&&Array.prototype.splice.call(C,U,1),Q&&(si(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function ia(c,g,b,C){for(var U=0;U<c.length;++U){var Q=c[U];if(!Q.da&&Q.listener==g&&Q.capture==!!b&&Q.ha==C)return U}return-1}var aa="closure_lm_"+(1e6*Math.random()|0),xo={};function yu(c,g,b,C,U){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)yu(c,g[Q],b,C,U);return null}return b=vu(b),c&&c[_t]?c.K(g,b,y(C)?!!C.capture:!1,U):kn(c,g,b,!1,C,U)}function kn(c,g,b,C,U,Q){if(!g)throw Error("Invalid event type");var se=y(U)?!!U.capture:!!U,Me=ts(c);if(Me||(c[aa]=Me=new kr(c)),b=Me.add(g,b,C,se,Q),b.proxy)return b;if(C=ad(),b.proxy=C,C.src=c,C.listener=b,c.addEventListener)ge||(U=se),U===void 0&&(U=!1),c.addEventListener(g.toString(),C,U);else if(c.attachEvent)c.attachEvent(sa(g.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ad(){function c(b){return g.call(c.src,c.listener,b)}const g=sd;return c}function Co(c,g,b,C,U){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Co(c,g[Q],b,C,U);else C=y(C)?!!C.capture:!!C,b=vu(b),c&&c[_t]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],b=ia(Q,b,C,U),-1<b&&(si(Q[b]),Array.prototype.splice.call(Q,b,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=ts(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ia(g,b,C,U)),(b=-1<c?g[c]:null)&&es(b))}function es(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[_t])ra(g.i,c);else{var b=c.type,C=c.proxy;g.removeEventListener?g.removeEventListener(b,C,c.capture):g.detachEvent?g.detachEvent(sa(b),C):g.addListener&&g.removeListener&&g.removeListener(C),(b=ts(g))?(ra(b,c),b.h==0&&(b.src=null,g[aa]=null)):si(c)}}}function sa(c){return c in xo?xo[c]:xo[c]="on"+c}function sd(c,g){if(c.da)c=!0;else{g=new Ne(g,this);var b=c.listener,C=c.ha||c.src;c.fa&&es(c),c=b.call(C,g)}return c}function ts(c){return c=c[aa],c instanceof kr?c:null}var Eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(g){return c.handleEvent(g)}),c[Eo])}function lt(){le.call(this),this.i=new kr(this),this.M=this,this.F=null}D(lt,le),lt.prototype[_t]=!0,lt.prototype.removeEventListener=function(c,g,b,C){Co(this,c,g,b,C)};function qe(c,g){var b,C=c.F;if(C)for(b=[];C;C=C.F)b.push(C);if(c=c.M,C=g.type||g,typeof g=="string")g=new ie(g,c);else if(g instanceof ie)g.target=g.target||c;else{var U=g;g=new ie(C,c),M(g,U)}if(U=!0,b)for(var Q=b.length-1;0<=Q;Q--){var se=g.g=b[Q];U=cn(se,C,!0,g)&&U}if(se=g.g=c,U=cn(se,C,!0,g)&&U,U=cn(se,C,!1,g)&&U,b)for(Q=0;Q<b.length;Q++)se=g.g=b[Q],U=cn(se,C,!1,g)&&U}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var b=c.g[g],C=0;C<b.length;C++)si(b[C]);delete c.g[g],c.h--}}this.F=null},lt.prototype.K=function(c,g,b,C){return this.i.add(String(c),g,!1,b,C)},lt.prototype.L=function(c,g,b,C){return this.i.add(String(c),g,!0,b,C)};function cn(c,g,b,C){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,Q=0;Q<g.length;++Q){var se=g[Q];if(se&&!se.da&&se.capture==b){var Me=se.listener,xt=se.ha||se.src;se.fa&&ra(c.i,se),U=Me.call(xt,C)!==!1&&U}}return U&&!C.defaultPrevented}function qt(c,g,b){if(typeof c=="function")b&&(c=E(c,b));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(c,g||0)}function bu(c){c.g=qt(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class od extends le{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(c){le.call(this),this.h=c,this.g={}}D(oa,le);var la=[];function ua(c){ke(c.g,function(g,b){this.g.hasOwnProperty(b)&&es(g)},c),c.g={}}oa.prototype.N=function(){oa.aa.N.call(this),ua(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=p.JSON.stringify,ns=p.JSON.parse,ca=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function To(){}To.prototype.h=null;function Io(c){return c.h||(c.h=c.i())}function _o(){}var Sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){ie.call(this,"d")}D(xr,ie);function No(){ie.call(this,"c")}D(No,ie);var Jn={},Ro=null;function oi(){return Ro=Ro||new lt}Jn.La="serverreachability";function rs(c){ie.call(this,Jn.La,c)}D(rs,ie);function li(c){const g=oi();qe(g,new rs(g))}Jn.STAT_EVENT="statevent";function wu(c,g){ie.call(this,Jn.STAT_EVENT,c),this.stat=g}D(wu,ie);function rt(c){const g=oi();qe(g,new wu(g,c))}Jn.Ma="timingevent";function kt(c,g){ie.call(this,Jn.Ma,c),this.size=g}D(kt,ie);function gt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},g)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function Ao(c,g,b,C,U,Q){c.info(function(){if(c.g)if(Q)for(var se="",Me=Q.split("&"),xt=0;xt<Me.length;xt++){var Ve=Me[xt].split("=");if(1<Ve.length){var Rt=Ve[0];Ve=Ve[1];var jt=Rt.split("_");se=2<=jt.length&&jt[1]=="type"?se+(Rt+"="+Ve+"&"):se+(Rt+"=redacted&")}}else se=null;else se=Q;return"XMLHTTP REQ ("+C+") [attempt "+U+"]: "+g+`
`+b+`
`+se})}function ld(c,g,b,C,U,Q,se){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+U+"]: "+g+`
`+b+`
`+Q+" "+se})}function ui(c,g,b,C){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ha(c,b)+(C?" "+C:"")})}function ku(c,g){c.info(function(){return"TIMEOUT: "+g})}Sn.prototype.info=function(){};function ha(c,g){if(!c.g)return g;if(!g)return null;try{var b=JSON.parse(g);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var C=b[c];if(!(2>C.length)){var U=C[1];if(Array.isArray(U)&&!(1>U.length)){var Q=U[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return Mn(b)}catch{return g}}var ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function er(){}D(er,To),er.prototype.g=function(){return new XMLHttpRequest},er.prototype.i=function(){return{}},Zn=new er;function Xt(c,g,b,C){this.j=c,this.i=g,this.l=b,this.R=C||1,this.U=new oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Do={},is={};function zn(c,g,b){c.L=1,c.v=ga(hn(g)),c.m=b,c.P=!0,Er(c,null)}function Er(c,g){c.F=Date.now(),da(c),c.A=hn(c.v);var b=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),zo(b.i,"t",C),c.C=0,b=c.j.J,c.h=new dt,c.g=Mu(c.j,b?g:null,!c.m),0<c.O&&(c.M=new od(E(c.Y,c,c.g),c.O)),g=c.U,b=c.g,C=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(la[0]=U.toString()),U=la);for(var Q=0;Q<U.length;Q++){var se=yu(b,U[Q],C||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),li(),Ao(c.i,c.u,c.A,c.l,c.R,c.m)}Xt.prototype.ca=function(c){c=c.target;const g=this.M;g&&Tn(c)==3?g.j():this.Y(c)},Xt.prototype.Y=function(c){try{if(c==this.g)e:{const jt=Tn(this.g);var g=this.g.Ba();const Or=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||Nu(this.g)))){this.J||jt!=4||g==7||(g==8||0>=Or?li(3):li(2)),hi(this);var b=this.g.Z();this.X=b;t:if(Su(this)){var C=Nu(this.g);c="";var U=C.length,Q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),tr(this);var se="";break t}this.h.i=new p.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(C[g],{stream:!(Q&&g==U-1)});C.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=b==200,ld(this.i,this.u,this.A,this.l,this.R,jt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,xt=this.g;if((Me=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Me)){var Ve=Me;break t}}Ve=null}if(b=Ve)ui(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fa(this,b);else{this.o=!1,this.s=3,rt(12),Lt(this),tr(this);break e}}if(this.P){b=!0;let Mt;for(;!this.J&&this.C<se.length;)if(Mt=xu(this,se),Mt==is){jt==4&&(this.s=4,rt(14),b=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Do){this.s=4,rt(15),ui(this.i,this.l,se,"[Invalid Chunk]"),b=!1;break}else ui(this.i,this.l,Mt,null),fa(this,Mt);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||se.length!=0||this.h.h||(this.s=1,rt(16),b=!1),this.o=this.o&&b,!b)ui(this.i,this.l,se,"[Invalid Chunked Response]"),Lt(this),tr(this);else if(0<se.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ca(Rt),Rt.M=!0,rt(11))}}else ui(this.i,this.l,se,null),fa(this,se);jt==4&&Lt(this),this.o&&!this.J&&(jt==4?Pu(this.j,this):(this.o=!1,da(this)))}else fd(this.g),b==400&&0<se.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Lt(this),tr(this)}}}catch{}finally{}};function Su(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xu(c,g){var b=c.C,C=g.indexOf(`
`,b);return C==-1?is:(b=Number(g.substring(b,C)),isNaN(b)?Do:(C+=1,C+b>g.length?is:(g=g.slice(C,C+b),c.C=C+b,g)))}Xt.prototype.cancel=function(){this.J=!0,Lt(this)};function da(c){c.S=Date.now()+c.I,Cu(c,c.I)}function Cu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(E(c.ba,c),g)}function hi(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Xt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ku(this.i,this.A),this.L!=2&&(li(),rt(17)),Lt(this),this.s=2,tr(this)):Cu(this,this.S-c)};function tr(c){c.j.G==0||c.J||Pu(c.j,c)}function Lt(c){hi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ua(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function fa(c,g){try{var b=c.j;if(b.G!=0&&(b.g==c||Oo(b.h,c))){if(!c.K&&Oo(b.h,c)&&b.G==3){try{var C=b.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var U=C;if(U[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)gs(b),ps(b);else break e;$o(b),rt(18)}}else b.za=U[1],0<b.za-b.T&&37500>U[2]&&b.F&&b.v==0&&!b.C&&(b.C=gt(E(b.Za,b),6e3));if(1>=ss(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Dr(b,11)}else if((c.K||b.g==c)&&gs(b),!F(g))for(U=b.Da.g.parse(g),g=0;g<U.length;g++){let Ve=U[g];if(b.T=Ve[0],Ve=Ve[1],b.G==2)if(Ve[0]=="c"){b.K=Ve[1],b.ia=Ve[2];const Rt=Ve[3];Rt!=null&&(b.la=Rt,b.j.info("VER="+b.la));const jt=Ve[4];jt!=null&&(b.Aa=jt,b.j.info("SVER="+b.Aa));const Or=Ve[5];Or!=null&&typeof Or=="number"&&0<Or&&(C=1.5*Or,b.L=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const Mt=c.g;if(Mt){const lr=Mt.g?Mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lr){var Q=C.h;Q.g||lr.indexOf("spdy")==-1&&lr.indexOf("quic")==-1&&lr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(os(Q,Q.h),Q.h=null))}if(C.D){const Ko=Mt.g?Mt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(C.ya=Ko,Qe(C.I,C.D,Ko))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),C=b;var se=c;if(C.qa=ju(C,C.J?C.ia:null,C.W),se.K){Jt(C.h,se);var Me=se,xt=C.L;xt&&(Me.I=xt),Me.B&&(hi(Me),da(Me)),C.g=se}else Du(C);0<b.i.length&&ms(b)}else Ve[0]!="stop"&&Ve[0]!="close"||Dr(b,7);else b.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Dr(b,7):Uo(b):Ve[0]!="noop"&&b.l&&b.l.ta(Ve),b.v=0)}}li(4)}catch{}}var Eu=class{constructor(c,g){this.g=c,this.map=g}};function Tr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function as(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ss(c){return c.h?1:c.g?c.g.size:0}function Oo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function os(c,g){c.g?c.g.add(g):c.h=g}function Jt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Tr.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Po(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.D);return g}return K(c.i)}function ud(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var g=[],b=c.length,C=0;C<b;C++)g.push(c[C]);return g}g=[],b=0;for(C in c)g[b++]=c[C];return g}function ls(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var g=[];c=c.length;for(var b=0;b<c;b++)g.push(b);return g}g=[],b=0;for(const C in c)g[b++]=C;return g}}}function Lo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var b=ls(c),C=ud(c),U=C.length,Q=0;Q<U;Q++)g.call(void 0,C[Q],b&&b[Q],c)}var pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cd(c,g){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var C=c[b].indexOf("="),U=null;if(0<=C){var Q=c[b].substring(0,C);U=c[b].substring(C+1)}else Q=c[b];g(Q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function St(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof St){this.h=c.h,ma(this,c.j),this.o=c.o,this.g=c.g,di(this,c.s),this.l=c.l;var g=c.i,b=new _r;b.i=g.i,g.g&&(b.g=new Map(g.g),b.h=g.h),Ir(this,b),this.m=c.m}else c&&(g=String(c).match(pa))?(this.h=!1,ma(this,g[1]||"",!0),this.o=xn(g[2]||""),this.g=xn(g[3]||"",!0),di(this,g[4]),this.l=xn(g[5]||"",!0),Ir(this,g[6]||"",!0),this.m=xn(g[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}St.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ya(g,jo,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ya(g,jo,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(ya(b,b.charAt(0)=="/"?hd:Mo,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",ya(b,us)),c.join("")};function hn(c){return new St(c)}function ma(c,g,b){c.j=b?xn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function di(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ir(c,g,b){g instanceof _r?(c.i=g,Iu(c.i,c.h)):(b||(g=ya(g,dd)),c.i=new _r(g,c.h))}function Qe(c,g,b){c.i.set(g,b)}function ga(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ya(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,Tu),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var jo=/[#\/\?@]/g,Mo=/[#\?:]/g,hd=/[#\?]/g,dd=/[#\?@]/g,us=/#/g;function _r(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&cd(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}r=_r.prototype,r.add=function(c,g){Cn(this),this.i=null,c=nr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function Nr(c,g){Cn(c),g=nr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Rr(c,g){return Cn(c),g=nr(c,g),c.g.has(g)}r.forEach=function(c,g){Cn(this),this.g.forEach(function(b,C){b.forEach(function(U){c.call(g,U,C,this)},this)},this)},r.na=function(){Cn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),b=[];for(let C=0;C<g.length;C++){const U=c[C];for(let Q=0;Q<U.length;Q++)b.push(g[C])}return b},r.V=function(c){Cn(this);let g=[];if(typeof c=="string")Rr(this,c)&&(g=g.concat(this.g.get(nr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)g=g.concat(c[b])}return g},r.set=function(c,g){return Cn(this),this.i=null,c=nr(this,c),Rr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function zo(c,g,b){Nr(c,g),0<b.length&&(c.i=null,c.g.set(nr(c,g),K(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var b=0;b<g.length;b++){var C=g[b];const Q=encodeURIComponent(String(C)),se=this.V(C);for(C=0;C<se.length;C++){var U=Q;se[C]!==""&&(U+="="+encodeURIComponent(String(se[C]))),c.push(U)}}return this.i=c.join("&")};function nr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Iu(c,g){g&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(b,C){var U=C.toLowerCase();C!=U&&(Nr(this,C),zo(this,U,b))},c)),c.j=g}function va(c,g){const b=new Sn;if(p.Image){const C=new Image;C.onload=P(En,b,"TestLoadImage: loaded",!0,g,C),C.onerror=P(En,b,"TestLoadImage: error",!1,g,C),C.onabort=P(En,b,"TestLoadImage: abort",!1,g,C),C.ontimeout=P(En,b,"TestLoadImage: timeout",!1,g,C),p.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else g(!1)}function Fn(c,g){const b=new Sn,C=new AbortController,U=setTimeout(()=>{C.abort(),En(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:C.signal}).then(Q=>{clearTimeout(U),Q.ok?En(b,"TestPingServer: ok",!0,g):En(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),En(b,"TestPingServer: error",!1,g)})}function En(c,g,b,C,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),C(b)}catch{}}function ba(){this.g=new ca}function rr(c,g,b){const C=b||"";try{Lo(c,function(U,Q){let se=U;y(U)&&(se=Mn(U)),g.push(C+Q+"="+encodeURIComponent(se))})}catch(U){throw g.push(C+"type="+encodeURIComponent("_badmap")),U}}function fi(c){this.l=c.Ub||null,this.j=c.eb||!1}D(fi,To),fi.prototype.g=function(){return new Ar(this.l,this.j)},fi.prototype.i=function(c){return function(){return c}}({});function Ar(c,g){lt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Ar,lt),r=Ar.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ar(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ir(this):ar(this),this.readyState==3&&Fo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ir(this))},r.Qa=function(c){this.g&&(this.response=c,ir(this))},r.ga=function(){this.g&&ir(this)};function ir(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ar(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vo(c){let g="";return ke(c,function(b,C){g+=C,g+=":",g+=b,g+=`\r
`}),g}function Nt(c,g,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=Vo(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):Qe(c,g,b))}function Be(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Be,lt);var cs=/^https?$/i,wa=["POST","PUT"];r=Be.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Io(this.o):Io(Zn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){_u(this,Q);return}if(c=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var U in C)b.set(U,C[U]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Q of C.keys())b.set(Q,C.get(Q));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(wa,g,void 0))||C||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of b)this.g.setRequestHeader(Q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ka(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){_u(this,Q)}};function _u(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,hs(c),sr(c)}function hs(c){c.A||(c.A=!0,qe(c,"complete"),qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qe(this,"complete"),qe(this,"abort"),sr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),Be.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ds(this):this.bb())},r.bb=function(){ds(this)};function ds(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)qt(c.Ea,0,c);else if(qe(c,"readystatechange"),Tn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var C;if(C=se===0){var U=String(c.D).match(pa)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),C=!cs.test(U?U.toLowerCase():"")}b=C}if(b)qe(c,"complete"),qe(c,"success");else{c.m=6;try{var Q=2<Tn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",hs(c)}}finally{sr(c)}}}}function sr(c,g){if(c.g){ka(c);const b=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||qe(c,"ready");try{b.onreadystatechange=C}catch{}}}function ka(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ns(g)}};function Nu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fd(c){const g={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(F(c[C]))continue;var b=I(c[C]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=g[U]||[];g[U]=Q,Q.push(b)}j(g,function(C){return C.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function fs(c){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,c),this.cb=Sa("retryDelaySeedMs",1e4,c),this.Wa=Sa("forwardChannelMaxRetries",2,c),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Tr(c&&c.concurrentRequestLimit),this.Da=new ba,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=fs.prototype,r.la=8,r.G=1,r.connect=function(c,g,b,C){rt(0),this.W=c,this.H=g||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.I=ju(this,null,this.W),ms(this)};function Uo(c){if(Ru(c),c.G==3){var g=c.U++,b=hn(c.I);if(Qe(b,"SID",c.K),Qe(b,"RID",g),Qe(b,"TYPE","terminate"),xa(c,b),g=new Xt(c,c.j,g),g.L=2,g.v=ga(hn(b)),b=!1,p.navigator&&p.navigator.sendBeacon)try{b=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!b&&p.Image&&(new Image().src=g.v,b=!0),b||(g.g=Mu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),da(g)}Lu(c)}function ps(c){c.g&&(Ca(c),c.g.cancel(),c.g=null)}function Ru(c){ps(c),c.u&&(p.clearTimeout(c.u),c.u=null),gs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function ms(c){if(!as(c.h)&&!c.s){c.s=!0;var g=c.Ga;oe||O(),pe||(oe(),pe=!0),Fe.add(g,c),c.B=0}}function pd(c,g){return ss(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(E(c.Ga,c,g),qo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Xt(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=T(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(U.H=Q,Q=null),this.P)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Au(this,U,g),b=hn(this.I),Qe(b,"RID",c),Qe(b,"CVER",22),this.D&&Qe(b,"X-HTTP-Session-Id",this.D),xa(this,b),Q&&(this.O?g="headers="+encodeURIComponent(String(Vo(Q)))+"&"+g:this.m&&Nt(b,this.m,Q)),os(this.h,U),this.Ua&&Qe(b,"TYPE","init"),this.P?(Qe(b,"$req",g),Qe(b,"SID","null"),U.T=!0,zn(U,b,null)):zn(U,b,g),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||as(this.h)||Bo(this))};function Bo(c,g){var b;g?b=g.l:b=c.U++;const C=hn(c.I);Qe(C,"SID",c.K),Qe(C,"RID",b),Qe(C,"AID",c.T),xa(c,C),c.m&&c.o&&Nt(C,c.m,c.o),b=new Xt(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Au(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),os(c.h,b),zn(b,C,g)}function xa(c,g){c.H&&ke(c.H,function(b,C){Qe(g,C,b)}),c.l&&Lo({},function(b,C){Qe(g,C,b)})}function Au(c,g,b){b=Math.min(c.i.length,b);var C=c.l?E(c.l.Na,c.l,c):null;e:{var U=c.i;let Q=-1;for(;;){const se=["count="+b];Q==-1?0<b?(Q=U[0].g,se.push("ofs="+Q)):Q=0:se.push("ofs="+Q);let Me=!0;for(let xt=0;xt<b;xt++){let Ve=U[xt].g;const Rt=U[xt].map;if(Ve-=Q,0>Ve)Q=Math.max(0,U[xt].g-100),Me=!1;else try{rr(Rt,se,"req"+Ve+"_")}catch{C&&C(Rt)}}if(Me){C=se.join("&");break e}}}return c=c.i.splice(0,b),g.D=c,C}function Du(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;oe||O(),pe||(oe(),pe=!0),Fe.add(g,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(E(c.Fa,c),qo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(E(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),ps(this),Ou(this))};function Ca(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new Xt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=hn(c.qa);Qe(g,"RID","rpc"),Qe(g,"SID",c.K),Qe(g,"AID",c.T),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(g,"TO",c.ja),Qe(g,"TYPE","xmlhttp"),xa(c,g),c.m&&c.o&&Nt(g,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=ga(hn(g)),b.m=null,b.P=!0,Er(b,c)}r.Za=function(){this.C!=null&&(this.C=null,ps(this),$o(this),rt(19))};function gs(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Pu(c,g){var b=null;if(c.g==g){gs(c),Ca(c),c.g=null;var C=2}else if(Oo(c.h,g))b=g.D,Jt(c.h,g),C=1;else return;if(c.G!=0){if(g.o)if(C==1){b=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;C=oi(),qe(C,new kt(C,b)),ms(c)}else Du(c);else if(U=g.s,U==3||U==0&&0<g.X||!(C==1&&pd(c,g)||C==2&&$o(c)))switch(b&&0<b.length&&(g=c.h,g.i=g.i.concat(b)),U){case 1:Dr(c,5);break;case 4:Dr(c,10);break;case 3:Dr(c,6);break;default:Dr(c,2)}}}function qo(c,g){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*g}function Dr(c,g){if(c.j.info("Error code "+g),g==2){var b=E(c.fb,c),C=c.Xa;const U=!C;C=new St(C||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||ma(C,"https"),ga(C),U?va(C.toString(),b):Fn(C.toString(),b)}else rt(2);c.G=0,c.l&&c.l.sa(g),Lu(c),Ru(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Lu(c){if(c.G=0,c.ka=[],c.l){const g=Po(c.h);(g.length!=0||c.i.length!=0)&&(z(c.ka,g),z(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function ju(c,g,b){var C=b instanceof St?hn(b):new St(b);if(C.g!="")g&&(C.g=g+"."+C.g),di(C,C.s);else{var U=p.location;C=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var Q=new St(null);C&&ma(Q,C),g&&(Q.g=g),U&&di(Q,U),b&&(Q.l=b),C=Q}return b=c.D,g=c.ya,b&&g&&Qe(C,b,g),Qe(C,"VER",c.la),xa(c,C),C}function Mu(c,g,b){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Be(new fi({eb:b})):new Be(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}r=zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ys(){}ys.prototype.g=function(c,g){return new Zt(c,g)};function Zt(c,g){lt.call(this),this.g=new fs(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!F(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!F(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new or(this)}D(Zt,lt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Uo(this.g)},Zt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=Mn(c),c=b);g.i.push(new Eu(g.Ya++,c)),g.G==3&&ms(g)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,Zt.aa.N.call(this)};function Fu(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}D(Fu,xr);function Vu(){No.call(this),this.status=1}D(Vu,No);function or(c){this.g=c}D(or,zu),or.prototype.ua=function(){qe(this.g,"a")},or.prototype.ta=function(c){qe(this.g,new Fu(c))},or.prototype.sa=function(c){qe(this.g,new Vu)},or.prototype.ra=function(){qe(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,qk=function(){return new ys},$k=function(){return oi()},Bk=Jn,jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ci.NO_ERROR=0,ci.TIMEOUT=8,ci.HTTP_ERROR=6,eh=ci,Cr.COMPLETE="complete",Uk=Cr,_o.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Ml=_o,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,Vk=Be}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const wb="@firebase/firestore",kb="4.7.17";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let yo="11.9.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qa=new Lh("@firebase/firestore");function Ws(){return qa.logLevel}function ce(r,...e){if(qa.logLevel<=Oe.DEBUG){const n=e.map(xm);qa.debug(`Firestore (${yo}): ${r}`,...n)}}function ni(r,...e){if(qa.logLevel<=Oe.ERROR){const n=e.map(xm);qa.error(`Firestore (${yo}): ${r}`,...n)}}function ro(r,...e){if(qa.logLevel<=Oe.WARN){const n=e.map(xm);qa.warn(`Firestore (${yo}): ${r}`,...n)}}function xm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function we(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,Kk(r,a,n)}function Kk(r,e,n){let a=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ni(a),new Error(a)}function $e(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||Kk(e,o,a)}function Ee(r,e){return r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class K_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class H_{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let u=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xr)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string",31837,{l:a}),new Hk(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class W_{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q_{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new W_(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G_{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const a=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Sb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Y_(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wk(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Y_(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function _e(r,e){return r<e?-1:r>e?1:0}function Mp(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return _e(a,o);{const u=Wk(),d=X_(u.encode(xb(r,n)),u.encode(xb(e,n)));return d!==0?d:_e(a,o)}}n+=a>65535?2:1}return _e(r.length,e.length)}function xb(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function X_(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return _e(r[n],e[n]);return _e(r.length,e.length)}function io(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cb=-62135596800,Eb=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Eb);return new Tt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Cb)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Eb}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Cb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Tt(0,0))}static max(){return new Ce(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tb="__name__";class pr{constructor(e,n,a){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&we(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=pr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return _e(e.length,n.length)}static compareSegments(e,n){const a=pr.isNumericId(e),o=pr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?pr.extractNumericId(e).compare(pr.extractNumericId(n)):Mp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class nt extends pr{construct(e,n,a){return new nt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const J_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends pr{construct(e,n,a){return new Bt(e,n,a)}static isValidIdentifier(e){return J_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tb}static keyField(){return new Bt([Tb])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(u(),o++)}if(u(),d)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zl=-1;function Z_(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(a===1e9?new Tt(n+1,0):new Tt(n,a));return new Wi(o,me.empty(),e)}function eN(r){return new Wi(r.readTime,r.key,Zl)}class Wi{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Wi(Ce.min(),me.empty(),Zl)}static max(){return new Wi(Ce.max(),me.empty(),Zl)}}function tN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:_e(r.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function vo(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==nN)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,a)=>{n(e)})}static reject(e){return new ee((n,a)=>{a(e)})}static waitFor(e){return new ee((n,a)=>{let o=0,u=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++u,d&&u===o&&n()},m=>a(m))}),d=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const a of e)n=n.next(o=>o?ee.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ee((a,o)=>{const u=e.length,d=new Array(u);let p=0;for(let m=0;m<u;m++){const y=m;n(e[y]).next(k=>{d[y]=k,++p,p===u&&a(d)},k=>o(k))}})}static doWhile(e,n){return new ee((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function iN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(r){return r.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Uh.le=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cm=-1;function Bh(r){return r==null}function gh(r){return r===0&&1/r==-1/0}function aN(r){return typeof r=="number"&&Number.isInteger(r)&&!gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gk="";function sN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Ib(e)),e=oN(r.get(n),e);return Ib(e)}function oN(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Gk:n+="";break;default:n+=u}}return n}function Ib(r){return r+Gk+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _b(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ta(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Yk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ot{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Ut.RED,this.left=o??Ut.EMPTY,this.right=u??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Ut(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ut.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(r,e,n,a,o){return this}insert(r,e,n){return new Ut(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class It{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nb(this.data.getIterator())}getIteratorFrom(e){return new Nb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class Nb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new It(Bt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Xk("Invalid base64 string: "+o):o}}(e);return new $t(n)}static fromUint8Array(e){const n=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const lN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(r){if($e(!!r,39018),typeof r=="string"){let e=0;const n=lN.exec(r);if($e(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gi(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jk="server_timestamp",Zk="__type__",eS="__previous_value__",tS="__local_write_time__";function Em(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zk])===null||n===void 0?void 0:n.stringValue)===Jk}function $h(r){const e=r.mapValue.fields[eS];return Em(e)?$h(e):e}function eu(r){const e=Qi(r.mapValue.fields[tS].timestampValue);return new Tt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uN{constructor(e,n,a,o,u,d,p,m,y,k){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=k}}const yh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nS="__type__",cN="__max__",Kc={mapValue:{}},rS="__vector__",vh="value";function Yi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Em(r)?4:dN(r)?9007199254740991:hN(r)?10:11:we(28295,{value:r})}function br(r,e){if(r===e)return!0;const n=Yi(r);if(n!==Yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Qi(a.timestampValue),d=Qi(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,o){return Gi(a.bytesValue).isEqual(Gi(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,o){return mt(a.geoPointValue.latitude)===mt(o.geoPointValue.latitude)&&mt(a.geoPointValue.longitude)===mt(o.geoPointValue.longitude)}(r,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return mt(a.integerValue)===mt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=mt(a.doubleValue),d=mt(o.doubleValue);return u===d?gh(u)===gh(d):isNaN(u)&&isNaN(d)}return!1}(r,e);case 9:return io(r.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},d=o.mapValue.fields||{};if(_b(u)!==_b(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!br(u[p],d[p])))return!1;return!0}(r,e);default:return we(52216,{left:r})}}function nu(r,e){return(r.values||[]).find(n=>br(n,e))!==void 0}function ao(r,e){if(r===e)return 0;const n=Yi(r),a=Yi(e);if(n!==a)return _e(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(r.booleanValue,e.booleanValue);case 2:return function(o,u){const d=mt(o.integerValue||o.doubleValue),p=mt(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return Rb(r.timestampValue,e.timestampValue);case 4:return Rb(eu(r),eu(e));case 5:return Mp(r.stringValue,e.stringValue);case 6:return function(o,u){const d=Gi(o),p=Gi(u);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),p=u.split("/");for(let m=0;m<d.length&&m<p.length;m++){const y=_e(d[m],p[m]);if(y!==0)return y}return _e(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,u){const d=_e(mt(o.latitude),mt(u.latitude));return d!==0?d:_e(mt(o.longitude),mt(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ab(r.arrayValue,e.arrayValue);case 10:return function(o,u){var d,p,m,y;const k=o.fields||{},x=u.fields||{},E=(d=k[vh])===null||d===void 0?void 0:d.arrayValue,P=(p=x[vh])===null||p===void 0?void 0:p.arrayValue,D=_e(((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0,((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:Ab(E,P)}(r.mapValue,e.mapValue);case 11:return function(o,u){if(o===Kc.mapValue&&u===Kc.mapValue)return 0;if(o===Kc.mapValue)return 1;if(u===Kc.mapValue)return-1;const d=o.fields||{},p=Object.keys(d),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let k=0;k<p.length&&k<y.length;++k){const x=Mp(p[k],y[k]);if(x!==0)return x;const E=ao(d[p[k]],m[y[k]]);if(E!==0)return E}return _e(p.length,y.length)}(r.mapValue,e.mapValue);default:throw we(23264,{Pe:n})}}function Rb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return _e(r,e);const n=Qi(r),a=Qi(e),o=_e(n.seconds,a.seconds);return o!==0?o:_e(n.nanos,a.nanos)}function Ab(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=ao(n[o],a[o]);if(u)return u}return _e(n.length,a.length)}function so(r){return zp(r)}function zp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const n=Qi(e);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return Gi(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return me.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let n="[",a=!0;for(const o of e.values||[])a?a=!1:n+=",",n+=zp(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(e){const n=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const u of n)o?o=!1:a+=",",a+=`${u}:${zp(e.fields[u])}`;return a+"}"}(r.mapValue):we(61005,{value:r})}function th(r){switch(Yi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(r);return e?16+th(e):16;case 5:return 2*r.stringValue.length;case 6:return Gi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,o)=>a+th(o),0)}(r.arrayValue);case 10:case 11:return function(n){let a=0;return ta(n.fields,(o,u)=>{a+=o.length+th(u)}),a}(r.mapValue);default:throw we(13486,{value:r})}}function Db(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Fp(r){return!!r&&"integerValue"in r}function Tm(r){return!!r&&"arrayValue"in r}function Ob(r){return!!r&&"nullValue"in r}function Pb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nh(r){return!!r&&"mapValue"in r}function hN(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[nS])===null||n===void 0?void 0:n.stringValue)===rS}function ql(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ta(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=ql(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(r.arrayValue.values[n]);return e}return Object.assign({},r)}function dN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cN}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Bt.emptyPath(),a={},o=[];e.forEach((d,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,a,o),a={},o=[],n=p.popLast()}d?a[p.lastSegment()]=ql(d):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){ta(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new sn(ql(this.value))}}function iS(r){const e=[];return ta(r.fields,(n,a)=>{const o=new Bt([n]);if(nh(a)){const u=iS(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new bn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gt{constructor(e,n,a,o,u,d,p){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Gt(e,0,Ce.min(),Ce.min(),Ce.min(),sn.empty(),0)}static newFoundDocument(e,n,a,o){return new Gt(e,1,n,Ce.min(),a,o,0)}static newNoDocument(e,n){return new Gt(e,2,n,Ce.min(),Ce.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,Ce.min(),Ce.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bh{constructor(e,n){this.position=e,this.inclusive=n}}function Lb(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?a=me.comparator(me.fromName(d.referenceValue),n.key):a=ao(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function jb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!br(r.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function fN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aS{}class wt extends aS{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new mN(e,n,a):n==="array-contains"?new vN(e,a):n==="in"?new bN(e,a):n==="not-in"?new wN(e,a):n==="array-contains-any"?new kN(e,a):new wt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new gN(e,a):new yN(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends aS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Qn(e,n)}matches(e){return sS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function sS(r){return r.op==="and"}function oS(r){return pN(r)&&sS(r)}function pN(r){for(const e of r.filters)if(e instanceof Qn)return!1;return!0}function Vp(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+so(r.value);if(oS(r))return r.filters.map(e=>Vp(e)).join(",");{const e=r.filters.map(n=>Vp(n)).join(",");return`${r.op}(${e})`}}function lS(r,e){return r instanceof wt?function(n,a){return a instanceof wt&&n.op===a.op&&n.field.isEqual(a.field)&&br(n.value,a.value)}(r,e):r instanceof Qn?function(n,a){return a instanceof Qn&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((o,u,d)=>o&&lS(u,a.filters[d]),!0):!1}(r,e):void we(19439)}function uS(r){return r instanceof wt?function(e){return`${e.field.canonicalString()} ${e.op} ${so(e.value)}`}(r):r instanceof Qn?function(e){return e.op.toString()+" {"+e.getFilters().map(uS).join(" ,")+"}"}(r):"Filter"}class mN extends wt{constructor(e,n,a){super(e,n,a),this.key=me.fromName(a.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class gN extends wt{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yN extends wt{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cS(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>me.fromName(a.referenceValue))}class vN extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tm(n)&&nu(n.arrayValue,this.value)}}class bN extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class wN extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class kN extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>nu(this.value.arrayValue,a))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SN{constructor(e,n=null,a=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Ie=null}}function Mb(r,e=null,n=[],a=[],o=null,u=null,d=null){return new SN(r,e,n,a,o,u,d)}function Im(r){const e=Ee(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Vp(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(o){return o.field.canonicalString()+o.dir}(a)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>so(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>so(a)).join(",")),e.Ie=n}return e.Ie}function _m(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!fN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!lS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!jb(r.startAt,e.startAt)&&jb(r.endAt,e.endAt)}function Up(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hu{constructor(e,n=null,a=[],o=[],u=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xN(r,e,n,a,o,u,d,p){return new hu(r,e,n,a,o,u,d,p)}function Nm(r){return new hu(r)}function zb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hS(r){return r.collectionGroup!==null}function Kl(r){const e=Ee(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new It(Bt.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new wh(o,a))}),n.has(Bt.keyField().canonicalString())||e.Ee.push(new wh(Bt.keyField(),a))}return e.Ee}function yr(r){const e=Ee(r);return e.de||(e.de=CN(e,Kl(r))),e.de}function CN(r,e){if(r.limitType==="F")return Mb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wh(o.field,u)});const n=r.endAt?new bh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new bh(r.startAt.position,r.startAt.inclusive):null;return Mb(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Bp(r,e){const n=r.filters.concat([e]);return new hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function $p(r,e,n){return new hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function qh(r,e){return _m(yr(r),yr(e))&&r.limitType===e.limitType}function dS(r){return`${Im(yr(r))}|lt:${r.limitType}`}function Qs(r){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(a=>uS(a)).join(", ")}]`),Bh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(a=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(a)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>so(a)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>so(a)).join(",")),`Target(${n})`}(yr(r))}; limitType=${r.limitType})`}function Kh(r,e){return e.isFoundDocument()&&function(n,a){const o=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):me.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,a){for(const o of Kl(n))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,a){for(const o of n.filters)if(!o.matches(a))return!1;return!0}(r,e)&&function(n,a){return!(n.startAt&&!function(o,u,d){const p=Lb(o,u,d);return o.inclusive?p<=0:p<0}(n.startAt,Kl(n),a)||n.endAt&&!function(o,u,d){const p=Lb(o,u,d);return o.inclusive?p>=0:p>0}(n.endAt,Kl(n),a))}(r,e)}function EN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fS(r){return(e,n)=>{let a=!1;for(const o of Kl(r)){const u=TN(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function TN(r,e,n){const a=r.field.isKeyField()?me.comparator(e.key,n.key):function(o,u,d){const p=u.data.field(o),m=d.data.field(o);return p!==null&&m!==null?ao(p,m):we(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return we(19790,{direction:r.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return Yk(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IN=new ot(me.comparator);function ri(){return IN}const pS=new ot(me.comparator);function zl(...r){let e=pS;for(const n of r)e=e.insert(n.key,n);return e}function mS(r){let e=pS;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Ua(){return Hl()}function gS(){return Hl()}function Hl(){return new Xa(r=>r.toString(),(r,e)=>r.isEqual(e))}const _N=new ot(me.comparator),NN=new It(me.comparator);function Pe(...r){let e=NN;for(const n of r)e=e.add(n);return e}const RN=new It(_e);function AN(){return RN}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Rm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function yS(r){return{integerValue:""+r}}function DN(r,e){return aN(e)?yS(e):Rm(r,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hh{constructor(){this._=void 0}}function ON(r,e,n){return r instanceof kh?function(a,o){const u={fields:{[Zk]:{stringValue:Jk},[tS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Em(o)&&(o=$h(o)),o&&(u.fields[eS]=o),{mapValue:u}}(n,e):r instanceof ru?bS(r,e):r instanceof iu?wS(r,e):function(a,o){const u=vS(a,o),d=Fb(u)+Fb(a.Re);return Fp(u)&&Fp(a.Re)?yS(d):Rm(a.serializer,d)}(r,e)}function PN(r,e,n){return r instanceof ru?bS(r,e):r instanceof iu?wS(r,e):n}function vS(r,e){return r instanceof Sh?function(n){return Fp(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class kh extends Hh{}class ru extends Hh{constructor(e){super(),this.elements=e}}function bS(r,e){const n=kS(e);for(const a of r.elements)n.some(o=>br(o,a))||n.push(a);return{arrayValue:{values:n}}}class iu extends Hh{constructor(e){super(),this.elements=e}}function wS(r,e){let n=kS(e);for(const a of r.elements)n=n.filter(o=>!br(o,a));return{arrayValue:{values:n}}}class Sh extends Hh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Fb(r){return mt(r.integerValue||r.doubleValue)}function kS(r){return Tm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function LN(r,e){return r.field.isEqual(e.field)&&function(n,a){return n instanceof ru&&a instanceof ru||n instanceof iu&&a instanceof iu?io(n.elements,a.elements,br):n instanceof Sh&&a instanceof Sh?br(n.Re,a.Re):n instanceof kh&&a instanceof kh}(r.transform,e.transform)}class jN{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function SS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Am(r.key,qn.none()):new du(r.key,r.data,qn.none());{const n=r.data,a=sn.empty();let o=new It(Bt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new na(r.key,a,new bn(o.toArray()),qn.none())}}function MN(r,e,n){r instanceof du?function(a,o,u){const d=a.value.clone(),p=Ub(a.fieldTransforms,o,u.transformResults);d.setAll(p),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(r,e,n):r instanceof na?function(a,o,u){if(!rh(a.precondition,o))return void o.convertToUnknownDocument(u.version);const d=Ub(a.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(xS(a)),p.setAll(d),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,n):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Wl(r,e,n,a){return r instanceof du?function(o,u,d,p){if(!rh(o.precondition,u))return d;const m=o.value.clone(),y=Bb(o.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(r,e,n,a):r instanceof na?function(o,u,d,p){if(!rh(o.precondition,u))return d;const m=Bb(o.fieldTransforms,p,u),y=u.data;return y.setAll(xS(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(k=>k.field))}(r,e,n,a):function(o,u,d){return rh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(r,e,n)}function zN(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=vS(a.transform,o||null);u!=null&&(n===null&&(n=sn.empty()),n.set(a.field,u))}return n||null}function Vb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&io(n,a,(o,u)=>LN(o,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class du extends Wh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class na extends Wh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xS(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function Ub(r,e,n){const a=new Map;$e(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,p=e.data.field(u.field);a.set(u.field,PN(d,p,n[o]))}return a}function Bb(r,e,n){const a=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);a.set(o.field,ON(u,d,e))}return a}class Am extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FN extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VN{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MN(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Wl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Wl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=gS();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const m=SS(d,p);m!==null&&a.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Ce.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,(n,a)=>Vb(n,a))&&io(this.baseMutations,e.baseMutations,(n,a)=>Vb(n,a))}}class Dm{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){$e(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return _N}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new Dm(e,n,a,o)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var bt,je;function $N(r){switch(r){case te.OK:return we(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function CS(r){if(r===void 0)return ni("GRPC error has no .code"),te.UNKNOWN;switch(r){case bt.OK:return te.OK;case bt.CANCELLED:return te.CANCELLED;case bt.UNKNOWN:return te.UNKNOWN;case bt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case bt.INTERNAL:return te.INTERNAL;case bt.UNAVAILABLE:return te.UNAVAILABLE;case bt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case bt.NOT_FOUND:return te.NOT_FOUND;case bt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case bt.ABORTED:return te.ABORTED;case bt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case bt.DATA_LOSS:return te.DATA_LOSS;default:return we(39323,{code:r})}}(je=bt||(bt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qN=new qi([4294967295,4294967295],0);function $b(r){const e=Wk().encode(r),n=new Fk;return n.update(e),new Uint8Array(n.digest())}function qb(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qi([n,a],0),new qi([o,u],0)]}class Om{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(a<0)throw new Fl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=qi.fromNumber(this.pe)}we(e,n,a){let o=e.add(n.multiply(qi.fromNumber(a)));return o.compare(qN)===1&&(o=new qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=$b(e),[a,o]=qb(n);for(let u=0;u<this.hashCount;u++){const d=this.we(a,o,u);if(!this.be(d))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Om(u,o,n);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.pe===0)return;const n=$b(e),[a,o]=qb(n);for(let u=0;u<this.hashCount;u++){const d=this.we(a,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Qh(Ce.min(),o,new ot(_e),ri(),Pe())}}class fu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new fu(a,n,Pe(),Pe(),Pe())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ih{constructor(e,n,a,o){this.De=e,this.removedTargetIds=n,this.key=a,this.ve=o}}class ES{constructor(e,n){this.targetId=e,this.Ce=n}}class TS{constructor(e,n,a=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class Kb{constructor(){this.Fe=0,this.Me=Hb(),this.xe=$t.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pe(),n=Pe(),a=Pe();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:we(38017,{changeType:u})}}),new fu(this.xe,this.Oe,e,n,a)}Qe(){this.Ne=!1,this.Me=Hb()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,$e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class KN{constructor(e){this.ze=e,this.je=new Map,this.He=ri(),this.Je=Hc(),this.Ye=Hc(),this.Ze=new ot(_e)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const a=this.rt(n);switch(e.state){case 0:this.it(n)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,a=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Up(u))if(a===0){const d=new me(u.path);this.tt(n,d,Gt.newNoDocument(d,Ce.min()))}else $e(a===1,20013,{expectedCount:a});else{const d=this.ut(n);if(d!==a){const p=this.ct(e),m=p?this.lt(p,e,d):1;if(m!==0){this.st(n);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=Gi(a).toUint8Array()}catch(m){if(m instanceof Xk)return ro("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Om(d,o,u)}catch(m){return ro(m instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.pe===0?null:p}lt(e,n,a){return n.Ce.count===a-this.Tt(e,n.targetId)?0:2}Tt(e,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,d)=>{const p=this._t(d);if(p){if(u.current&&Up(p.target)){const m=new me(p.target.path);this.Et(m).has(d)||this.dt(d,m)||this.tt(d,m,Gt.newNoDocument(m,e))}u.Le&&(n.set(d,u.qe()),u.Qe())}});let a=Pe();this.Ye.forEach((u,d)=>{let p=!0;d.forEachWhile(m=>{const y=this._t(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(u))}),this.He.forEach((u,d)=>d.setReadTime(e));const o=new Qh(e,n,this.Ze,this.He,a);return this.He=ri(),this.Je=Hc(),this.Ye=Hc(),this.Ze=new ot(_e),o}et(e,n){if(!this.it(e))return;const a=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),a&&(this.He=this.He.insert(n,a))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Kb,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new It(_e),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new It(_e),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Kb),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Hc(){return new ot(me.comparator)}function Hb(){return new ot(me.comparator)}const HN={asc:"ASCENDING",desc:"DESCENDING"},WN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QN={and:"AND",or:"OR"};class GN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qp(r,e){return r.useProto3Json||Bh(e)?e:{value:e}}function xh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function YN(r,e){return xh(r,e.toTimestamp())}function vr(r){return $e(!!r,49232),Ce.fromTimestamp(function(e){const n=Qi(e);return new Tt(n.seconds,n.nanos)}(r))}function Pm(r,e){return Kp(r,e).canonicalString()}function Kp(r,e){const n=function(a){return new nt(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?n:n.child(e)}function _S(r){const e=nt.fromString(r);return $e(OS(e),10190,{key:e.toString()}),e}function Hp(r,e){return Pm(r.databaseId,e.path)}function yp(r,e){const n=_S(e);if(n.get(1)!==r.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(RS(n))}function NS(r,e){return Pm(r.databaseId,e)}function XN(r){const e=_S(r);return e.length===4?nt.emptyPath():RS(e)}function Wp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function RS(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Wb(r,e,n){return{name:Hp(r,e),fields:n.value.mapValue.fields}}function JN(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:we(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(m,y){return m.useProto3Json?($e(y===void 0||typeof y=="string",58123),$t.fromBase64String(y||"")):($e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),$t.fromUint8Array(y||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(m){const y=m.code===void 0?te.UNKNOWN:CS(m.code);return new he(y,m.message||"")}(d);n=new TS(a,o,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=yp(r,a.document.name),u=vr(a.document.updateTime),d=a.document.createTime?vr(a.document.createTime):Ce.min(),p=new sn({mapValue:{fields:a.document.fields}}),m=Gt.newFoundDocument(o,u,d,p),y=a.targetIds||[],k=a.removedTargetIds||[];n=new ih(y,k,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=yp(r,a.document),u=a.readTime?vr(a.readTime):Ce.min(),d=Gt.newNoDocument(o,u),p=a.removedTargetIds||[];n=new ih([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=yp(r,a.document),u=a.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new BN(o,u),p=a.targetId;n=new ES(p,d)}}return n}function ZN(r,e){let n;if(e instanceof du)n={update:Wb(r,e.key,e.value)};else if(e instanceof Am)n={delete:Hp(r,e.key)};else if(e instanceof na)n={update:Wb(r,e.key,e.data),updateMask:lR(e.fieldMask)};else{if(!(e instanceof FN))return we(16599,{ft:e.type});n={verify:Hp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(o,u){const d=u.transform;if(d instanceof kh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ru)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof iu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Sh)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw we(20930,{transform:u.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:YN(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we(27497)}(r,e.precondition)),n}function eR(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map(n=>function(a,o){let u=a.updateTime?vr(a.updateTime):vr(o);return u.isEqual(Ce.min())&&(u=vr(o)),new jN(u,a.transformResults||[])}(n,e))):[]}function tR(r,e){return{documents:[NS(r,e.path)]}}function nR(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=NS(r,o);const u=function(m){if(m.length!==0)return DS(Qn.create(m,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(m){if(m.length!==0)return m.map(y=>function(k){return{field:Gs(k.field),direction:aR(k.dir)}}(y))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=qp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:o}}function rR(r){let e=XN(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){$e(a===1,65062);const k=n.from[0];k.allDescendants?o=k.collectionId:e=e.child(k.collectionId)}let u=[];n.where&&(u=function(k){const x=AS(k);return x instanceof Qn&&oS(x)?x.getFilters():[x]}(n.where));let d=[];n.orderBy&&(d=function(k){return k.map(x=>function(E){return new wh(Ys(E.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(x))}(n.orderBy));let p=null;n.limit&&(p=function(k){let x;return x=typeof k=="object"?k.value:k,Bh(x)?null:x}(n.limit));let m=null;n.startAt&&(m=function(k){const x=!!k.before,E=k.values||[];return new bh(E,x)}(n.startAt));let y=null;return n.endAt&&(y=function(k){const x=!k.before,E=k.values||[];return new bh(E,x)}(n.endAt)),xN(e,o,d,u,p,"F",m,y)}function iR(r,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AS(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ys(e.unaryFilter.field);return wt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Ys(e.unaryFilter.field);return wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ys(e.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ys(e.unaryFilter.field);return wt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(r):r.fieldFilter!==void 0?function(e){return wt.create(Ys(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return Qn.create(e.compositeFilter.filters.map(n=>AS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(e.compositeFilter.op))}(r):we(30097,{filter:r})}function aR(r){return HN[r]}function sR(r){return WN[r]}function oR(r){return QN[r]}function Gs(r){return{fieldPath:r.canonicalString()}}function Ys(r){return Bt.fromServerFormat(r.fieldPath)}function DS(r){return r instanceof wt?function(e){if(e.op==="=="){if(Pb(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NAN"}};if(Ob(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Pb(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NOT_NAN"}};if(Ob(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(e.field),op:sR(e.op),value:e.value}}}(r):r instanceof Qn?function(e){const n=e.getFilters().map(a=>DS(a));return n.length===1?n[0]:{compositeFilter:{op:oR(e.op),filters:n}}}(r):we(54877,{filter:r})}function lR(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vi{constructor(e,n,a,o,u=Ce.min(),d=Ce.min(),p=$t.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uR{constructor(e){this.wt=e}}function cR(r){const e=rR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$p(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hR{constructor(){this.Cn=new dR}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Wi.min())}updateCollectionGroup(e,n,a){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class dR{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new It(nt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new It(nt.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PS=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(PS,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new oo(0)}static lr(){return new oo(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gb="LruGarbageCollector",fR=1048576;function Yb([r,e],[n,a]){const o=_e(r,n);return o===0?_e(e,a):o}class pR{constructor(e){this.Er=e,this.buffer=new It(Yb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();Yb(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mR{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(Gb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?ce(Gb,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.mr(3e5)})}}class gR{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Uh.le);const a=new pR(n);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.gr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Qb)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qb):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let a,o,u,d,p,m,y;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(a=x,p=Date.now(),this.removeTargets(e,a,n))).next(x=>(u=x,m=Date.now(),this.removeOrphanedDocuments(e,a))).next(x=>(y=Date.now(),Ws()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-k}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${x} documents in `+(y-m)+`ms
Total Duration: ${y-k}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x})))}}function yR(r,e){return new gR(r,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vR{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ee.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wR{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Wl(a.mutation,o,bn.empty(),Tt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Pe()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Pe()){const o=Ua();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let d=zl();return u.forEach((p,m)=>{d=d.insert(p,m.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const a=Ua();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Pe()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,p)=>{n.set(d,p)})})}computeViews(e,n,a,o){let u=ri();const d=Hl(),p=function(){return Hl()}();return n.forEach((m,y)=>{const k=a.get(y.key);o.has(y.key)&&(k===void 0||k.mutation instanceof na)?u=u.insert(y.key,y):k!==void 0?(d.set(y.key,k.mutation.getFieldMask()),Wl(k.mutation,y,k.mutation.getFieldMask(),Tt.now())):d.set(y.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((y,k)=>d.set(y,k)),n.forEach((y,k)=>{var x;return p.set(y,new bR(k,(x=d.get(y))!==null&&x!==void 0?x:null))}),p))}recalculateAndSaveOverlays(e,n){const a=Hl();let o=new ot((d,p)=>d-p),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const p of d)p.keys().forEach(m=>{const y=n.get(m);if(y===null)return;let k=a.get(m)||bn.empty();k=p.applyToLocalView(y,k),a.set(m,k);const x=(o.get(p.batchId)||Pe()).add(m);o=o.insert(p.batchId,x)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),y=m.key,k=m.value,x=gS();k.forEach(E=>{if(!u.has(E)){const P=SS(n.get(E),a.get(E));P!==null&&x.set(E,P),u=u.add(E)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return ee.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(u){return me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ee.resolve(Ua());let p=Zl,m=u;return d.next(y=>ee.forEach(y,(k,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),u.get(k)?ee.resolve():this.remoteDocumentCache.getEntry(e,k).next(E=>{m=m.insert(k,E)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,m,y,Pe())).next(k=>({batchId:p,changes:mS(k)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(a=>{let o=zl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,u).next(p=>ee.forEach(p,m=>{const y=function(k,x){return new hu(x,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(k=>{k.forEach((x,E)=>{d=d.insert(x,E)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(d=>{u.forEach((m,y)=>{const k=y.getKey();d.get(k)===null&&(d=d.insert(k,Gt.newInvalidDocument(k)))});let p=zl();return d.forEach((m,y)=>{const k=u.get(m);k!==void 0&&Wl(k.mutation,y,bn.empty(),Tt.now()),Kh(n,y)&&(p=p.insert(m,y))}),p})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kR{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ee.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:vr(a.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:cR(a.bundledQuery),readTime:vr(a.readTime)}}(n)),ee.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SR{constructor(){this.overlays=new ot(me.comparator),this.Qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ua();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(a)),ee.resolve()}getOverlaysForCollection(e,n,a){const o=Ua(),u=n.length+1,d=new me(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,y=m.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new ot((y,k)=>y-k);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let k=u.get(y.largestBatchId);k===null&&(k=Ua(),u=u.insert(y.largestBatchId,k)),k.set(y.getKey(),y)}}const p=Ua(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,k)=>p.set(y,k)),!(p.size()>=o)););return ee.resolve(p)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new UN(n,a));let u=this.Qr.get(n);u===void 0&&(u=Pe(),this.Qr.set(n,u)),this.Qr.set(n,u.add(a.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xR{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lm{constructor(){this.$r=new It(Pt.Ur),this.Kr=new It(Pt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const a=new Pt(e,n);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.zr(new Pt(e,n))}jr(e,n){e.forEach(a=>this.removeReference(a,n))}Hr(e){const n=new me(new nt([])),a=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Kr.forEachInRange([a,o],d=>{this.zr(d),u.push(d.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new me(new nt([])),a=new Pt(n,e),o=new Pt(n,e+1);let u=Pe();return this.Kr.forEachInRange([a,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new Pt(e,0),a=this.$r.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Pt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return me.comparator(e.key,n.key)||_e(e.Zr,n.Zr)}static Wr(e,n){return _e(e.Zr,n.Zr)||me.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new It(Pt.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VN(u,n,a,o);this.mutationQueue.push(d);for(const p of o)this.Xr=this.Xr.add(new Pt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,n){return ee.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ti(a),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Cm:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([a,o],d=>{const p=this.ei(d.Zr);u.push(p)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new It(_e);return n.forEach(o=>{const u=new Pt(o,0),d=new Pt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,d],p=>{a=a.add(p.Zr)})}),ee.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;me.isDocumentKey(u)||(u=u.child(""));const d=new Pt(new me(u),0);let p=new It(_e);return this.Xr.forEachWhile(m=>{const y=m.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(m.Zr)),!0)},d),ee.resolve(this.ni(p))}ni(e){const n=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return ee.forEach(n.mutations,o=>{const u=new Pt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,n){const a=new Pt(n,0),o=this.Xr.firstAfterOrEqual(a);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ER{constructor(e){this.ii=e,this.docs=function(){return new ot(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,d=this.ii(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ee.resolve(a?a.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let a=ri();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Gt.newInvalidDocument(o))}),ee.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=ri();const d=n.path,p=new me(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:y,value:{document:k}}=m.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||tN(eN(k),a)<=0||(o.has(k.key)||Kh(n,k))&&(u=u.insert(k.key,k.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,a,o){we(9500)}si(e,n){return ee.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new TR(this)}getSize(e){return ee.resolve(this.size)}}class TR extends vR{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),ee.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IR{constructor(e){this.persistence=e,this.oi=new Xa(n=>Im(n),_m),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this._i=0,this.ai=new Lm,this.targetCount=0,this.ui=oo.cr()}forEachTarget(e,n){return this.oi.forEach((a,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this._i&&(this._i=n),ee.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new oo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Tr(n),ee.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.oi.forEach((d,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const a=this.oi.get(n)||null;return ee.resolve(a)}addMatchingKeys(e,n,a){return this.ai.Gr(n,a),ee.resolve()}removeMatchingKeys(e,n,a){this.ai.jr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const a=this.ai.Yr(n);return ee.resolve(a)}containsKey(e,n){return ee.resolve(this.ai.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LS{constructor(e,n){this.ci={},this.overlays={},this.li=new Uh(0),this.hi=!1,this.hi=!0,this.Pi=new xR,this.referenceDelegate=e(this),this.Ti=new IR(this),this.indexManager=new hR,this.remoteDocumentCache=function(a){return new ER(a)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new uR(n),this.Ei=new kR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ci[e.toKey()];return a||(a=new CR(n,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,a){ce("MemoryPersistence","Starting transaction:",e);const o=new _R(this.li.next());return this.referenceDelegate.di(),a(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ee.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,n)))}}class _R extends rN{constructor(e){super(),this.currentSequenceNumber=e}}class jm{constructor(e){this.persistence=e,this.Vi=new Lm,this.mi=null}static fi(e){return new jm(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,n,a){return this.Vi.addReference(a,n),this.gi.delete(a.toString()),ee.resolve()}removeReference(e,n,a){return this.Vi.removeReference(a,n),this.gi.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,a=>{const o=me.fromPath(a);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Ce.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(a=>{a?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ee.or([()=>ee.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.yi=new Xa(a=>sN(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=yR(this,n)}static fi(e,n){return new Ch(e,n)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}br(e){let n=0;return this.yr(e,a=>{n++}).next(()=>n)}yr(e,n){return ee.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,n).next(p=>{p||(a++,u.removeEntry(d,Ce.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}Dr(e,n,a){return ee.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mm{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.ds=a,this.As=o}static Rs(e,n){let a=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mm(e,n.fromCache,a,o)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class RR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return cT()?8:iN(Yt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ws(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.bs(e,n,o,a).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new NR;return this.Ss(e,n,d).next(p=>{if(u.result=p,this.fs)return this.Ds(e,n,d,p.size)})}).next(()=>u.result)}Ds(e,n,a,o){return a.documentReadCount<this.gs?(Ws()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(Ws()<=Oe.DEBUG&&ce("QueryEngine","Query:",Qs(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(Ws()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):ee.resolve())}ws(e,n){if(zb(n))return ee.resolve(null);let a=yr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=$p(n,null,"F"),a=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const d=Pe(...u);return this.ys.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(m=>{const y=this.vs(n,p);return this.Cs(n,y,d,m.readTime)?this.ws(e,$p(n,null,"F")):this.Fs(e,y,n,m)}))})))}bs(e,n,a,o){return zb(n)||o.isEqual(Ce.min())?ee.resolve(null):this.ys.getDocuments(e,a).next(u=>{const d=this.vs(n,u);return this.Cs(n,d,a,o)?ee.resolve(null):(Ws()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qs(n)),this.Fs(e,d,n,Z_(o,Zl)).next(p=>p))})}vs(e,n){let a=new It(fS(e));return n.forEach((o,u)=>{Kh(e,u)&&(a=a.add(u))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Ws()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.ys.getDocumentsMatchingQuery(e,n,Wi.min(),a)}Fs(e,n,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zm="LocalStore",AR=3e8;class DR{constructor(e,n,a,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ot(_e),this.Os=new Xa(u=>Im(u),_m),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wR(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function OR(r,e,n,a){return new DR(r,e,n,a)}async function jS(r,e){const n=Ee(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const d=[],p=[];let m=Pe();for(const y of o){d.push(y.batchId);for(const k of y.mutations)m=m.add(k.key)}for(const y of u){p.push(y.batchId);for(const k of y.mutations)m=m.add(k.key)}return n.localDocuments.getDocuments(a,m).next(y=>({ks:y,removedBatchIds:d,addedBatchIds:p}))})})}function PR(r,e){const n=Ee(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,m,y){const k=m.batch,x=k.keys();let E=ee.resolve();return x.forEach(P=>{E=E.next(()=>y.getEntry(p,P)).next(D=>{const K=m.docVersions.get(P);$e(K!==null,48541),D.version.compareTo(K)<0&&(k.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),y.addEntry(D)))})}),E.next(()=>d.mutationQueue.removeMutationBatch(p,k))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let p=Pe();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function MS(r){const e=Ee(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function LR(r,e){const n=Ee(r),a=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const p=[];e.targetChanges.forEach((k,x)=>{const E=o.get(x);if(!E)return;p.push(n.Ti.removeMatchingKeys(u,k.removedDocuments,x).next(()=>n.Ti.addMatchingKeys(u,k.addedDocuments,x)));let P=E.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?P=P.withResumeToken($t.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):k.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(k.resumeToken,a)),o=o.insert(x,P),function(D,K,z){return D.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=AR?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(E,P,k)&&p.push(n.Ti.updateTargetData(u,P))});let m=ri(),y=Pe();if(e.documentUpdates.forEach(k=>{e.resolvedLimboDocuments.has(k)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,k))}),p.push(jR(u,d,e.documentUpdates).next(k=>{m=k.qs,y=k.Qs})),!a.isEqual(Ce.min())){const k=n.Ti.getLastRemoteSnapshotVersion(u).next(x=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,a));p.push(k)}return ee.waitFor(p).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,y)).next(()=>m)}).then(u=>(n.xs=o,u))}function jR(r,e,n){let a=Pe(),o=Pe();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let d=ri();return n.forEach((p,m)=>{const y=u.get(p);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):ce(zm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",m.version)}),{qs:d,Qs:o}})}function MR(r,e){const n=Ee(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Cm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function zR(r,e){const n=Ee(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Ti.getTargetData(a,e).next(u=>u?(o=u,ee.resolve(o)):n.Ti.allocateTargetId(a).next(d=>(o=new Vi(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(a.targetId,a),n.Os.set(e,a.targetId)),a})}async function Qp(r,e,n){const a=Ee(r),o=a.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!bo(d))throw d;ce(zm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function Xb(r,e,n){const a=Ee(r);let o=Ce.min(),u=Pe();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,m,y){const k=Ee(p),x=k.Os.get(y);return x!==void 0?ee.resolve(k.xs.get(x)):k.Ti.getTargetData(m,y)}(a,d,yr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,p.targetId).next(m=>{u=m})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,n?o:Ce.min(),n?u:Pe())).next(p=>(FR(a,EN(e),p),{documents:p,$s:u})))}function FR(r,e,n){let a=r.Ns.get(e)||Ce.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Ns.set(e,a)}class Jb{constructor(){this.activeTargetIds=AN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VR{constructor(){this.xo=new Jb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,a){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Jb,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UR{No(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zb="ConnectivityMonitor";class ew{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(Zb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(Zb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Wc=null;function Gp(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vp="RestConnection",BR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $R{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===yh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,n,a,o,u){const d=Gp(),p=this.jo(e,n.toUriEncodedString());ce(vp,`Sending RPC '${e}' ${d}:`,p,a);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,u);const{host:y}=new URL(p),k=Qa(y);return this.Jo(e,p,m,a,k).then(x=>(ce(vp,`Received RPC '${e}' ${d}: `,x),x),x=>{throw ro(vp,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",a),x})}Yo(e,n,a,o,u,d){return this.zo(e,n,a,o,u)}Ho(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const a=BR[e];return`${this.Ko}/v1/${n}:${a}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qR{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Wt="WebChannelConnection";class KR extends $R{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const d=Gp();return new Promise((p,m)=>{const y=new Vk;y.setWithCredentials(!0),y.listenOnce(Uk.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case eh.NO_ERROR:const x=y.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case eh.TIMEOUT:ce(Wt,`RPC '${e}' ${d} timed out`),m(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const E=y.getStatus();if(ce(Wt,`RPC '${e}' ${d} failed with status:`,E,"response text:",y.getResponseText()),E>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const D=P==null?void 0:P.error;if(D&&D.status&&D.message){const K=function(z){const G=z.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(G)>=0?G:te.UNKNOWN}(D.status);m(new he(K,D.message))}else m(new he(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new he(te.UNAVAILABLE,"Connection failed."));break;default:we(9055,{h_:e,streamId:d,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{ce(Wt,`RPC '${e}' ${d} completed.`)}});const k=JSON.stringify(o);ce(Wt,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",k,a,15)})}I_(e,n,a){const o=Gp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=qk(),p=$k(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const k=u.join("");ce(Wt,`Creating RPC '${e}' stream ${o}: ${k}`,m);const x=d.createWebChannel(k,m);this.E_(x);let E=!1,P=!1;const D=new qR({Zo:z=>{P?ce(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(E||(ce(Wt,`Opening RPC '${e}' stream ${o} transport.`),x.open(),E=!0),ce(Wt,`RPC '${e}' stream ${o} sending:`,z),x.send(z))},Xo:()=>x.close()}),K=(z,G,F)=>{z.listen(G,ae=>{try{F(ae)}catch(re){setTimeout(()=>{throw re},0)}})};return K(x,Ml.EventType.OPEN,()=>{P||(ce(Wt,`RPC '${e}' stream ${o} transport opened.`),D.__())}),K(x,Ml.EventType.CLOSE,()=>{P||(P=!0,ce(Wt,`RPC '${e}' stream ${o} transport closed`),D.u_(),this.d_(x))}),K(x,Ml.EventType.ERROR,z=>{P||(P=!0,ro(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),D.u_(new he(te.UNAVAILABLE,"The operation could not be completed")))}),K(x,Ml.EventType.MESSAGE,z=>{var G;if(!P){const F=z.data[0];$e(!!F,16349);const ae=F,re=(ae==null?void 0:ae.error)||((G=ae[0])===null||G===void 0?void 0:G.error);if(re){ce(Wt,`RPC '${e}' stream ${o} received error:`,re);const ue=re.status;let ke=function(T){const _=bt[T];if(_!==void 0)return CS(_)}(ue),j=re.message;ke===void 0&&(ke=te.INTERNAL,j="Unknown error status: "+ue+" with message "+re.message),P=!0,D.u_(new he(ke,j)),x.close()}else ce(Wt,`RPC '${e}' stream ${o} received:`,F),D.c_(F)}}),K(p,Bk.STAT_EVENT,z=>{z.stat===jp.PROXY?ce(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===jp.NOPROXY&&ce(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.a_()},0),D}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function bp(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gh(r){return new GN(r,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zS{constructor(e,n,a=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=a,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tw="PersistentStream";class FS{constructor(e,n,a,o,u,d,p,m){this.xi=e,this.S_=a,this.D_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new zS(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===n&&this.z_(a,o)},a=>{e(()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(e,n){const a=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ce(tw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ce(tw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HR extends FS{constructor(e,n,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=JN(this.serializer,e),a=function(o){if(!("targetChange"in o))return Ce.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?vr(u.readTime):Ce.min()}(e);return this.listener.Y_(n,a)}Z_(e){const n={};n.database=Wp(this.serializer),n.addTarget=function(o,u){let d;const p=u.target;if(d=Up(p)?{documents:tR(o,p)}:{query:nR(o,p).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=IS(o,u.resumeToken);const m=qp(o,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ce.min())>0){d.readTime=xh(o,u.snapshotVersion.toTimestamp());const m=qp(o,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const a=iR(this.serializer,e);a&&(n.labels=a),this.Q_(n)}X_(e){const n={};n.database=Wp(this.serializer),n.removeTarget=e,this.Q_(n)}}class WR extends FS{constructor(e,n,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=eR(e.writeResults,e.commitTime),a=vr(e.commitTime);return this.listener.ra(a,n)}ia(){const e={};e.database=Wp(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>ZN(this.serializer,a))};this.Q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QR{}class GR extends QR{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.zo(e,Kp(n,a),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())})}Yo(e,n,a,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Yo(e,Kp(n,a),o,d,p,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(te.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class YR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ni(n),this.ua=!1):ce("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ka="RemoteStore";class XR{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(d=>{a.enqueueAndForget(async()=>{Ja(this)&&(ce(Ka,"Restarting streams for network reachability change."),await async function(p){const m=Ee(p);m.da.add(4),await pu(m),m.Va.set("Unknown"),m.da.delete(4),await Yh(m)}(this))})}),this.Va=new YR(a,o)}}async function Yh(r){if(Ja(r))for(const e of r.Aa)await e(!0)}async function pu(r){for(const e of r.Aa)await e(!1)}function VS(r,e){const n=Ee(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Bm(n)?Um(n):wo(n).N_()&&Vm(n,e))}function Fm(r,e){const n=Ee(r),a=wo(n);n.Ea.delete(e),a.N_()&&US(n,e),n.Ea.size===0&&(a.N_()?a.k_():Ja(n)&&n.Va.set("Unknown"))}function Vm(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(r).Z_(e)}function US(r,e){r.ma.Ke(e),wo(r).X_(e)}function Um(r){r.ma=new KN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.Va.ca()}function Bm(r){return Ja(r)&&!wo(r).O_()&&r.Ea.size>0}function Ja(r){return Ee(r).da.size===0}function BS(r){r.ma=void 0}async function JR(r){r.Va.set("Online")}async function ZR(r){r.Ea.forEach((e,n)=>{Vm(r,e)})}async function eA(r,e){BS(r),Bm(r)?(r.Va.Pa(e),Um(r)):r.Va.set("Unknown")}async function tA(r,e,n){if(r.Va.set("Online"),e instanceof TS&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const d of o.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ea.delete(d),a.ma.removeTarget(d))}(r,e)}catch(a){ce(Ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Eh(r,a)}else if(e instanceof ih?r.ma.Xe(e):e instanceof ES?r.ma.ot(e):r.ma.nt(e),!n.isEqual(Ce.min()))try{const a=await MS(r.localStore);n.compareTo(a)>=0&&await function(o,u){const d=o.ma.It(u);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=o.Ea.get(m);y&&o.Ea.set(m,y.withResumeToken(p.resumeToken,u))}}),d.targetMismatches.forEach((p,m)=>{const y=o.Ea.get(p);if(!y)return;o.Ea.set(p,y.withResumeToken($t.EMPTY_BYTE_STRING,y.snapshotVersion)),US(o,p);const k=new Vi(y.target,p,m,y.sequenceNumber);Vm(o,k)}),o.remoteSyncer.applyRemoteEvent(d)}(r,n)}catch(a){ce(Ka,"Failed to raise snapshot:",a),await Eh(r,a)}}async function Eh(r,e,n){if(!bo(e))throw e;r.da.add(1),await pu(r),r.Va.set("Offline"),n||(n=()=>MS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(Ka,"Retrying IndexedDB access"),await n(),r.da.delete(1),await Yh(r)})}function $S(r,e){return e().catch(n=>Eh(r,n,e))}async function Xh(r){const e=Ee(r),n=Xi(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Cm;for(;nA(e);)try{const o=await MR(e.localStore,a);if(o===null){e.Ia.length===0&&n.k_();break}a=o.batchId,rA(e,o)}catch(o){await Eh(e,o)}qS(e)&&KS(e)}function nA(r){return Ja(r)&&r.Ia.length<10}function rA(r,e){r.Ia.push(e);const n=Xi(r);n.N_()&&n.ea&&n.ta(e.mutations)}function qS(r){return Ja(r)&&!Xi(r).O_()&&r.Ia.length>0}function KS(r){Xi(r).start()}async function iA(r){Xi(r).ia()}async function aA(r){const e=Xi(r);for(const n of r.Ia)e.ta(n.mutations)}async function sA(r,e,n){const a=r.Ia.shift(),o=Dm.from(a,e,n);await $S(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Xh(r)}async function oA(r,e){e&&Xi(r).ea&&await async function(n,a){if(function(o){return $N(o)&&o!==te.ABORTED}(a.code)){const o=n.Ia.shift();Xi(n).L_(),await $S(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Xh(n)}}(r,e),qS(r)&&KS(r)}async function nw(r,e){const n=Ee(r);n.asyncQueue.verifyOperationInProgress(),ce(Ka,"RemoteStore received new credentials");const a=Ja(n);n.da.add(3),await pu(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Yh(n)}async function lA(r,e){const n=Ee(r);e?(n.da.delete(2),await Yh(n)):e||(n.da.add(2),await pu(n),n.Va.set("Unknown"))}function wo(r){return r.fa||(r.fa=function(e,n,a){const o=Ee(e);return o.oa(),new HR(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(r.datastore,r.asyncQueue,{e_:JR.bind(null,r),n_:ZR.bind(null,r),i_:eA.bind(null,r),Y_:tA.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),Bm(r)?Um(r):r.Va.set("Unknown")):(await r.fa.stop(),BS(r))})),r.fa}function Xi(r){return r.ga||(r.ga=function(e,n,a){const o=Ee(e);return o.oa(),new WR(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:iA.bind(null,r),i_:oA.bind(null,r),na:aA.bind(null,r),ra:sA.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Xh(r)):(await r.ga.stop(),r.Ia.length>0&&(ce(Ka,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $m{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const d=Date.now()+a,p=new $m(e,n,d,o,u);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(r,e){if(ni("AsyncQueue",`${e}: ${r}`),bo(r))return new he(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||me.comparator(n.key,a.key):(n,a)=>me.comparator(n.key,a.key),this.keyedMap=zl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new to;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rw{constructor(){this.pa=new ot(me.comparator)}track(e){const n=e.doc.key,a=this.pa.get(n);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(n,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(n):e.type===1&&a.type===2?this.pa=this.pa.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,a)=>{e.push(a)}),e}}class lo{constructor(e,n,a,o,u,d,p,m,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,u){const d=[];return n.forEach(p=>{d.push({type:0,doc:p})}),new lo(e,n,to.emptySet(n),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uA{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class cA{constructor(){this.queries=iw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const a=Ee(e),o=a.queries;a.queries=iw(),o.forEach((u,d)=>{for(const p of d.Sa)p.onError(n)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function iw(){return new Xa(r=>dS(r),qh)}async function HS(r,e){const n=Ee(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(a=2):(u=new uA,a=e.va()?0:1);try{switch(a){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=qm(d,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&Km(n)}async function WS(r,e){const n=Ee(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function hA(r,e){const n=Ee(r);let a=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Ma(o)&&(a=!0);d.ba=o}}a&&Km(n)}function dA(r,e,n){const a=Ee(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function Km(r){r.Ca.forEach(e=>{e.next()})}var Yp,aw;(aw=Yp||(Yp={})).xa="default",aw.Cache="cache";class QS{constructor(e,n,a){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new lo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const a=n!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Yp.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GS{constructor(e){this.key=e}}class YS{constructor(e){this.key=e}}class fA{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.Za=fS(e),this.Xa=new to(this.Za)}get eu(){return this.Ha}tu(e,n){const a=n?n.nu:new rw,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((k,x)=>{const E=o.get(k),P=Kh(this.query,x)?x:null,D=!!E&&this.mutatedKeys.has(E.key),K=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let z=!1;E&&P?E.data.isEqual(P.data)?D!==K&&(a.track({type:3,doc:P}),z=!0):this.ru(E,P)||(a.track({type:2,doc:P}),z=!0,(m&&this.Za(P,m)>0||y&&this.Za(P,y)<0)&&(p=!0)):!E&&P?(a.track({type:0,doc:P}),z=!0):E&&!P&&(a.track({type:1,doc:E}),z=!0,(m||y)&&(p=!0)),z&&(P?(d=d.add(P),u=K?u.add(k):u.delete(k)):(d=d.delete(k),u=u.delete(k)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const k=this.query.limitType==="F"?d.last():d.first();d=d.delete(k.key),u=u.delete(k.key),a.track({type:1,doc:k})}return{Xa:d,nu:a,Cs:p,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((k,x)=>function(E,P){const D=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:K})}};return D(E)-D(P)}(k.type,x.type)||this.Za(k.doc,x.doc)),this.iu(a),o=o!=null&&o;const p=n&&!o?this.su():[],m=this.Ya.size===0&&this.current&&!o?1:0,y=m!==this.Ja;return this.Ja=m,d.length!==0||y?{snapshot:new lo(this.query,e.Xa,u,d,e.mutatedKeys,m===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:p}:{ou:p}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new rw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const n=[];return e.forEach(a=>{this.Ya.has(a)||n.push(new YS(a))}),this.Ya.forEach(a=>{e.has(a)||n.push(new GS(a))}),n}au(e){this.Ha=e.$s,this.Ya=Pe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return lo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Hm="SyncEngine";class pA{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class mA{constructor(e){this.key=e,this.cu=!1}}class gA{constructor(e,n,a,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Xa(p=>dS(p),qh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ot(me.comparator),this.Eu=new Map,this.du=new Lm,this.Au={},this.Ru=new Map,this.Vu=oo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function yA(r,e,n=!0){const a=n1(r);let o;const u=a.hu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await XS(a,e,n,!0),o}async function vA(r,e){const n=n1(r);await XS(n,e,!0,!1)}async function XS(r,e,n,a){const o=await zR(r.localStore,yr(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return a&&(p=await bA(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&VS(r.remoteStore,o),p}async function bA(r,e,n,a,o){r.fu=(x,E,P)=>async function(D,K,z,G){let F=K.view.tu(z);F.Cs&&(F=await Xb(D.localStore,K.query,!1).then(({documents:ke})=>K.view.tu(ke,F)));const ae=G&&G.targetChanges.get(K.targetId),re=G&&G.targetMismatches.get(K.targetId)!=null,ue=K.view.applyChanges(F,D.isPrimaryClient,ae,re);return ow(D,K.targetId,ue.ou),ue.snapshot}(r,x,E,P);const u=await Xb(r.localStore,e,!0),d=new fA(e,u.$s),p=d.tu(u.documents),m=fu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,m);ow(r,n,y.ou);const k=new pA(e,n,d);return r.hu.set(e,k),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),y.snapshot}async function wA(r,e,n){const a=Ee(r),o=a.hu.get(e),u=a.Pu.get(o.targetId);if(u.length>1)return a.Pu.set(o.targetId,u.filter(d=>!qh(d,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Qp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Fm(a.remoteStore,o.targetId),Xp(a,o.targetId)}).catch(vo)):(Xp(a,o.targetId),await Qp(a.localStore,o.targetId,!0))}async function kA(r,e){const n=Ee(r),a=n.hu.get(e),o=n.Pu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Fm(n.remoteStore,a.targetId))}async function SA(r,e,n){const a=NA(r);try{const o=await function(u,d){const p=Ee(u),m=Tt.now(),y=d.reduce((E,P)=>E.add(P.key),Pe());let k,x;return p.persistence.runTransaction("Locally write mutations","readwrite",E=>{let P=ri(),D=Pe();return p.Bs.getEntries(E,y).next(K=>{P=K,P.forEach((z,G)=>{G.isValidDocument()||(D=D.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(E,P)).next(K=>{k=K;const z=[];for(const G of d){const F=zN(G,k.get(G.key).overlayedDocument);F!=null&&z.push(new na(G.key,F,iS(F.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(E,m,z,d)}).next(K=>{x=K;const z=K.applyToLocalDocumentSet(k,D);return p.documentOverlayCache.saveOverlays(E,K.batchId,z)})}).then(()=>({batchId:x.batchId,changes:mS(k)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(u,d,p){let m=u.Au[u.currentUser.toKey()];m||(m=new ot(_e)),m=m.insert(d,p),u.Au[u.currentUser.toKey()]=m}(a,o.batchId,n),await mu(a,o.changes),await Xh(a.remoteStore)}catch(o){const u=qm(o,"Failed to persist write");n.reject(u)}}async function JS(r,e){const n=Ee(r);try{const a=await LR(n.localStore,e);e.targetChanges.forEach((o,u)=>{const d=n.Eu.get(u);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.cu=!0:o.modifiedDocuments.size>0?$e(d.cu,14607):o.removedDocuments.size>0&&($e(d.cu,42227),d.cu=!1))}),await mu(n,a,e)}catch(a){await vo(a)}}function sw(r,e,n){const a=Ee(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.hu.forEach((u,d)=>{const p=d.view.Fa(e);p.snapshot&&o.push(p.snapshot)}),function(u,d){const p=Ee(u);p.onlineState=d;let m=!1;p.queries.forEach((y,k)=>{for(const x of k.Sa)x.Fa(d)&&(m=!0)}),m&&Km(p)}(a.eventManager,e),o.length&&a.lu.Y_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function xA(r,e,n){const a=Ee(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Eu.get(e),u=o&&o.key;if(u){let d=new ot(me.comparator);d=d.insert(u,Gt.newNoDocument(u,Ce.min()));const p=Pe().add(u),m=new Qh(Ce.min(),new Map,new ot(_e),d,p);await JS(a,m),a.Iu=a.Iu.remove(u),a.Eu.delete(e),Wm(a)}else await Qp(a.localStore,e,!1).then(()=>Xp(a,e,n)).catch(vo)}async function CA(r,e){const n=Ee(r),a=e.batch.batchId;try{const o=await PR(n.localStore,e);e1(n,a,null),ZS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await mu(n,o)}catch(o){await vo(o)}}async function EA(r,e,n){const a=Ee(r);try{const o=await function(u,d){const p=Ee(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,d).next(k=>($e(k!==null,37113),y=k.keys(),p.mutationQueue.removeMutationBatch(m,k))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(a.localStore,e);e1(a,e,n),ZS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await mu(a,o)}catch(o){await vo(o)}}function ZS(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function e1(r,e,n){const a=Ee(r);let o=a.Au[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Au[a.currentUser.toKey()]=o}}function Xp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Pu.get(e))r.hu.delete(a),n&&r.lu.gu(a,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(a=>{r.du.containsKey(a)||t1(r,a)})}function t1(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(Fm(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),Wm(r))}function ow(r,e,n){for(const a of n)a instanceof GS?(r.du.addReference(a.key,e),TA(r,a)):a instanceof YS?(ce(Hm,"Document no longer in limbo: "+a.key),r.du.removeReference(a.key,e),r.du.containsKey(a.key)||t1(r,a.key)):we(19791,{pu:a})}function TA(r,e){const n=e.key,a=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(a)||(ce(Hm,"New document in limbo: "+n),r.Tu.add(a),Wm(r))}function Wm(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new me(nt.fromString(e)),a=r.Vu.next();r.Eu.set(a,new mA(n)),r.Iu=r.Iu.insert(n,a),VS(r.remoteStore,new Vi(yr(Nm(n.path)),a,"TargetPurposeLimboResolution",Uh.le))}}async function mu(r,e,n){const a=Ee(r),o=[],u=[],d=[];a.hu.isEmpty()||(a.hu.forEach((p,m)=>{d.push(a.fu(m,e,n).then(y=>{var k;if((y||n)&&a.isPrimaryClient){const x=y?!y.fromCache:(k=n==null?void 0:n.targetChanges.get(m.targetId))===null||k===void 0?void 0:k.current;a.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(y){o.push(y);const x=Mm.Rs(m.targetId,y);u.push(x)}}))}),await Promise.all(d),a.lu.Y_(o),await async function(p,m){const y=Ee(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>ee.forEach(m,x=>ee.forEach(x.ds,E=>y.persistence.referenceDelegate.addReference(k,x.targetId,E)).next(()=>ee.forEach(x.As,E=>y.persistence.referenceDelegate.removeReference(k,x.targetId,E)))))}catch(k){if(!bo(k))throw k;ce(zm,"Failed to update sequence numbers: "+k)}for(const k of m){const x=k.targetId;if(!k.fromCache){const E=y.xs.get(x),P=E.snapshotVersion,D=E.withLastLimboFreeSnapshotVersion(P);y.xs=y.xs.insert(x,D)}}}(a.localStore,u))}async function IA(r,e){const n=Ee(r);if(!n.currentUser.isEqual(e)){ce(Hm,"User change. New user:",e.toKey());const a=await jS(n.localStore,e);n.currentUser=e,function(o,u){o.Ru.forEach(d=>{d.forEach(p=>{p.reject(new he(te.CANCELLED,u))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await mu(n,a.ks)}}function _A(r,e){const n=Ee(r),a=n.Eu.get(e);if(a&&a.cu)return Pe().add(a.key);{let o=Pe();const u=n.Pu.get(e);if(!u)return o;for(const d of u){const p=n.hu.get(d);o=o.unionWith(p.view.eu)}return o}}function n1(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=JS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_A.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xA.bind(null,e),e.lu.Y_=hA.bind(null,e.eventManager),e.lu.gu=dA.bind(null,e.eventManager),e}function NA(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EA.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return OR(this.persistence,new RR,e.initialUser,this.serializer)}Su(e){return new LS(jm.fi,this.serializer)}bu(e){return new VR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class RA extends Th{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){$e(this.persistence.referenceDelegate instanceof Ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new mR(a,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new LS(a=>Ch.fi(a,n),this.serializer)}}class Jp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sw(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=IA.bind(null,this.syncEngine),await lA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cA}()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),a=function(o){return new KR(o)}(e.databaseInfo);return function(o,u,d,p){return new GR(o,u,d,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(n,a,o,u,d){return new XR(n,a,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,n=>sw(this.syncEngine,n,0),function(){return ew.C()?new ew:new UR}())}createSyncEngine(e,n){return function(a,o,u,d,p,m,y){const k=new gA(a,o,u,d,p,m);return y&&(k.mu=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const o=Ee(a);ce(Ka,"RemoteStore shutting down."),o.da.add(5),await pu(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jp.provider={build:()=>new Jp};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ji="FirestoreClient";class AA{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Qt.UNAUTHENTICATED,this.clientId=Qk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async d=>{ce(Ji,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(ce(Ji,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=qm(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function wp(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Ji,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await jS(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function lw(r,e){r.asyncQueue.verifyOperationInProgress();const n=await DA(r);ce(Ji,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>nw(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>nw(e.remoteStore,o)),r._onlineComponents=e}async function DA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Ji,"Using user provided OfflineComponentProvider");try{await wp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await wp(r,new Th)}}else ce(Ji,"Using default OfflineComponentProvider"),await wp(r,new RA(void 0));return r._offlineComponents}async function i1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Ji,"Using user provided OnlineComponentProvider"),await lw(r,r._uninitializedComponentsProvider._online)):(ce(Ji,"Using default OnlineComponentProvider"),await lw(r,new Jp))),r._onlineComponents}function OA(r){return i1(r).then(e=>e.syncEngine)}async function a1(r){const e=await i1(r),n=e.eventManager;return n.onListen=yA.bind(null,e.syncEngine),n.onUnlisten=wA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kA.bind(null,e.syncEngine),n}function PA(r,e,n={}){const a=new Xr;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,d,p,m){const y=new r1({next:x=>{y.xu(),u.enqueueAndForget(()=>WS(o,k));const E=x.docs.has(d);!E&&x.fromCache?m.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&p&&p.source==="server"?m.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),k=new QS(Nm(d.path),y,{includeMetadataChanges:!0,Qa:!0});return HS(o,k)}(await a1(r),r.asyncQueue,e,n,a)),a.promise}function LA(r,e,n={}){const a=new Xr;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,d,p,m){const y=new r1({next:x=>{y.xu(),u.enqueueAndForget(()=>WS(o,k)),x.fromCache&&p.source==="server"?m.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),k=new QS(d,y,{includeMetadataChanges:!0,Qa:!0});return HS(o,k)}(await a1(r),r.asyncQueue,e,n,a)),a.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function s1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uw=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function o1(r,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jA(r,e,n,a){if(e===!0&&a===!0)throw new he(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function cw(r){if(!me.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hw(r){if(me.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function ii(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(r);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const l1="firestore.googleapis.com",dw=!0;class fw{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l1,this.ssl=dw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:dw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fR)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s1((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new q_;switch(n.type){case"firstParty":return new Q_(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=uw.get(e);n&&(ce("ComponentProvider","Removing Datastore"),uw.delete(e),n.terminate())}(this),Promise.resolve()}}function MA(r,e,n,a={}){var o;r=ii(r,Zh);const u=Qa(e),d=r._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u&&(hm(`https://${m}`),dm("Firestore",!0)),d.host!==l1&&d.host!==m&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},d),{host:m,ssl:u,emulatorOptions:a});if(!Hi(y,p)&&(r._setSettings(y),a.mockUserToken)){let k,x;if(typeof a.mockUserToken=="string")k=a.mockUserToken,x=Qt.MOCK_USER;else{k=nT(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Qt(E)}r._authCredentials=new K_(new Hk(k,x))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ko{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class ln{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Ki extends ko{constructor(e,n,a){super(e,n,Nm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new me(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function pw(r,e,...n){if(r=ht(r),o1("collection","path",e),r instanceof Zh){const a=nt.fromString(e,...n);return hw(a),new Ki(r,null,a)}{if(!(r instanceof ln||r instanceof Ki))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(nt.fromString(e,...n));return hw(a),new Ki(r.firestore,null,a)}}function Ih(r,e,...n){if(r=ht(r),arguments.length===1&&(e=Qk.newId()),o1("doc","path",e),r instanceof Zh){const a=nt.fromString(e,...n);return cw(a),new ln(r,null,new me(a))}{if(!(r instanceof ln||r instanceof Ki))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(nt.fromString(e,...n));return cw(a),new ln(r.firestore,r instanceof Ki?r.converter:null,new me(a))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mw="AsyncQueue";class gw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new zS(this,"async_queue_retry"),this.rc=()=>{const a=bp();a&&ce(mw,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Xr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!bo(e))throw e;ce(mw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,ni("INTERNAL UNHANDLED ERROR: ",yw(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=n,n}enqueueAfterDelay(e,n,a){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=$m.createAndSchedule(this,e,n,a,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&we(47125,{cc:yw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function yw(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class So extends Zh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new gw,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gw(e),this._firestoreClient=void 0,await e}}}function zA(r,e){const n=typeof r=="object"?r:jh(),a=typeof r=="string"?r:yh,o=Zi(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Qw("firestore");u&&MA(o,...u)}return o}function Qm(r){if(r._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FA(r),r._firestoreClient}function FA(r){var e,n,a;const o=r._freezeSettings(),u=function(d,p,m,y){return new uN(d,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,s1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new AA(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo($t.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new uo($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ed{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gm{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ym{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const VA=/^__.*__$/;class UA{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class u1{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new na(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function c1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ic:r})}}class Jm{constructor(e,n,a,o,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Jm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:a,Rc:!1});return o.Vc(e),o}mc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return _h(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(c1(this.Ic)&&VA.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class BA{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Gh(e)}bc(e,n,a,o=!1){return new Jm({Ic:e,methodName:n,wc:a,path:Bt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zm(r){const e=r._freezeSettings(),n=Gh(r._databaseId);return new BA(r._databaseId,!!e.ignoreUndefinedProperties,n)}function $A(r,e,n,a,o,u={}){const d=r.bc(u.merge||u.mergeFields?2:0,e,n,o);eg("Data must be an object, but it was:",d,a);const p=h1(a,d);let m,y;if(u.merge)m=new bn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const k=[];for(const x of u.mergeFields){const E=Zp(e,x,n);if(!d.contains(E))throw new he(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);f1(k,E)||k.push(E)}m=new bn(k),y=d.fieldTransforms.filter(x=>m.covers(x.field))}else m=null,y=d.fieldTransforms;return new UA(new sn(p),m,y)}class td extends Gm{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof td}}function qA(r,e,n,a){const o=r.bc(1,e,n);eg("Data must be an object, but it was:",o,a);const u=[],d=sn.empty();ta(a,(m,y)=>{const k=tg(e,m,n);y=ht(y);const x=o.mc(k);if(y instanceof td)u.push(k);else{const E=gu(y,x);E!=null&&(u.push(k),d.set(k,E))}});const p=new bn(u);return new u1(d,p,o.fieldTransforms)}function KA(r,e,n,a,o,u){const d=r.bc(1,e,n),p=[Zp(e,a,n)],m=[o];if(u.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<u.length;E+=2)p.push(Zp(e,u[E])),m.push(u[E+1]);const y=[],k=sn.empty();for(let E=p.length-1;E>=0;--E)if(!f1(y,p[E])){const P=p[E];let D=m[E];D=ht(D);const K=d.mc(P);if(D instanceof td)y.push(P);else{const z=gu(D,K);z!=null&&(y.push(P),k.set(P,z))}}const x=new bn(y);return new u1(k,x,d.fieldTransforms)}function HA(r,e,n,a=!1){return gu(n,r.bc(a?4:3,e))}function gu(r,e){if(d1(r=ht(r)))return eg("Unsupported field value:",e,r),h1(r,e);if(r instanceof Gm)return function(n,a){if(!c1(a.Ic))throw a.gc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(n,a){const o=[];let u=0;for(const d of n){let p=gu(d,a.fc(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}}(r,e)}return function(n,a){if((n=ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return DN(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Tt.fromDate(n);return{timestampValue:xh(a.serializer,o)}}if(n instanceof Tt){const o=new Tt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xh(a.serializer,o)}}if(n instanceof Ym)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof uo)return{bytesValue:IS(a.serializer,n._byteString)};if(n instanceof ln){const o=a.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Pm(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Xm)return function(o,u){return{mapValue:{fields:{[nS]:{stringValue:rS},[vh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw u.gc("VectorValues must only contain numeric values.");return Rm(u.serializer,d)})}}}}}}(n,a);throw a.gc(`Unsupported field value: ${Jh(n)}`)}(r,e)}function h1(r,e){const n={};return Yk(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(r,(a,o)=>{const u=gu(o,e.Ac(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function d1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Tt||r instanceof Ym||r instanceof uo||r instanceof ln||r instanceof Gm||r instanceof Xm)}function eg(r,e,n){if(!d1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const a=Jh(n);throw a==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+a)}}function Zp(r,e,n){if((e=ht(e))instanceof ed)return e._internalPath;if(typeof e=="string")return tg(r,e);throw _h("Field path arguments must be of type string or ",r,!1,void 0,n)}const WA=new RegExp("[~\\*/\\[\\]]");function tg(r,e,n){if(e.search(WA)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ed(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function _h(r,e,n,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||d)&&(m+=" (found",u&&(m+=` in field ${a}`),d&&(m+=` in document ${o}`),m+=")"),new he(te.INVALID_ARGUMENT,p+r+m)}function f1(r,e){return r.some(n=>n.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p1{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(m1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QA extends p1{data(){return super.data()}}function m1(r,e){return typeof e=="string"?tg(r,e):e instanceof ed?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function GA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class YA extends ng{}function XA(r,e,...n){let a=[];e instanceof ng&&a.push(e),a=a.concat(n),function(o){const u=o.filter(p=>p instanceof ig).length,d=o.filter(p=>p instanceof rg).length;if(u>1||u>0&&d>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class rg extends YA{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new rg(e,n,a)}_apply(e){const n=this._parse(e);return g1(e._query,n),new ko(e.firestore,e.converter,Bp(e._query,n))}_parse(e){const n=Zm(e.firestore);return function(a,o,u,d,p,m,y){let k;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){bw(y,m);const x=[];for(const E of y)x.push(vw(d,a,E));k={arrayValue:{values:x}}}else k=vw(d,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||bw(y,m),k=HA(u,o,y,m==="in"||m==="not-in");return wt.create(p,m,k)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ig extends ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ig(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,o){let u=a;const d=o.getFlattenedFilters();for(const p of d)g1(u,p),u=Bp(u,p)}(e._query,n),new ko(e.firestore,e.converter,Bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vw(r,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hS(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(nt.fromString(n));if(!me.isDocumentKey(a))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Db(r,new me(a))}if(n instanceof ln)return Db(r,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function bw(r,e){if(!Array.isArray(r)||r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g1(r,e){const n=function(a,o){for(const u of a)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JA{convertValue(e,n="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ta(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>mt(d.doubleValue));return new Xm(u)}convertGeoPoint(e){return new Ym(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=$h(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=nt.fromString(e);$e(OS(a),9688,{name:e});const o=new tu(a.get(1),a.get(3)),u=new me(a.popFirst(5));return o.isEqual(n)||ni(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ZA(r,e,n){let a;return a=r?r.toFirestore(e):e,a}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class y1 extends p1{constructor(e,n,a,o,u,d){super(e,n,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(m1("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class ah extends y1{data(e={}){return super.data(e)}}class eD{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Vl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new ah(this._firestore,this._userDataWriter,a.key,a,new Vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const p=new ah(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Vl(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const p=new ah(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Vl(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:tD(d.type),doc:p,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nD(r){r=ii(r,ln);const e=ii(r.firestore,So);return PA(Qm(e),r._key).then(n=>oD(e,r,n))}class v1 extends JA{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function rD(r){r=ii(r,ko);const e=ii(r.firestore,So),n=Qm(e),a=new v1(e);return GA(r._query),LA(n,r._query).then(o=>new eD(e,a,r,o))}function iD(r,e,n,...a){r=ii(r,ln);const o=ii(r.firestore,So),u=Zm(o);let d;return d=typeof(e=ht(e))=="string"||e instanceof ed?KA(u,"updateDoc",r._key,e,n,a):qA(u,"updateDoc",r._key,e),ag(o,[d.toMutation(r._key,qn.exists(!0))])}function aD(r){return ag(ii(r.firestore,So),[new Am(r._key,qn.none())])}function sD(r,e){const n=ii(r.firestore,So),a=Ih(r),o=ZA(r.converter,e);return ag(n,[$A(Zm(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,qn.exists(!1))]).then(()=>a)}function ag(r,e){return function(n,a){const o=new Xr;return n.asyncQueue.enqueueAndForget(async()=>SA(await OA(n),a,o)),o.promise}(Qm(r),e)}function oD(r,e,n){const a=n.docs.get(e._key),o=new v1(r);return new y1(r,o,e._key,a,new Vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(r,e=!0){(function(n){yo=n})(po),Hn(new jn("firestore",(n,{instanceIdentifier:a,options:o})=>{const u=n.getProvider("app").getImmediate(),d=new So(new H_(n.getProvider("auth-internal")),new G_(u,n.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(p.options.projectId,m)}(u,a),u);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),on(wb,kb,r),on(wb,kb,"esm2017")})();var lD="firebase",uD="11.9.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/on(lD,uD,"app");/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b1="functions";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cD{constructor(e,n,a,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Pn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=a.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||a.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o==null||o.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),a=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:a,appCheckToken:o}}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const em="us-central1";class hD{constructor(e,n,a,o,u=em,d=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new cD(e,n,a,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(u);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=em}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function dD(r,e,n){const a=Qa(e);r.emulatorOrigin=`http${a?"s":""}://${e}:${n}`,a&&(hm(r.emulatorOrigin),dm("Functions",!0))}const ww="@firebase/functions",kw="0.12.8";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fD="auth-internal",pD="app-check-internal",mD="messaging-internal";function gD(r){const e=(n,{instanceIdentifier:a})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(fD),d=n.getProvider(mD),p=n.getProvider(pD);return new hD(o,u,d,p,a)};Hn(new jn(b1,e,"PUBLIC").setMultipleInstances(!0)),on(ww,kw,r),on(ww,kw,"esm2017")}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yD(r=jh(),e=em){const n=Zi(ht(r),b1).getImmediate({identifier:e}),a=Qw("functions");return a&&vD(n,...a),n}function vD(r,e,n){dD(ht(r),e,n)}gD();const w1="@firebase/installations",sg="0.6.17";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k1=1e4,S1=`w:${sg}`,x1="FIS_v2",bD="https://firebaseinstallations.googleapis.com/v1",wD=60*60*1e3,kD="installations",SD="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ha=new Ga(kD,SD,xD);function C1(r){return r instanceof Yn&&r.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function E1({projectId:r}){return`${bD}/projects/${r}/installations`}function T1(r){return{token:r.token,requestStatus:2,expiresIn:ED(r.expiresIn),creationTime:Date.now()}}async function I1(r,e){const n=(await e.json()).error;return Ha.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function _1({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function CD(r,{refreshToken:e}){const n=_1(r);return n.append("Authorization",TD(e)),n}async function N1(r){const e=await r();return e.status>=500&&e.status<600?r():e}function ED(r){return Number(r.replace("s","000"))}function TD(r){return`${x1} ${r}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ID({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const a=E1(r),o=_1(r),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={fid:n,authVersion:x1,appId:r.appId,sdkVersion:S1},p={method:"POST",headers:o,body:JSON.stringify(d)},m=await N1(()=>fetch(a,p));if(m.ok){const y=await m.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:T1(y.authToken)}}else throw await I1("Create Installation",m)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function R1(r){return new Promise(e=>{setTimeout(e,r)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _D(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ND=/^[cdef][\w-]{21}$/,tm="";function RD(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const e=AD(r);return ND.test(e)?e:tm}catch{return tm}}function AD(r){return _D(r).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nd(r){return`${r.appName}!${r.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const A1=new Map;function D1(r,e){const n=nd(r);O1(n,e),DD(n,e)}function O1(r,e){const n=A1.get(r);if(n)for(const a of n)a(e)}function DD(r,e){const n=OD();n&&n.postMessage({key:r,fid:e}),PD()}let Ba=null;function OD(){return!Ba&&"BroadcastChannel"in self&&(Ba=new BroadcastChannel("[Firebase] FID Change"),Ba.onmessage=r=>{O1(r.data.key,r.data.fid)}),Ba}function PD(){A1.size===0&&Ba&&(Ba.close(),Ba=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LD="firebase-installations-database",jD=1,Wa="firebase-installations-store";let kp=null;function og(){return kp||(kp=nk(LD,jD,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Wa)}}})),kp}async function Nh(r,e){const n=nd(r),a=(await og()).transaction(Wa,"readwrite"),o=a.objectStore(Wa),u=await o.get(n);return await o.put(e,n),await a.done,(!u||u.fid!==e.fid)&&D1(r,e.fid),e}async function P1(r){const e=nd(r),n=(await og()).transaction(Wa,"readwrite");await n.objectStore(Wa).delete(e),await n.done}async function rd(r,e){const n=nd(r),a=(await og()).transaction(Wa,"readwrite"),o=a.objectStore(Wa),u=await o.get(n),d=e(u);return d===void 0?await o.delete(n):await o.put(d,n),await a.done,d&&(!u||u.fid!==d.fid)&&D1(r,d.fid),d}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function lg(r){let e;const n=await rd(r.appConfig,a=>{const o=MD(a),u=zD(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===tm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function MD(r){const e=r||{fid:RD(),registrationStatus:0};return L1(e)}function zD(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ha.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=FD(r,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VD(r)}:{installationEntry:e}}async function FD(r,e){try{const n=await ID(r,e);return Nh(r.appConfig,n)}catch(n){throw C1(n)&&n.customData.serverCode===409?await P1(r.appConfig):await Nh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function VD(r){let e=await Sw(r.appConfig);for(;e.registrationStatus===1;)await R1(100),e=await Sw(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await lg(r);return a||n}return e}function Sw(r){return rd(r,e=>{if(!e)throw Ha.create("installation-not-found");return L1(e)})}function L1(r){return UD(r)?{fid:r.fid,registrationStatus:0}:r}function UD(r){return r.registrationStatus===1&&r.registrationTime+k1<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function BD({appConfig:r,heartbeatServiceProvider:e},n){const a=$D(r,n),o=CD(r,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={installation:{sdkVersion:S1,appId:r.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},m=await N1(()=>fetch(a,p));if(m.ok){const y=await m.json();return T1(y)}else throw await I1("Generate Auth Token",m)}function $D(r,{fid:e}){return`${E1(r)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ug(r,e=!1){let n;const a=await rd(r.appConfig,o=>{if(!j1(o))throw Ha.create("not-registered");const u=o.authToken;if(!e&&HD(u))return o;if(u.requestStatus===1)return n=qD(r,e),o;{if(!navigator.onLine)throw Ha.create("app-offline");const d=QD(o);return n=KD(r,d),d}});return n?await n:a.authToken}async function qD(r,e){let n=await xw(r.appConfig);for(;n.authToken.requestStatus===1;)await R1(100),n=await xw(r.appConfig);const a=n.authToken;return a.requestStatus===0?ug(r,e):a}function xw(r){return rd(r,e=>{if(!j1(e))throw Ha.create("not-registered");const n=e.authToken;return GD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function KD(r,e){try{const n=await BD(r,e),a=Object.assign(Object.assign({},e),{authToken:n});return await Nh(r.appConfig,a),n}catch(n){if(C1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await P1(r.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Nh(r.appConfig,a)}throw n}}function j1(r){return r!==void 0&&r.registrationStatus===2}function HD(r){return r.requestStatus===2&&!WD(r)}function WD(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+wD}function QD(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function GD(r){return r.requestStatus===1&&r.requestTime+k1<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function YD(r){const e=r,{installationEntry:n,registrationPromise:a}=await lg(e);return a?a.catch(console.error):ug(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function XD(r,e=!1){const n=r;return await JD(n),(await ug(n,e)).token}async function JD(r){const{registrationPromise:e}=await lg(r);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ZD(r){if(!r||!r.options)throw Sp("App Configuration");if(!r.name)throw Sp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Sp(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Sp(r){return Ha.create("missing-app-config-values",{valueName:r})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M1="installations",e4="installations-internal",t4=r=>{const e=r.getProvider("app").getImmediate(),n=ZD(e),a=Zi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},n4=r=>{const e=r.getProvider("app").getImmediate(),n=Zi(e,M1).getImmediate();return{getId:()=>YD(n),getToken:a=>XD(n,a)}};function r4(){Hn(new jn(M1,t4,"PUBLIC")),Hn(new jn(e4,n4,"PRIVATE"))}r4();on(w1,sg);on(w1,sg,"esm2017");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rh="analytics",i4="firebase_id",a4="origin",s4=60*1e3,o4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cg="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const un=new Lh("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const l4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new Ga("analytics","Analytics",l4);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function u4(r){if(!r.startsWith(cg)){const e=wn.create("invalid-gtag-resource",{gtagURL:r});return un.warn(e.message),""}return r}function z1(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function c4(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function h4(r,e){const n=c4("firebase-js-sdk-policy",{createScriptURL:u4}),a=document.createElement("script"),o=`${cg}?l=${r}&id=${e}`;a.src=n?n==null?void 0:n.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function d4(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function f4(r,e,n,a,o,u){const d=a[o];try{if(d)await e[d];else{const p=(await z1(n)).find(m=>m.measurementId===o);p&&await e[p.appId]}}catch(p){un.error(p)}r("config",o,u)}async function p4(r,e,n,a,o){try{let u=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const p=await z1(n);for(const m of d){const y=p.find(x=>x.measurementId===m),k=y&&e[y.appId];if(k)u.push(k);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",a,o||{})}catch(u){un.error(u)}}function m4(r,e,n,a){async function o(u,...d){try{if(u==="event"){const[p,m]=d;await p4(r,e,n,p,m)}else if(u==="config"){const[p,m]=d;await f4(r,e,n,a,p,m)}else if(u==="consent"){const[p,m]=d;r("consent",p,m)}else if(u==="get"){const[p,m,y]=d;r("get",p,m,y)}else if(u==="set"){const[p]=d;r("set",p)}else r(u,...d)}catch(p){un.error(p)}}return o}function g4(r,e,n,a,o){let u=function(...d){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=m4(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function y4(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(cg)&&n.src.includes(r))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v4=30,b4=1e3;class w4{constructor(e={},n=b4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const F1=new w4;function k4(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function S4(r){var e;const{appId:n,apiKey:a}=r,o={method:"GET",headers:k4(a)},u=o4.replace("{app-id}",n),d=await fetch(u,o);if(d.status!==200&&d.status!==304){let p="";try{const m=await d.json();!((e=m.error)===null||e===void 0)&&e.message&&(p=m.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:p})}return d.json()}async function x4(r,e=F1,n){const{appId:a,apiKey:o,measurementId:u}=r.options;if(!a)throw wn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw wn.create("no-api-key")}const d=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new T4;return setTimeout(async()=>{p.abort()},s4),V1({appId:a,apiKey:o,measurementId:u},d,p,e)}async function V1(r,{throttleEndTimeMillis:e,backoffCount:n},a,o=F1){var u;const{appId:d,measurementId:p}=r;try{await C4(a,e)}catch(m){if(p)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:d,measurementId:p};throw m}try{const m=await S4(r);return o.deleteThrottleMetadata(d),m}catch(m){const y=m;if(!E4(y)){if(o.deleteThrottleMetadata(d),p)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:p};throw m}const k=Number((u=y==null?void 0:y.customData)===null||u===void 0?void 0:u.httpStatus)===503?q0(n,o.intervalMillis,v4):q0(n,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+k,backoffCount:n+1};return o.setThrottleMetadata(d,x),un.debug(`Calling attemptFetch again in ${k} millis`),V1(r,x,a,o)}}function C4(r,e){return new Promise((n,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),a(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function E4(r){if(!(r instanceof Yn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class T4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function I4(r,e,n,a,o){if(o&&o.global){r("event",n,a);return}else{const u=await e,d=Object.assign(Object.assign({},a),{send_to:u});r("event",n,d)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _4(){if(Jw())try{await Zw()}catch(r){return un.warn(wn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return un.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function N4(r,e,n,a,o,u,d){var p;const m=x4(r);m.then(P=>{n[P.measurementId]=P.appId,r.options.measurementId&&P.measurementId!==r.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>un.error(P)),e.push(m);const y=_4().then(P=>{if(P)return a.getId()}),[k,x]=await Promise.all([m,y]);y4(u)||h4(u,k.measurementId),o("js",new Date);const E=(p=d==null?void 0:d.config)!==null&&p!==void 0?p:{};return E[a4]="firebase",E.update=!0,x!=null&&(E[i4]=x),o("config",k.measurementId,E),k.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R4{constructor(e){this.app=e}_delete(){return delete Ql[this.app.options.appId],Promise.resolve()}}let Ql={},Cw=[];const Ew={};let xp="dataLayer",A4="gtag",Tw,U1,Iw=!1;function D4(){const r=[];if(Xw()&&r.push("This is a browser extension environment."),hT()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=wn.create("invalid-analytics-context",{errorInfo:e});un.warn(n.message)}}function O4(r,e,n){D4();const a=r.options.appId;if(!a)throw wn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(Ql[a]!=null)throw wn.create("already-exists",{id:a});if(!Iw){d4(xp);const{wrappedGtag:o,gtagCore:u}=g4(Ql,Cw,Ew,xp,A4);U1=o,Tw=u,Iw=!0}return Ql[a]=N4(r,Cw,Ew,e,Tw,xp,n),new R4(r)}function P4(r=jh()){r=ht(r);const e=Zi(r,Rh);return e.isInitialized()?e.getImmediate():L4(r)}function L4(r,e={}){const n=Zi(r,Rh);if(n.isInitialized()){const a=n.getImmediate();if(Hi(e,n.getOptions()))return a;throw wn.create("already-initialized")}return n.initialize({options:e})}function j4(r,e,n,a){r=ht(r),I4(U1,Ql[r.app.options.appId],e,n,a).catch(o=>un.error(o))}const _w="@firebase/analytics",Nw="0.10.16";function M4(){Hn(new jn(Rh,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return O4(a,o,n)},"PUBLIC")),Hn(new jn("analytics-internal",r,"PRIVATE")),on(_w,Nw),on(_w,Nw,"esm2017");function r(e){try{const n=e.getProvider(Rh).getImmediate();return{logEvent:(a,o,u)=>j4(n,a,o,u)}}catch(n){throw wn.create("interop-component-reg-failed",{reason:n})}}}M4();const z4={apiKey:"AIzaSyD77q26KDxXNRLtKBFg3WuiKiGiGiRGei0",authDomain:"welfare-management.firebaseapp.com",projectId:"welfare-management",storageBucket:"welfare-management.firebasestorage.app",messagingSenderId:"42926946509",appId:"1:42926946509:web:fc83fabfdcdd2ec44a1184",measurementId:"G-BC3SMBTT4C"},id=rk(z4),Cp=B_(id),Ul=zA(id);yD(id);P4(id);const B1=W.createContext(void 0),Za=()=>{const r=W.useContext(B1);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},F4=({children:r})=>{const[e,n]=W.useState(null),[a,o]=W.useState(null),[u,d]=W.useState(!0);W.useEffect(()=>RI(Cp,async m=>{if(n(m),m)try{const y=await nD(Ih(Ul,"users",m.uid));y.exists()&&o(y.data())}catch(y){console.error("Error fetching user data:",y)}else o(null);d(!1)}),[]);const p={user:e,userData:a,loading:u,login:async(m,y)=>{await II(Cp,m,y)},logout:async()=>{await AI(Cp)}};return v.jsx(B1.Provider,{value:p,children:r})},Hs=({children:r,requiredRole:e})=>{const{user:n,userData:a,loading:o}=Za();return o?v.jsx("div",{children:"Loading..."}):!n||!a?v.jsx(oh,{to:"/login",replace:!0}):e&&a.role!==e?v.jsx(oh,{to:"/unauthorized",replace:!0}):v.jsx(v.Fragment,{children:r})},V4=()=>{const[r,e]=W.useState(""),[n,a]=W.useState(""),[o,u]=W.useState(""),[d,p]=W.useState(!1),{user:m,login:y}=Za();if(m)return v.jsx(oh,{to:"/dashboard",replace:!0});const k=async x=>{if(x.preventDefault(),u(""),p(!0),n.length<8){u("8"),p(!1);return}try{await y(r,n)}catch{u("")}p(!1)};return v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f5f5f5"},children:v.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",width:"100%",maxWidth:"400px"},children:[v.jsx("h1",{style:{textAlign:"center",marginBottom:"2rem"},children:""}),v.jsxs("form",{onSubmit:k,children:[v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"email",id:"email",value:r,onChange:x=>e(x.target.value),required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}})]}),v.jsxs("div",{style:{marginBottom:"1.5rem"},children:[v.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"password",id:"password",value:n,onChange:x=>a(x.target.value),required:!0,minLength:8,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}})]}),o&&v.jsx("div",{style:{color:"red",marginBottom:"1rem",textAlign:"center"},children:o}),v.jsx("button",{type:"submit",disabled:d,style:{width:"100%",padding:"0.75rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:d?"not-allowed":"pointer",opacity:d?.6:1},children:d?"...":""})]})]})})},Ln=({children:r})=>{const{userData:e,logout:n}=Za(),a=Dh(),o=ai(),[u,d]=W.useState(!1),p=async()=>{try{await n()}catch(E){console.error("Logout error:",E)}},m=(e==null?void 0:e.role)==="HQ"?[{icon:"",label:"",path:"/dashboard"},{icon:"",label:"",path:"/organizations"},{icon:"",label:"",path:"/users"},{icon:"",label:"",path:"/addon-master"},{icon:"",label:"",path:"/children"},{icon:"",label:"",path:"/daily-reports"},{icon:"",label:"",path:"/reports"}]:[{icon:"",label:"",path:"/dashboard"},{icon:"",label:"",path:"/children"},{icon:"",label:"",path:"/daily-reports"},{icon:"",label:"",path:"/reports"}],y={position:"fixed",left:0,top:0,height:"100vh",width:u?"80px":"280px",background:"linear-gradient(180deg, #1e40af 0%, #1d4ed8 50%, #2563eb 100%)",backdropFilter:"blur(20px)",borderRight:"1px solid rgba(255, 255, 255, 0.1)",transition:"all 350ms cubic-bezier(0.4, 0, 0.2, 1)",zIndex:1e3,overflow:"hidden"},k={marginLeft:u?"80px":"280px",minHeight:"100vh",transition:"margin-left 350ms cubic-bezier(0.4, 0, 0.2, 1)",background:"linear-gradient(135deg, #f9fafb 0%, #eff6ff 100%)"},x={height:"80px",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(229, 231, 235, 0.5)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 2rem",position:"sticky",top:0,zIndex:100};return v.jsxs("div",{style:{display:"flex",fontFamily:"var(--font-family-sans)"},children:[v.jsxs("div",{style:y,children:[v.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"12px"},children:[v.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #ffffff, #e0f2fe)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",flexShrink:0},children:""}),!u&&v.jsxs("div",{children:[v.jsx("h1",{style:{color:"white",fontSize:"1.25rem",fontWeight:"700",margin:0,lineHeight:1.2},children:""}),v.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.75rem",margin:0},children:"Management System"})]})]}),v.jsx("nav",{style:{padding:"1rem 0",flex:1},children:m.map(E=>{const P=o.pathname===E.path;return v.jsxs("button",{onClick:()=>a(E.path),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 24px",background:P?"linear-gradient(90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1))":"transparent",border:"none",color:"white",cursor:"pointer",transition:"all 200ms ease",borderRight:P?"3px solid white":"3px solid transparent",fontSize:"0.875rem",fontWeight:P?"600":"500",justifyContent:u?"center":"flex-start"},onMouseEnter:D=>{P||(D.currentTarget.style.background="rgba(255, 255, 255, 0.1)",D.currentTarget.style.transform="translateX(4px)")},onMouseLeave:D=>{P||(D.currentTarget.style.background="transparent",D.currentTarget.style.transform="translateX(0)")},children:[v.jsx("span",{style:{fontSize:"1.25rem",flexShrink:0},children:E.icon}),!u&&v.jsx("span",{children:E.label})]},E.path)})}),v.jsx("div",{style:{padding:"1rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:v.jsx("button",{onClick:()=>d(!u),style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"1.25rem",transition:"all 200ms ease"},onMouseEnter:E=>{E.currentTarget.style.background="rgba(255, 255, 255, 0.2)",E.currentTarget.style.transform="scale(1.05)"},onMouseLeave:E=>{E.currentTarget.style.background="rgba(255, 255, 255, 0.1)",E.currentTarget.style.transform="scale(1)"},children:u?"":""})})]}),v.jsxs("div",{style:k,children:[v.jsxs("header",{style:x,children:[v.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:v.jsx("div",{style:{padding:"8px 16px",background:"linear-gradient(135deg, #dbeafe, #bfdbfe)",borderRadius:"20px",fontSize:"0.875rem",fontWeight:"600",color:"#1d4ed8"},children:(e==null?void 0:e.role)==="HQ"?"HQ":"FC"})}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"rgba(107, 114, 128, 0.1)",borderRadius:"12px",fontSize:"0.875rem",color:"#4b5563"},children:[v.jsx("div",{style:{width:"8px",height:"8px",background:"#10b981",borderRadius:"50%"}}),e==null?void 0:e.email]}),v.jsx("button",{onClick:p,className:"btn btn-secondary",style:{padding:"8px 16px",fontSize:"0.875rem"},children:""})]})]}),v.jsx("main",{style:{padding:"2rem",minHeight:"calc(100vh - 80px)"},children:v.jsx("div",{className:"fade-in",children:r})})]})]})},U4=()=>{const{userData:r}=Za();return v.jsx(Ln,{children:v.jsxs("div",{className:"slide-in",children:[v.jsxs("div",{style:{marginBottom:"var(--space-8)"},children:[v.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:" "}),v.jsxs("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:[(r==null?void 0:r.role)==="HQ"?"HQ":"FC",""]})]}),v.jsx("div",{style:{display:"grid",gap:"var(--space-8)"},children:v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"var(--space-6)"},children:[v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--primary-500), var(--primary-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:"12"}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})}),v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--success-500), var(--success-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:"45,600"}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})}),v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:"4.2h"}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})})]})})]})})},B4=()=>v.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f5f5f5"},children:v.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[v.jsx("h1",{style:{color:"#dc3545",marginBottom:"1rem"},children:""}),v.jsx("p",{style:{marginBottom:"2rem"},children:""}),v.jsx(cm,{to:"/dashboard",style:{display:"inline-block",padding:"0.75rem 1.5rem",backgroundColor:"#007bff",color:"white",textDecoration:"none",borderRadius:"4px"},children:""})]})}),Jr=r=>{const[e,n]=W.useState([]),[a,o]=W.useState(!0),[u,d]=W.useState(null),p=async(x=[])=>{try{o(!0);const E=pw(Ul,r),P=x.length>0?XA(E,...x):E,D=(await rD(P)).docs.map(K=>({id:K.id,...K.data()}));n(D),d(null)}catch(E){d(E instanceof Error?E.message:"")}finally{o(!1)}},m=async x=>{try{const E=pw(Ul,r),P=await sD(E,x),D={id:P.id,...x};return n(K=>[...K,D]),P.id}catch(E){throw d(E instanceof Error?E.message:""),E}},y=async(x,E)=>{try{const P=Ih(Ul,r,x);await iD(P,E),n(D=>D.map(K=>K.id===x?{...K,...E}:K))}catch(P){throw d(P instanceof Error?P.message:""),P}},k=async x=>{try{const E=Ih(Ul,r,x);await aD(E),n(P=>P.filter(D=>D.id!==x))}catch(E){throw d(E instanceof Error?E.message:""),E}};return W.useEffect(()=>{p()},[r]),{data:e,loading:a,error:u,fetchData:p,addData:m,updateData:y,deleteData:k,refetch:p}},Ep=({children:r,title:e})=>{const{userData:n,logout:a}=Za(),o=Dh(),u=async()=>{try{await a()}catch(d){console.error("Logout error:",d)}};return v.jsxs("div",{style:{padding:"2rem"},children:[v.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",borderBottom:"1px solid #eee",paddingBottom:"1rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsx("button",{onClick:()=>o("/dashboard"),style:{padding:"0.5rem 1rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "}),v.jsx("h1",{children:e})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsxs("span",{children:[(n==null?void 0:n.role)==="HQ"?"HQ":"FC"," - ",n==null?void 0:n.email]}),v.jsx("button",{onClick:u,style:{padding:"0.5rem 1rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:""})]})]}),r]})},$4=()=>{const{data:r,loading:e,error:n,addData:a,updateData:o,deleteData:u}=Jr("organizations"),[d,p]=W.useState(!1),[m,y]=W.useState(null),[k,x]=W.useState({name:"",prefecture:"",address:"",facilityType:"",startDate:"",endDate:""}),E=async z=>{z.preventDefault();try{const G={...k,startDate:new Date(k.startDate),endDate:k.endDate?new Date(k.endDate):void 0};m?await o(m.id,G):await a(G),K()}catch(G){console.error(":",G)}},P=z=>{y(z),x({name:z.name,prefecture:z.prefecture,address:z.address,facilityType:z.facilityType,startDate:z.startDate instanceof Date?z.startDate.toISOString().split("T")[0]:"",endDate:z.endDate instanceof Date?z.endDate.toISOString().split("T")[0]:""}),p(!0)},D=async z=>{if(window.confirm(""))try{await u(z)}catch(G){console.error(":",G)}},K=()=>{p(!1),y(null),x({name:"",prefecture:"",address:"",facilityType:"",startDate:"",endDate:""})};return e?v.jsx(Ep,{title:"",children:v.jsx("div",{children:"..."})}):n?v.jsx(Ep,{title:"",children:v.jsxs("div",{style:{color:"red"},children:[": ",n]})}):v.jsxs(Ep,{title:"",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[v.jsx("div",{}),v.jsx("button",{onClick:()=>p(!0),style:{padding:"0.75rem 1.5rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:""})]}),v.jsx("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[v.jsx("thead",{children:v.jsxs("tr",{style:{backgroundColor:"#f8f9fa"},children:[v.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:""}),v.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:""}),v.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:""}),v.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:""}),v.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:""})]})}),v.jsx("tbody",{children:r.map(z=>v.jsxs("tr",{children:[v.jsx("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:z.name}),v.jsx("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:z.prefecture}),v.jsx("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:z.facilityType}),v.jsx("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:z.startDate instanceof Date?z.startDate.toLocaleDateString():z.startDate}),v.jsxs("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:[v.jsx("button",{onClick:()=>P(z),style:{padding:"0.25rem 0.75rem",backgroundColor:"#ffc107",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"0.5rem"},children:""}),v.jsx("button",{onClick:()=>D(z.id),style:{padding:"0.25rem 0.75rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:""})]})]},z.id))})]})}),d&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:v.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",width:"500px",maxHeight:"80vh",overflowY:"auto"},children:[v.jsx("h2",{children:m?"":""}),v.jsxs("form",{onSubmit:E,children:[v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"text",value:k.name,onChange:z=>x({...k,name:z.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"text",value:k.prefecture,onChange:z=>x({...k,prefecture:z.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"text",value:k.address,onChange:z=>x({...k,address:z.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsxs("select",{value:k.facilityType,onChange:z=>x({...k,facilityType:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[v.jsx("option",{value:"",children:""}),v.jsx("option",{value:"",children:""}),v.jsx("option",{value:"B",children:"B"})]})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"date",value:k.startDate,onChange:z=>x({...k,startDate:z.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"date",value:k.endDate,onChange:z=>x({...k,endDate:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[v.jsx("button",{type:"button",onClick:K,style:{padding:"0.75rem 1.5rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:""}),v.jsx("button",{type:"submit",style:{padding:"0.75rem 1.5rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:m?"":""})]})]})]})})]})},q4=()=>{const{data:r,loading:e,error:n,addData:a,updateData:o,deleteData:u}=Jr("users"),{data:d}=Jr("organizations"),[p,m]=W.useState(!1),[y,k]=W.useState(null),[x,E]=W.useState({email:"",orgId:"",role:"FC",isActive:!0}),P=async F=>{F.preventDefault();try{const ae={...x,uid:(y==null?void 0:y.uid)||`user_${Date.now()}`};y?await o(y.uid,ae):await a(ae),z()}catch(ae){console.error(":",ae)}},D=F=>{k(F),E({email:F.email,orgId:F.orgId,role:F.role,isActive:F.isActive}),m(!0)},K=async F=>{if(window.confirm(""))try{await u(F)}catch(ae){console.error(":",ae)}},z=()=>{m(!1),k(null),E({email:"",orgId:"",role:"FC",isActive:!0})},G=F=>{const ae=d.find(re=>re.id===F||re.orgId===F);return(ae==null?void 0:ae.name)||""};return e?v.jsx(Ln,{children:v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:v.jsx("div",{className:"loading-spinner"})})}):n?v.jsx(Ln,{children:v.jsxs("div",{className:"card",style:{padding:"2rem",background:"linear-gradient(135deg, var(--error-50), var(--error-100))",border:"1px solid var(--error-200)",color:"var(--error-700)"},children:[v.jsx("h2",{children:" "}),v.jsx("p",{children:n})]})}):v.jsx(Ln,{children:v.jsxs("div",{className:"slide-in",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-8)"},children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:""})]}),v.jsxs("button",{onClick:()=>m(!0),className:"btn btn-primary bounce-in",style:{padding:"var(--space-4) var(--space-6)",fontSize:"var(--font-size-base)",fontWeight:"600"},children:[v.jsx("span",{style:{fontSize:"1.25rem"},children:""}),""]})]}),v.jsxs("div",{className:"card-glass",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:""}),v.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),r.length===0?v.jsxs("div",{style:{textAlign:"center",padding:"var(--space-12)",color:"var(--neutral-500)"},children:[v.jsx("div",{style:{fontSize:"4rem",marginBottom:"var(--space-4)"},children:""}),v.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{children:""})]}):v.jsx("div",{style:{overflowX:"auto"},children:v.jsxs("table",{className:"table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:""}),v.jsx("th",{children:""}),v.jsx("th",{children:""}),v.jsx("th",{children:""}),v.jsx("th",{style:{width:"150px"},children:""})]})}),v.jsx("tbody",{children:r.map(F=>v.jsxs("tr",{className:"fade-in",children:[v.jsx("td",{children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)"},children:[v.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, var(--primary-100), var(--primary-200))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem"},children:""}),v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:"600",color:"var(--neutral-900)"},children:F.email}),v.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--neutral-500)"},children:["ID: ",F.uid]})]})]})}),v.jsx("td",{children:G(F.orgId)}),v.jsx("td",{children:v.jsx("span",{style:{padding:"var(--space-1) var(--space-3)",borderRadius:"var(--radius-lg)",fontSize:"var(--font-size-sm)",fontWeight:"600",background:F.role==="HQ"?"linear-gradient(135deg, var(--primary-100), var(--primary-200))":"linear-gradient(135deg, var(--success-100), var(--success-200))",color:F.role==="HQ"?"var(--primary-700)":"var(--success-700)"},children:F.role==="HQ"?"HQ":"FC"})}),v.jsx("td",{children:v.jsx("span",{style:{padding:"var(--space-1) var(--space-3)",borderRadius:"var(--radius-lg)",fontSize:"var(--font-size-sm)",fontWeight:"600",background:F.isActive?"linear-gradient(135deg, var(--success-100), var(--success-200))":"linear-gradient(135deg, var(--neutral-100), var(--neutral-200))",color:F.isActive?"var(--success-700)":"var(--neutral-600)"},children:F.isActive?"":""})}),v.jsx("td",{children:v.jsxs("div",{style:{display:"flex",gap:"var(--space-2)"},children:[v.jsx("button",{onClick:()=>D(F),className:"btn",style:{padding:"var(--space-2) var(--space-3)",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",color:"white",fontSize:"var(--font-size-sm)"},children:""}),v.jsx("button",{onClick:()=>K(F.uid),className:"btn btn-danger",style:{padding:"var(--space-2) var(--space-3)",fontSize:"var(--font-size-sm)"},children:""})]})})]},F.uid))})]})})]}),p&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"var(--space-4)"},children:v.jsxs("div",{className:"card bounce-in",style:{width:"100%",maxWidth:"500px",padding:"var(--space-8)",borderRadius:"var(--radius-3xl)",background:"white",boxShadow:"var(--shadow-2xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-2)"},children:y?"":""}),v.jsx("div",{style:{width:"40px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),v.jsxs("form",{onSubmit:P,children:[v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsx("input",{type:"email",value:x.email,onChange:F=>E({...x,email:F.target.value}),required:!0,className:"input",placeholder:"user@example.com"})]}),v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsxs("select",{value:x.orgId,onChange:F=>E({...x,orgId:F.target.value}),required:!0,className:"input",children:[v.jsx("option",{value:"",children:""}),d.map(F=>v.jsx("option",{value:F.id||F.orgId,children:F.name},F.id||F.orgId))]})]}),v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsxs("select",{value:x.role,onChange:F=>E({...x,role:F.target.value}),className:"input",children:[v.jsx("option",{value:"FC",children:"FC"}),v.jsx("option",{value:"HQ",children:"HQ"})]})]}),v.jsx("div",{style:{marginBottom:"var(--space-6)"},children:v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer"},children:[v.jsx("input",{type:"checkbox",checked:x.isActive,onChange:F=>E({...x,isActive:F.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--primary-500)"}}),v.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""})]})}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-4)"},children:[v.jsx("button",{type:"button",onClick:z,className:"btn btn-secondary",children:""}),v.jsx("button",{type:"submit",className:"btn btn-primary",children:y?"":""})]})]})]})})]})})},K4=()=>{const{data:r,loading:e,error:n,addData:a,updateData:o,deleteData:u}=Jr("addOnMaster"),[d,p]=W.useState(!1),[m,y]=W.useState(null),[k,x]=W.useState({name:"",unitValue:0,isBasic:!1}),E=async F=>{F.preventDefault();try{const ae={...k,addOnId:(m==null?void 0:m.addOnId)||`addon_${Date.now()}`};m?await o(m.addOnId,ae):await a(ae),K()}catch(ae){console.error(":",ae)}},P=F=>{y(F),x({name:F.name,unitValue:F.unitValue,isBasic:F.isBasic}),p(!0)},D=async F=>{if(window.confirm(""))try{await u(F)}catch(ae){console.error(":",ae)}},K=()=>{p(!1),y(null),x({name:"",unitValue:0,isBasic:!1})};if(e)return v.jsx(Ln,{children:v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:v.jsx("div",{className:"loading-spinner"})})});if(n)return v.jsx(Ln,{children:v.jsxs("div",{className:"card",style:{padding:"2rem",background:"linear-gradient(135deg, var(--error-50), var(--error-100))",border:"1px solid var(--error-200)",color:"var(--error-700)"},children:[v.jsx("h2",{children:" "}),v.jsx("p",{children:n})]})});const z=r.filter(F=>F.isBasic),G=r.filter(F=>!F.isBasic);return v.jsx(Ln,{children:v.jsxs("div",{className:"slide-in",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-8)"},children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:""})]}),v.jsxs("button",{onClick:()=>p(!0),className:"btn btn-primary bounce-in",style:{padding:"var(--space-4) var(--space-6)",fontSize:"var(--font-size-base)",fontWeight:"600"},children:[v.jsx("span",{style:{fontSize:"1.25rem"},children:""}),""]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"var(--space-6)",marginBottom:"var(--space-8)"},children:[v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--primary-500), var(--primary-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:z.length}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})}),v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--success-500), var(--success-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:G.length}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})})]}),v.jsxs("div",{className:"card-glass slide-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)",marginBottom:"var(--space-6)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:" "}),v.jsx("p",{style:{color:"var(--neutral-600)",marginBottom:"var(--space-4)"},children:""}),v.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),z.length===0?v.jsxs("div",{style:{textAlign:"center",padding:"var(--space-8)",color:"var(--neutral-500)"},children:[v.jsx("div",{style:{fontSize:"3rem",marginBottom:"var(--space-4)"},children:""}),v.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{children:""})]}):v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"var(--space-4)"},children:z.map(F=>v.jsxs("div",{className:"card fade-in",style:{padding:"var(--space-5)",border:"2px solid var(--primary-200)",borderRadius:"var(--radius-xl)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"var(--space-4)"},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"600",color:"var(--neutral-900)"},children:F.name}),v.jsx("span",{style:{padding:"var(--space-1) var(--space-2)",background:"var(--primary-100)",color:"var(--primary-700)",borderRadius:"var(--radius-md)",fontSize:"var(--font-size-xs)",fontWeight:"600"},children:""})]}),v.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--primary-600)",marginBottom:"var(--space-4)"},children:[F.unitValue.toLocaleString(),""]}),v.jsxs("div",{style:{display:"flex",gap:"var(--space-2)"},children:[v.jsx("button",{onClick:()=>P(F),className:"btn",style:{padding:"var(--space-2) var(--space-3)",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",color:"white",fontSize:"var(--font-size-sm)",flex:1},children:""}),v.jsx("button",{onClick:()=>D(F.addOnId),className:"btn btn-danger",style:{padding:"var(--space-2) var(--space-3)",fontSize:"var(--font-size-sm)",flex:1},children:""})]})]},F.addOnId))})]}),v.jsxs("div",{className:"card-glass slide-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:" "}),v.jsx("p",{style:{color:"var(--neutral-600)",marginBottom:"var(--space-4)"},children:""}),v.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--success-500), var(--success-300))",borderRadius:"2px"}})]}),G.length===0?v.jsxs("div",{style:{textAlign:"center",padding:"var(--space-8)",color:"var(--neutral-500)"},children:[v.jsx("div",{style:{fontSize:"3rem",marginBottom:"var(--space-4)"},children:""}),v.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{children:""})]}):v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"var(--space-4)"},children:G.map(F=>v.jsxs("div",{className:"card fade-in",style:{padding:"var(--space-5)",border:"2px solid var(--success-200)",borderRadius:"var(--radius-xl)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"var(--space-4)"},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"600",color:"var(--neutral-900)"},children:F.name}),v.jsx("span",{style:{padding:"var(--space-1) var(--space-2)",background:"var(--success-100)",color:"var(--success-700)",borderRadius:"var(--radius-md)",fontSize:"var(--font-size-xs)",fontWeight:"600"},children:""})]}),v.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--success-600)",marginBottom:"var(--space-4)"},children:[F.unitValue.toLocaleString(),""]}),v.jsxs("div",{style:{display:"flex",gap:"var(--space-2)"},children:[v.jsx("button",{onClick:()=>P(F),className:"btn",style:{padding:"var(--space-2) var(--space-3)",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",color:"white",fontSize:"var(--font-size-sm)",flex:1},children:""}),v.jsx("button",{onClick:()=>D(F.addOnId),className:"btn btn-danger",style:{padding:"var(--space-2) var(--space-3)",fontSize:"var(--font-size-sm)",flex:1},children:""})]})]},F.addOnId))})]}),d&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"var(--space-4)"},children:v.jsxs("div",{className:"card bounce-in",style:{width:"100%",maxWidth:"500px",padding:"var(--space-8)",borderRadius:"var(--radius-3xl)",background:"white",boxShadow:"var(--shadow-2xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-2)"},children:m?"":""}),v.jsx("div",{style:{width:"40px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),v.jsxs("form",{onSubmit:E,children:[v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsx("input",{type:"text",value:k.name,onChange:F=>x({...k,name:F.target.value}),required:!0,className:"input",placeholder:""})]}),v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsx("input",{type:"number",value:k.unitValue,onChange:F=>x({...k,unitValue:parseInt(F.target.value)||0}),required:!0,min:"0",className:"input",placeholder:"100"})]}),v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer"},children:[v.jsx("input",{type:"checkbox",checked:k.isBasic,onChange:F=>x({...k,isBasic:F.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--primary-500)"}}),v.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""})]}),v.jsx("p",{style:{marginTop:"var(--space-2)",fontSize:"var(--font-size-xs)",color:"var(--neutral-500)"},children:""})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-4)"},children:[v.jsx("button",{type:"button",onClick:K,className:"btn btn-secondary",children:""}),v.jsx("button",{type:"submit",className:"btn btn-primary",children:m?"":""})]})]})]})})]})})},H4=()=>{const{userData:r}=Za(),{data:e,loading:n,error:a,addData:o,updateData:u,deleteData:d}=Jr("children"),{data:p}=Jr("organizations"),[m,y]=W.useState(!1),[k,x]=W.useState(null),[E,P]=W.useState({name:"",orgId:(r==null?void 0:r.orgId)||"",defaultPickup:!1,defaultDrop:!1}),D=(r==null?void 0:r.role)==="HQ"?e:e.filter(re=>re.orgId===(r==null?void 0:r.orgId)),K=async re=>{re.preventDefault();try{const ue={...E,childId:(k==null?void 0:k.childId)||`child_${Date.now()}`,orgId:(r==null?void 0:r.role)==="HQ"?E.orgId:(r==null?void 0:r.orgId)||""};k?await u(k.childId,ue):await o(ue),F()}catch(ue){console.error(":",ue)}},z=re=>{x(re),P({name:re.name,orgId:re.orgId,defaultPickup:re.defaultPickup,defaultDrop:re.defaultDrop}),y(!0)},G=async re=>{if(window.confirm(""))try{await d(re)}catch(ue){console.error(":",ue)}},F=()=>{y(!1),x(null),P({name:"",orgId:(r==null?void 0:r.orgId)||"",defaultPickup:!1,defaultDrop:!1})},ae=re=>{const ue=p.find(ke=>ke.id===re||ke.orgId===re);return(ue==null?void 0:ue.name)||""};return n?v.jsx(Ln,{children:v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:v.jsx("div",{className:"loading-spinner"})})}):a?v.jsx(Ln,{children:v.jsxs("div",{className:"card",style:{padding:"2rem",background:"linear-gradient(135deg, var(--error-50), var(--error-100))",border:"1px solid var(--error-200)",color:"var(--error-700)"},children:[v.jsx("h2",{children:" "}),v.jsx("p",{children:a})]})}):v.jsx(Ln,{children:v.jsxs("div",{className:"slide-in",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-8)"},children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:""}),v.jsxs("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:[(r==null?void 0:r.role)==="HQ"?"":"",""]})]}),v.jsxs("button",{onClick:()=>y(!0),className:"btn btn-primary bounce-in",style:{padding:"var(--space-4) var(--space-6)",fontSize:"var(--font-size-base)",fontWeight:"600"},children:[v.jsx("span",{style:{fontSize:"1.25rem"},children:""}),""]})]}),v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)",marginBottom:"var(--space-8)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--success-500), var(--success-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsxs("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:[D.length,""]}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})}),v.jsxs("div",{className:"card-glass slide-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:""}),v.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--success-500), var(--success-300))",borderRadius:"2px"}})]}),D.length===0?v.jsxs("div",{style:{textAlign:"center",padding:"var(--space-12)",color:"var(--neutral-500)"},children:[v.jsx("div",{style:{fontSize:"4rem",marginBottom:"var(--space-4)"},children:""}),v.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{children:""})]}):v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"var(--space-6)"},children:D.map(re=>v.jsxs("div",{className:"card fade-in",style:{padding:"var(--space-5)",borderRadius:"var(--radius-xl)",border:"2px solid var(--success-200)",transition:"all var(--transition-normal)"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",marginBottom:"var(--space-4)"},children:[v.jsx("div",{style:{width:"50px",height:"50px",background:"linear-gradient(135deg, var(--success-200), var(--success-100))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{style:{flex:1},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:re.name}),(r==null?void 0:r.role)==="HQ"&&v.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--neutral-600)"},children:ae(re.orgId)})]})]}),v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("h4",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)",marginBottom:"var(--space-3)"},children:""}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-3)"},children:[v.jsxs("div",{style:{padding:"var(--space-3)",background:re.defaultPickup?"var(--success-50)":"var(--neutral-50)",borderRadius:"var(--radius-lg)",textAlign:"center",border:`2px solid ${re.defaultPickup?"var(--success-200)":"var(--neutral-200)"}`},children:[v.jsx("div",{style:{fontSize:"1.25rem",marginBottom:"var(--space-1)"},children:re.defaultPickup?"":""}),v.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"600",color:re.defaultPickup?"var(--success-700)":"var(--neutral-600)"},children:""})]}),v.jsxs("div",{style:{padding:"var(--space-3)",background:re.defaultDrop?"var(--success-50)":"var(--neutral-50)",borderRadius:"var(--radius-lg)",textAlign:"center",border:`2px solid ${re.defaultDrop?"var(--success-200)":"var(--neutral-200)"}`},children:[v.jsx("div",{style:{fontSize:"1.25rem",marginBottom:"var(--space-1)"},children:re.defaultDrop?"":""}),v.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"600",color:re.defaultDrop?"var(--success-700)":"var(--neutral-600)"},children:""})]})]})]}),v.jsxs("div",{style:{display:"flex",gap:"var(--space-3)"},children:[v.jsx("button",{onClick:()=>z(re),className:"btn",style:{padding:"var(--space-3) var(--space-4)",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",color:"white",fontSize:"var(--font-size-sm)",flex:1},children:" "}),v.jsx("button",{onClick:()=>G(re.childId),className:"btn btn-danger",style:{padding:"var(--space-3) var(--space-4)",fontSize:"var(--font-size-sm)",flex:1},children:" "})]})]},re.childId))})]}),m&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"var(--space-4)"},children:v.jsxs("div",{className:"card bounce-in",style:{width:"100%",maxWidth:"500px",padding:"var(--space-8)",borderRadius:"var(--radius-3xl)",background:"white",boxShadow:"var(--shadow-2xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-2)"},children:k?"":""}),v.jsx("div",{style:{width:"40px",height:"4px",background:"linear-gradient(90deg, var(--success-500), var(--success-300))",borderRadius:"2px"}})]}),v.jsxs("form",{onSubmit:K,children:[v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsx("input",{type:"text",value:E.name,onChange:re=>P({...E,name:re.target.value}),required:!0,className:"input",placeholder:" "})]}),(r==null?void 0:r.role)==="HQ"&&v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsxs("select",{value:E.orgId,onChange:re=>P({...E,orgId:re.target.value}),required:!0,className:"input",children:[v.jsx("option",{value:"",children:""}),p.map(re=>v.jsx("option",{value:re.id||re.orgId,children:re.name},re.id||re.orgId))]})]}),v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-base)",fontWeight:"600",color:"var(--neutral-700)",marginBottom:"var(--space-4)"},children:""}),v.jsx("div",{style:{marginBottom:"var(--space-4)"},children:v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-3)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)",transition:"all var(--transition-fast)"},children:[v.jsx("input",{type:"checkbox",checked:E.defaultPickup,onChange:re=>P({...E,defaultPickup:re.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--success-500)"}}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[v.jsx("span",{style:{fontSize:"1.25rem"},children:""}),v.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""})]})]})}),v.jsx("div",{children:v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-3)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)",transition:"all var(--transition-fast)"},children:[v.jsx("input",{type:"checkbox",checked:E.defaultDrop,onChange:re=>P({...E,defaultDrop:re.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--success-500)"}}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[v.jsx("span",{style:{fontSize:"1.25rem"},children:""}),v.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""})]})]})})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-4)"},children:[v.jsx("button",{type:"button",onClick:F,className:"btn btn-secondary",children:""}),v.jsx("button",{type:"submit",className:"btn btn-success",children:k?"":""})]})]})]})})]})})},W4=()=>{const{userData:r}=Za(),{data:e,loading:n,addData:a,updateData:o}=Jr("dailyReports"),{data:u}=Jr("children"),{data:d}=Jr("addOnMaster"),[p,m]=W.useState(new Date().toISOString().split("T")[0]),[y,k]=W.useState([]),[x,E]=W.useState(!1),[P,D]=W.useState(null),[K,z]=W.useState({childId:"",arrival:"",departure:"",pickup:!1,drop:!1,addOns:[]}),G=(r==null?void 0:r.role)==="HQ"?u:u.filter(I=>I.orgId===(r==null?void 0:r.orgId)),F=e.find(I=>I.date===p&&((r==null?void 0:r.role)==="HQ"||I.orgId===(r==null?void 0:r.orgId)));W.useEffect(()=>{k(F?F.children:G.map(I=>({childId:I.childId,arrival:"",departure:"",pickup:I.defaultPickup,drop:I.defaultDrop,addOns:[]})))},[p,F,G]);const ae=I=>{const A=y.find(N=>N.childId===I.childId);D(I),z(A||{childId:I.childId,arrival:"",departure:"",pickup:I.defaultPickup,drop:I.defaultDrop,addOns:[]}),E(!0)},re=()=>{k(I=>[...I.filter(A=>A.childId!==K.childId),K]),E(!1)},ue=async()=>{try{const I={reportId:`${r==null?void 0:r.orgId}_${p}`,orgId:(r==null?void 0:r.orgId)||"",date:p,children:y.filter(A=>A.arrival||A.departure)};F?await o(F.reportId,I):await a(I),alert("")}catch(I){console.error(":",I),alert("")}},ke=(I,A)=>{if(!I||!A)return 0;const N=new Date(`2000-01-01T${I}`),Je=new Date(`2000-01-01T${A}`).getTime()-N.getTime();return Math.max(0,Je/(1e3*60*60))},j=I=>y.find(A=>A.childId===I),T=y.filter(I=>I.arrival||I.departure).length,_=y.reduce((I,A)=>I+ke(A.arrival,A.departure),0),M=T>0?_/T:0;return n?v.jsx(Ln,{children:v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:v.jsx("div",{className:"loading-spinner"})})}):v.jsx(Ln,{children:v.jsxs("div",{className:"slide-in",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-8)"},children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:""})]}),v.jsxs("div",{style:{display:"flex",gap:"var(--space-4)",alignItems:"center"},children:[v.jsx("input",{type:"date",value:p,onChange:I=>m(I.target.value),className:"input",style:{width:"auto",padding:"var(--space-3) var(--space-4)"}}),v.jsx("button",{onClick:ue,className:"btn btn-primary",style:{padding:"var(--space-4) var(--space-6)",fontSize:"var(--font-size-base)",fontWeight:"600"},children:" "})]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"var(--space-6)",marginBottom:"var(--space-8)"},children:[v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--primary-500), var(--primary-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsxs("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:[T,""]}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})}),v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--success-500), var(--success-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsxs("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:[M.toFixed(1),"h"]}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})})]}),v.jsxs("div",{className:"card-glass slide-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:""}),v.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),G.length===0?v.jsxs("div",{style:{textAlign:"center",padding:"var(--space-12)",color:"var(--neutral-500)"},children:[v.jsx("div",{style:{fontSize:"4rem",marginBottom:"var(--space-4)"},children:""}),v.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{children:""})]}):v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"var(--space-4)"},children:G.map(I=>{const A=j(I.childId),N=ke(A==null?void 0:A.arrival,A==null?void 0:A.departure),Je=!!(A!=null&&A.arrival||A!=null&&A.departure);return v.jsxs("div",{className:"card fade-in",style:{padding:"var(--space-5)",borderRadius:"var(--radius-xl)",border:Je?"2px solid var(--success-300)":"2px solid var(--neutral-200)",cursor:"pointer",transition:"all var(--transition-normal)",background:Je?"linear-gradient(135deg, var(--success-50), white)":"white"},onClick:()=>ae(I),onMouseEnter:We=>{We.currentTarget.style.transform="translateY(-2px)",We.currentTarget.style.boxShadow="var(--shadow-xl)"},onMouseLeave:We=>{We.currentTarget.style.transform="translateY(0)",We.currentTarget.style.boxShadow="var(--shadow-lg)"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",marginBottom:"var(--space-4)"},children:[v.jsx("div",{style:{width:"50px",height:"50px",background:Je?"linear-gradient(135deg, var(--success-400), var(--success-300))":"linear-gradient(135deg, var(--neutral-300), var(--neutral-200))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:Je?"":""}),v.jsxs("div",{style:{flex:1},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:I.name}),v.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:Je?"var(--success-600)":"var(--neutral-500)",fontWeight:"600"},children:Je?"":""})]})]}),Je&&v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-3)",marginBottom:"var(--space-4)"},children:[v.jsxs("div",{style:{padding:"var(--space-2)",background:"var(--primary-50)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--primary-600)",fontWeight:"600",marginBottom:"var(--space-1)"},children:""}),v.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"700",color:"var(--primary-700)"},children:(A==null?void 0:A.arrival)||"--:--"})]}),v.jsxs("div",{style:{padding:"var(--space-2)",background:"var(--warning-50)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--warning-600)",fontWeight:"600",marginBottom:"var(--space-1)"},children:""}),v.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"700",color:"var(--warning-700)"},children:(A==null?void 0:A.departure)||"--:--"})]})]}),N>0&&v.jsxs("div",{style:{padding:"var(--space-3)",background:"var(--success-100)",borderRadius:"var(--radius-lg)",textAlign:"center",marginBottom:"var(--space-4)"},children:[v.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"700",color:"var(--success-700)"},children:[N.toFixed(1),""]}),v.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--success-600)"},children:""})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-2)"},children:[v.jsxs("div",{style:{padding:"var(--space-2)",background:A!=null&&A.pickup?"var(--primary-50)":"var(--neutral-50)",borderRadius:"var(--radius-md)",textAlign:"center",border:`1px solid ${A!=null&&A.pickup?"var(--primary-200)":"var(--neutral-200)"}`},children:[v.jsx("div",{style:{fontSize:"1rem",marginBottom:"var(--space-1)"},children:A!=null&&A.pickup?"":""}),v.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"600",color:A!=null&&A.pickup?"var(--primary-600)":"var(--neutral-500)"},children:""})]}),v.jsxs("div",{style:{padding:"var(--space-2)",background:A!=null&&A.drop?"var(--primary-50)":"var(--neutral-50)",borderRadius:"var(--radius-md)",textAlign:"center",border:`1px solid ${A!=null&&A.drop?"var(--primary-200)":"var(--neutral-200)"}`},children:[v.jsx("div",{style:{fontSize:"1rem",marginBottom:"var(--space-1)"},children:A!=null&&A.drop?"":""}),v.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"600",color:A!=null&&A.drop?"var(--primary-600)":"var(--neutral-500)"},children:""})]})]})]},I.childId)})})]}),x&&P&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"var(--space-4)"},children:v.jsxs("div",{className:"card bounce-in",style:{width:"100%",maxWidth:"600px",padding:"var(--space-8)",borderRadius:"var(--radius-3xl)",background:"white",boxShadow:"var(--shadow-2xl)",maxHeight:"90vh",overflowY:"auto"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsxs("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-2)"},children:[P.name," - "]}),v.jsx("div",{style:{width:"40px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-4)",marginBottom:"var(--space-6)"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsx("input",{type:"time",value:K.arrival,onChange:I=>z({...K,arrival:I.target.value}),className:"input"})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsx("input",{type:"time",value:K.departure,onChange:I=>z({...K,departure:I.target.value}),className:"input"})]})]}),v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-base)",fontWeight:"600",color:"var(--neutral-700)",marginBottom:"var(--space-4)"},children:""}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-4)"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-4)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)"},children:[v.jsx("input",{type:"checkbox",checked:K.pickup,onChange:I=>z({...K,pickup:I.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--primary-500)"}}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"1.25rem"},children:""}),v.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""})]})]}),v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-4)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)"},children:[v.jsx("input",{type:"checkbox",checked:K.drop,onChange:I=>z({...K,drop:I.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--primary-500)"}}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"1.25rem"},children:""}),v.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""})]})]})]})]}),v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-base)",fontWeight:"600",color:"var(--neutral-700)",marginBottom:"var(--space-4)"},children:""}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"var(--space-3)"},children:d.filter(I=>!I.isBasic).map(I=>v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-3)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)"},children:[v.jsx("input",{type:"checkbox",checked:K.addOns.includes(I.addOnId),onChange:A=>{A.target.checked?z({...K,addOns:[...K.addOns,I.addOnId]}):z({...K,addOns:K.addOns.filter(N=>N!==I.addOnId)})},style:{width:"20px",height:"20px",accentColor:"var(--success-500)"}}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:I.name}),v.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--neutral-500)"},children:[I.unitValue,""]})]})]},I.addOnId))})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-4)"},children:[v.jsx("button",{onClick:()=>E(!1),className:"btn btn-secondary",children:""}),v.jsx("button",{onClick:re,className:"btn btn-primary",children:""})]})]})})]})})};function Q4(){return v.jsx(F4,{children:v.jsx(ME,{children:v.jsxs(fE,{children:[v.jsx(fr,{path:"/login",element:v.jsx(V4,{})}),v.jsx(fr,{path:"/unauthorized",element:v.jsx(B4,{})}),v.jsx(fr,{path:"/dashboard",element:v.jsx(Hs,{children:v.jsx(U4,{})})}),v.jsx(fr,{path:"/organizations",element:v.jsx(Hs,{requiredRole:"HQ",children:v.jsx($4,{})})}),v.jsx(fr,{path:"/users",element:v.jsx(Hs,{requiredRole:"HQ",children:v.jsx(q4,{})})}),v.jsx(fr,{path:"/addon-master",element:v.jsx(Hs,{requiredRole:"HQ",children:v.jsx(K4,{})})}),v.jsx(fr,{path:"/children",element:v.jsx(Hs,{children:v.jsx(H4,{})})}),v.jsx(fr,{path:"/daily-reports",element:v.jsx(Hs,{children:v.jsx(W4,{})})}),v.jsx(fr,{path:"/",element:v.jsx(oh,{to:"/dashboard",replace:!0})})]})})})}SC.createRoot(document.getElementById("root")).render(v.jsx(W.StrictMode,{children:v.jsx(Q4,{})}));
