(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();var k0={exports:{}},Rl={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var E0;function fx(){if(E0)return Rl;E0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:i,key:h,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=e,Rl.jsx=n,Rl.jsxs=n,Rl}var S0;function px(){return S0||(S0=1,k0.exports=fx()),k0.exports}var y=px(),x0={exports:{}},Ie={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var C0;function mx(){if(C0)return Ie;C0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),S=Symbol.iterator;function C(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,K={};function z(L,ne,le){this.props=L,this.context=ne,this.refs=K,this.updater=le||D}z.prototype.isReactComponent={},z.prototype.setState=function(L,ne){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ne,"setState")},z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function F(L,ne,le){this.props=L,this.context=ne,this.refs=K,this.updater=le||D}var ie=F.prototype=new Q;ie.constructor=F,O(ie,z.prototype),ie.isPureReactComponent=!0;var re=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},ke=Object.prototype.hasOwnProperty;function j(L,ne,le,se,ge,Ne){return le=Ne.ref,{$$typeof:r,type:L,key:ne,ref:le!==void 0?le:null,props:Ne}}function I(L,ne){return j(L.type,ne,void 0,void 0,void 0,L.props)}function _(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function M(L){var ne={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return ne[le]})}var T=/\/+/g;function R(L,ne){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):ne.toString(36)}function N(){}function Je(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(ne){L.status==="pending"&&(L.status="fulfilled",L.value=ne)},function(ne){L.status==="pending"&&(L.status="rejected",L.reason=ne)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function qe(L,ne,le,se,ge){var Ne=typeof L;(Ne==="undefined"||Ne==="boolean")&&(L=null);var Se=!1;if(L===null)Se=!0;else switch(Ne){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(L.$$typeof){case r:case e:Se=!0;break;case k:return Se=L._init,qe(Se(L._payload),ne,le,se,ge)}}if(Se)return ge=ge(L),Se=se===""?"."+R(L,0):se,re(ge)?(le="",Se!=null&&(le=Se.replace(T,"$&/")+"/"),qe(ge,ne,le,"",function(Xn){return Xn})):ge!=null&&(_(ge)&&(ge=I(ge,le+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace(T,"$&/")+"/")+Se)),ne.push(ge)),1;Se=0;var _t=se===""?".":se+":";if(re(L))for(var et=0;et<L.length;et++)se=L[et],Ne=_t+R(se,et),Se+=qe(se,ne,le,Ne,ge);else if(et=C(L),typeof et=="function")for(L=et.call(L),et=0;!(se=L.next()).done;)se=se.value,Ne=_t+R(se,et++),Se+=qe(se,ne,le,Ne,ge);else if(Ne==="object"){if(typeof L.then=="function")return qe(Je(L),ne,le,se,ge);throw ne=String(L),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Se}function G(L,ne,le){if(L==null)return L;var se=[],ge=0;return qe(L,se,"","",function(Ne){return ne.call(le,Ne,ge++)}),se}function oe(L){if(L._status===-1){var ne=L._result;ne=ne(),ne.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=ne)}if(L._status===1)return L._result.default;throw L._result}var pe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Fe(){}return Ie.Children={map:G,forEach:function(L,ne,le){G(L,function(){ne.apply(this,arguments)},le)},count:function(L){var ne=0;return G(L,function(){ne++}),ne},toArray:function(L){return G(L,function(ne){return ne})||[]},only:function(L){if(!_(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ie.Component=z,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=F,Ie.StrictMode=i,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(L){return ue.H.useMemoCache(L)}},Ie.cache=function(L){return function(){return L.apply(null,arguments)}},Ie.cloneElement=function(L,ne,le){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var se=O({},L.props),ge=L.key,Ne=void 0;if(ne!=null)for(Se in ne.ref!==void 0&&(Ne=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!ke.call(ne,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ne.ref===void 0||(se[Se]=ne[Se]);var Se=arguments.length-2;if(Se===1)se.children=le;else if(1<Se){for(var _t=Array(Se),et=0;et<Se;et++)_t[et]=arguments[et+2];se.children=_t}return j(L.type,ge,void 0,void 0,Ne,se)},Ie.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},Ie.createElement=function(L,ne,le){var se,ge={},Ne=null;if(ne!=null)for(se in ne.key!==void 0&&(Ne=""+ne.key),ne)ke.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=ne[se]);var Se=arguments.length-2;if(Se===1)ge.children=le;else if(1<Se){for(var _t=Array(Se),et=0;et<Se;et++)_t[et]=arguments[et+2];ge.children=_t}if(L&&L.defaultProps)for(se in Se=L.defaultProps,Se)ge[se]===void 0&&(ge[se]=Se[se]);return j(L,Ne,void 0,void 0,null,ge)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(L){return{$$typeof:p,render:L}},Ie.isValidElement=_,Ie.lazy=function(L){return{$$typeof:k,_payload:{_status:-1,_result:L},_init:oe}},Ie.memo=function(L,ne){return{$$typeof:v,type:L,compare:ne===void 0?null:ne}},Ie.startTransition=function(L){var ne=ue.T,le={};ue.T=le;try{var se=L(),ge=ue.S;ge!==null&&ge(le,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Fe,pe)}catch(Ne){pe(Ne)}finally{ue.T=ne}},Ie.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ie.use=function(L){return ue.H.use(L)},Ie.useActionState=function(L,ne,le){return ue.H.useActionState(L,ne,le)},Ie.useCallback=function(L,ne){return ue.H.useCallback(L,ne)},Ie.useContext=function(L){return ue.H.useContext(L)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(L,ne){return ue.H.useDeferredValue(L,ne)},Ie.useEffect=function(L,ne,le){var se=ue.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(L,ne)},Ie.useId=function(){return ue.H.useId()},Ie.useImperativeHandle=function(L,ne,le){return ue.H.useImperativeHandle(L,ne,le)},Ie.useInsertionEffect=function(L,ne){return ue.H.useInsertionEffect(L,ne)},Ie.useLayoutEffect=function(L,ne){return ue.H.useLayoutEffect(L,ne)},Ie.useMemo=function(L,ne){return ue.H.useMemo(L,ne)},Ie.useOptimistic=function(L,ne){return ue.H.useOptimistic(L,ne)},Ie.useReducer=function(L,ne,le){return ue.H.useReducer(L,ne,le)},Ie.useRef=function(L){return ue.H.useRef(L)},Ie.useState=function(L){return ue.H.useState(L)},Ie.useSyncExternalStore=function(L,ne,le){return ue.H.useSyncExternalStore(L,ne,le)},Ie.useTransition=function(){return ue.H.useTransition()},Ie.version="19.1.0",Ie}var I0;function nm(){return I0||(I0=1,x0.exports=mx()),x0.exports}var q=nm(),ap={exports:{}},Ol={},T0={exports:{}},_0={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var N0;function gx(){return N0||(N0=1,function(r){function e(G,oe){var pe=G.length;G.push(oe);e:for(;0<pe;){var Fe=pe-1>>>1,L=G[Fe];if(0<o(L,oe))G[Fe]=oe,G[pe]=L,pe=Fe;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var oe=G[0],pe=G.pop();if(pe!==oe){G[0]=pe;e:for(var Fe=0,L=G.length,ne=L>>>1;Fe<ne;){var le=2*(Fe+1)-1,se=G[le],ge=le+1,Ne=G[ge];if(0>o(se,pe))ge<L&&0>o(Ne,se)?(G[Fe]=Ne,G[ge]=pe,Fe=ge):(G[Fe]=se,G[le]=pe,Fe=le);else if(ge<L&&0>o(Ne,pe))G[Fe]=Ne,G[ge]=pe,Fe=ge;else break e}}return oe}function o(G,oe){var pe=G.sortIndex-oe.sortIndex;return pe!==0?pe:G.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var m=[],v=[],k=1,S=null,C=3,D=!1,O=!1,K=!1,z=!1,Q=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function re(G){for(var oe=n(v);oe!==null;){if(oe.callback===null)i(v);else if(oe.startTime<=G)i(v),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(v)}}function ue(G){if(K=!1,re(G),!O)if(n(m)!==null)O=!0,ke||(ke=!0,R());else{var oe=n(v);oe!==null&&qe(ue,oe.startTime-G)}}var ke=!1,j=-1,I=5,_=-1;function M(){return z?!0:!(r.unstable_now()-_<I)}function T(){if(z=!1,ke){var G=r.unstable_now();_=G;var oe=!0;try{e:{O=!1,K&&(K=!1,F(j),j=-1),D=!0;var pe=C;try{t:{for(re(G),S=n(m);S!==null&&!(S.expirationTime>G&&M());){var Fe=S.callback;if(typeof Fe=="function"){S.callback=null,C=S.priorityLevel;var L=Fe(S.expirationTime<=G);if(G=r.unstable_now(),typeof L=="function"){S.callback=L,re(G),oe=!0;break t}S===n(m)&&i(m),re(G)}else i(m);S=n(m)}if(S!==null)oe=!0;else{var ne=n(v);ne!==null&&qe(ue,ne.startTime-G),oe=!1}}break e}finally{S=null,C=pe,D=!1}oe=void 0}}finally{oe?R():ke=!1}}}var R;if(typeof ie=="function")R=function(){ie(T)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Je=N.port2;N.port1.onmessage=T,R=function(){Je.postMessage(null)}}else R=function(){Q(T,0)};function qe(G,oe){j=Q(function(){G(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(G){switch(C){case 1:case 2:case 3:var oe=3;break;default:oe=C}var pe=C;C=oe;try{return G()}finally{C=pe}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=C;C=G;try{return oe()}finally{C=pe}},r.unstable_scheduleCallback=function(G,oe,pe){var Fe=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Fe+pe:Fe):pe=Fe,G){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=pe+L,G={id:k++,callback:oe,priorityLevel:G,startTime:pe,expirationTime:L,sortIndex:-1},pe>Fe?(G.sortIndex=pe,e(v,G),n(m)===null&&G===n(v)&&(K?(F(j),j=-1):K=!0,qe(ue,pe-Fe))):(G.sortIndex=L,e(m,G),O||D||(O=!0,ke||(ke=!0,R()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var oe=C;return function(){var pe=C;C=oe;try{return G.apply(this,arguments)}finally{C=pe}}}}(_0)),_0}var A0;function vx(){return A0||(A0=1,T0.exports=gx()),T0.exports}var op={exports:{}},Wt={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var R0;function yx(){if(R0)return Wt;R0=1;var r=nm();function e(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)v+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,v,k){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:v,implementation:k}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wt.createPortal=function(m,v){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(m,v,null,k)},Wt.flushSync=function(m){var v=h.T,k=i.p;try{if(h.T=null,i.p=2,m)return m()}finally{h.T=v,i.p=k,i.d.f()}},Wt.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(m,v))},Wt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Wt.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var k=v.as,S=p(k,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,D=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;k==="style"?i.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:D}):k==="script"&&i.d.X(m,{crossOrigin:S,integrity:C,fetchPriority:D,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Wt.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var k=p(v.as,v.crossOrigin);i.d.M(m,{crossOrigin:k,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(m)},Wt.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var k=v.as,S=p(k,v.crossOrigin);i.d.L(m,k,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Wt.preloadModule=function(m,v){if(typeof m=="string")if(v){var k=p(v.as,v.crossOrigin);i.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:k,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(m)},Wt.requestFormReset=function(m){i.d.r(m)},Wt.unstable_batchedUpdates=function(m,v){return m(v)},Wt.useFormState=function(m,v,k){return h.H.useFormState(m,v,k)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.1.0",Wt}var O0;function bx(){if(O0)return op.exports;O0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),op.exports=yx(),op.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var L0;function wx(){if(L0)return Ol;L0=1;var r=vx(),e=nm(),n=bx();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(i(188))}function m(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),t;if(f===l)return p(d),s;f=f.sibling}throw Error(i(188))}if(a.return!==l.return)a=d,l=f;else{for(var w=!1,E=d.child;E;){if(E===a){w=!0,a=d,l=f;break}if(E===l){w=!0,l=d,a=f;break}E=E.sibling}if(!w){for(E=f.child;E;){if(E===a){w=!0,a=f,l=d;break}if(E===l){w=!0,l=f,a=d;break}E=E.sibling}if(!w)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function v(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=v(t),s!==null)return s;t=t.sibling}return null}var k=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function R(t){return t===null||typeof t!="object"?null:(t=T&&t[T]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case z:return"Profiler";case K:return"StrictMode";case ue:return"Suspense";case ke:return"SuspenseList";case _:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case re:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return s=t.displayName||null,s!==null?s:Je(t.type)||"Memo";case I:s=t._payload,t=t._init;try{return Je(t(s))}catch{}}return null}var qe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Fe=[],L=-1;function ne(t){return{current:t}}function le(t){0>L||(t.current=Fe[L],Fe[L]=null,L--)}function se(t,s){L++,Fe[L]=t.current,t.current=s}var ge=ne(null),Ne=ne(null),Se=ne(null),_t=ne(null);function et(t,s){switch(se(Se,s),se(Ne,t),se(ge,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Qy(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Qy(s),t=Gy(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ge),se(ge,t)}function Xn(){le(ge),le(Ne),le(Se)}function as(t){t.memoizedState!==null&&se(_t,t);var s=ge.current,a=Gy(s,t.type);s!==a&&(se(Ne,t),se(ge,a))}function kr(t){Ne.current===t&&(le(ge),le(Ne)),_t.current===t&&(le(_t),Il._currentValue=pe)}var ri=Object.prototype.hasOwnProperty,si=r.unstable_scheduleCallback,ii=r.unstable_cancelCallback,So=r.unstable_shouldYield,vu=r.unstable_requestPaint,kn=r.unstable_now,ih=r.unstable_getCurrentPriorityLevel,xo=r.unstable_ImmediatePriority,ea=r.unstable_UserBlockingPriority,ai=r.unstable_NormalPriority,ah=r.unstable_LowPriority,ta=r.unstable_IdlePriority,Co=r.log,yu=r.unstable_setDisableYieldValue,lt=null,He=null;function cn(t){if(typeof Co=="function"&&yu(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(lt,t)}catch{}}var Ht=Math.clz32?Math.clz32:oi,bu=Math.log,oh=Math.LN2;function oi(t){return t>>>=0,t===0?32:31-(bu(t)/oh|0)|0}var li=256,ui=4194304;function Mn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function na(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?d=Mn(l):(w&=E,w!==0?d=Mn(w):a||(a=E&~t,a!==0&&(d=Mn(a))))):(E=l&~f,E!==0?d=Mn(E):w!==0?d=Mn(w):a||(a=l&~t,a!==0&&(d=Mn(a)))),d===0?0:s!==0&&s!==d&&(s&f)===0&&(f=d&-d,a=s&-s,f>=a||f===32&&(a&4194048)!==0)?s:d}function ci(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Io(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function To(){var t=li;return li<<=1,(li&4194048)===0&&(li=256),t}function _o(){var t=ui;return ui<<=1,(ui&62914560)===0&&(ui=4194304),t}function Er(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Sr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function No(t,s,a,l,d,f){var w=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,A=t.expirationTimes,$=t.hiddenUpdates;for(a=w&~a;0<a;){var X=31-Ht(a),Z=1<<X;E[X]=0,A[X]=-1;var H=$[X];if(H!==null)for($[X]=null,X=0;X<H.length;X++){var W=H[X];W!==null&&(W.lane&=-536870913)}a&=~Z}l!==0&&Jn(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(w&~s))}function Jn(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-Ht(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Ao(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-Ht(a),d=1<<l;d&s|t[l]&s&&(t[l]|=s),a&=~d}}function os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ra(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ls(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:m0(t.type))}function wu(t,s){var a=oe.p;try{return oe.p=t,s()}finally{oe.p=a}}var rt=Math.random().toString(36).slice(2),kt="__reactFiber$"+rt,gt="__reactProps$"+rt,En="__reactContainer$"+rt,Ro="__reactEvents$"+rt,lh="__reactListeners$"+rt,us="__reactHandles$"+rt,ku="__reactResources$"+rt,di="__reactMarker$"+rt;function cs(t){delete t[kt],delete t[gt],delete t[Ro],delete t[lh],delete t[us]}function xr(t){var s=t[kt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[En]||a[kt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=e0(t);t!==null;){if(a=t[kt])return a;t=e0(t)}return s}t=a,a=t.parentNode}return null}function Zn(t){if(t=t[kt]||t[En]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function er(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Xt(t){var s=t[ku];return s||(s=t[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ht(t){t[di]=!0}var Oo=new Set,sa={};function zn(t,s){Cr(t,s),Cr(t+"Capture",s)}function Cr(t,s){for(sa[t]=s,t=0;t<s.length;t++)Oo.add(s[t])}var Eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Su={},hi={};function xu(t){return ri.call(hi,t)?!0:ri.call(Su,t)?!1:Eu.test(t)?hi[t]=!0:(Su[t]=!0,!1)}function ds(t,s,a){if(xu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function tr(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Pt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}var fi,Cu;function Ir(t){if(fi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);fi=s&&s[1]||"",Cu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fi+t+Cu}var ia=!1;function aa(t,s){if(!t||ia)return"";ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(W){var H=W}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(W){H=W}t.call(Z.prototype)}}else{try{throw Error()}catch(W){H=W}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(W){if(W&&H&&typeof W.stack=="string")return[W.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),w=f[0],E=f[1];if(w&&E){var A=w.split(`
`),$=E.split(`
`);for(d=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(l===A.length||d===$.length)for(l=A.length-1,d=$.length-1;1<=l&&0<=d&&A[l]!==$[d];)d--;for(;1<=l&&0<=d;l--,d--)if(A[l]!==$[d]){if(l!==1||d!==1)do if(l--,d--,0>d||A[l]!==$[d]){var X=`
`+A[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=d);break}}}finally{ia=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ir(a):""}function Lo(t){switch(t.tag){case 26:case 27:case 5:return Ir(t.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 15:return aa(t.type,!1);case 11:return aa(t.type.render,!1);case 1:return aa(t.type,!0);case 31:return Ir("Activity");default:return""}}function oa(t){try{var s="";do s+=Lo(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Do(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function uh(t){var s=Do(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),l=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){l=""+w,f.call(this,w)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function la(t){t._valueTracker||(t._valueTracker=uh(t))}function Po(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=Do(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ch=/[\n"\\]/g;function Et(t){return t.replace(ch,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function dn(t,s,a,l,d,f,w,E){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),s!=null?w==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Jt(s)):t.value!==""+Jt(s)&&(t.value=""+Jt(s)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),s!=null?hs(t,w,Jt(s)):a!=null?hs(t,w,Jt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function mi(t,s,a,l,d,f,w,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||s!=null))return;a=a!=null?""+Jt(a):"",s=s!=null?""+Jt(s):a,E||s===t.value||(t.value=s),t.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function hs(t,s,a){s==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Tr(t,s,a,l){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Ye(t,s,a){if(s!=null&&(s=""+Jt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Jt(a):""}function gi(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(qe(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Jt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Sn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var vi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||vi.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function jo(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&Iu(t,d,l)}else for(var f in s)s.hasOwnProperty(f)&&Iu(t,f,s[f])}function Mo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(t){return hh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _r=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nr=null,Ar=null;function zo(t){var s=Zn(t);if(s&&(t=s.stateNode)){var a=t[gt]||null;e:switch(t=s.stateNode,s.type){case"input":if(dn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var d=l[gt]||null;if(!d)throw Error(i(90));dn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Po(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Tr(t,!!a.multiple,s,!1)}}}var nr=!1;function Tu(t,s,a){if(nr)return t(s,a);nr=!0;try{var l=t(s);return l}finally{if(nr=!1,(Nr!==null||Ar!==null)&&(wc(),Nr&&(s=Nr,t=Ar,Ar=Nr=null,zo(s),t)))for(s=0;s<t.length;s++)zo(t[s])}}function yi(t,s){var a=t.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Fn)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Cn=!1}var rr=null,fs=null,Rr=null;function Fo(){if(Rr)return Rr;var t,s=fs,a=s.length,l,d="value"in rr?rr.value:rr.textContent,f=d.length;for(t=0;t<a&&s[t]===d[t];t++);var w=a-t;for(l=1;l<=w&&s[a-l]===d[f-l];l++);return Rr=d.slice(t,1<l?1-l:void 0)}function sr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function Uo(){return!1}function Nt(t){function s(a,l,d,f,w){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ir:Uo,this.isPropagationStopped=Uo,this}return k(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),s}var Be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Nt(Be),wi=k({},Be,{view:0,detail:0}),_u=Nt(wi),da,ha,ar,ki=k({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ar&&(ar&&t.type==="mousemove"?(da=t.screenX-ar.screenX,ha=t.screenY-ar.screenY):ha=da=0,ar=t),da)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),In=Nt(ki),Nu=k({},ki,{dataTransfer:0}),fh=Nt(Nu),Ei=k({},wi,{relatedTarget:0}),fa=Nt(Ei),Vo=k({},Be,{animationName:0,elapsedTime:0,pseudoElement:0}),pa=Nt(Vo),Au=k({},Be,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ma=Nt(Au),ph=k({},Be,{data:0}),Bo=Nt(ph),Si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Ou[t])?!!s[t]:!1}function xi(){return $o}var Lu=k({},wi,{key:function(t){if(t.key){var s=Si[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=sr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(t){return t.type==="keypress"?sr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ga=Nt(Lu),Du=k({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Nt(Du),Or=k({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),Pu=Nt(Or),ju=k({},Be,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=Nt(ju),zu=k({},ki,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),va=Nt(zu),Zt=k({},Be,{newState:0,oldState:0}),Fu=Nt(Zt),Uu=[9,13,27,32],or=Fn&&"CompositionEvent"in window,c=null;Fn&&"documentMode"in document&&(c=document.documentMode);var g=Fn&&"TextEvent"in window&&!c,b=Fn&&(!or||c&&8<c&&11>=c),x=" ",V=!1;function Y(t,s){switch(t){case"keyup":return Uu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function St(t,s){switch(t){case"compositionend":return ae(s);case"keypress":return s.which!==32?null:(V=!0,x);case"textInput":return t=s.data,t===x&&V?null:t;default:return null}}function Ue(t,s){if(Me)return t==="compositionend"||!or&&Y(t,s)?(t=Fo(),Rr=fs=rr=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var At={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!At[t.type]:s==="textarea"}function Lr(t,s,a,l){Nr?Ar?Ar.push(l):Ar=[l]:Nr=l,s=Ic(s,"onChange"),0<s.length&&(a=new ca("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Mt=null,lr=null;function Ko(t){Hy(t,0)}function Vu(t){var s=er(t);if(Po(s))return t}function dg(t,s){if(t==="change")return s}var hg=!1;if(Fn){var mh;if(Fn){var gh="oninput"in document;if(!gh){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),gh=typeof fg.oninput=="function"}mh=gh}else mh=!1;hg=mh&&(!document.documentMode||9<document.documentMode)}function pg(){Mt&&(Mt.detachEvent("onpropertychange",mg),lr=Mt=null)}function mg(t){if(t.propertyName==="value"&&Vu(lr)){var s=[];Lr(s,lr,t,xn(t)),Tu(Ko,s)}}function $E(t,s,a){t==="focusin"?(pg(),Mt=s,lr=a,Mt.attachEvent("onpropertychange",mg)):t==="focusout"&&pg()}function HE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(lr)}function KE(t,s){if(t==="click")return Vu(s)}function WE(t,s){if(t==="input"||t==="change")return Vu(s)}function qE(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var hn=typeof Object.is=="function"?Object.is:qE;function Wo(t,s){if(hn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!ri.call(s,d)||!hn(t[d],s[d]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vg(t,s){var a=gg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gg(a)}}function yg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?yg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=pi(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=pi(t.document)}return s}function vh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var YE=Fn&&"documentMode"in document&&11>=document.documentMode,ya=null,yh=null,qo=null,bh=!1;function wg(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bh||ya==null||ya!==pi(l)||(l=ya,"selectionStart"in l&&vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qo&&Wo(qo,l)||(qo=l,l=Ic(yh,"onSelect"),0<l.length&&(s=new ca("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=ya)))}function Ci(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var ba={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},wh={},kg={};Fn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Ii(t){if(wh[t])return wh[t];if(!ba[t])return t;var s=ba[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in kg)return wh[t]=s[a];return t}var Eg=Ii("animationend"),Sg=Ii("animationiteration"),xg=Ii("animationstart"),QE=Ii("transitionrun"),GE=Ii("transitionstart"),XE=Ii("transitioncancel"),Cg=Ii("transitionend"),Ig=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Un(t,s){Ig.set(t,s),zn(s,[t])}var Tg=new WeakMap;function Tn(t,s){if(typeof t=="object"&&t!==null){var a=Tg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:oa(s)},Tg.set(t,s),s)}return{value:t,source:s,stack:oa(s)}}var _n=[],wa=0,Eh=0;function Bu(){for(var t=wa,s=Eh=wa=0;s<t;){var a=_n[s];_n[s++]=null;var l=_n[s];_n[s++]=null;var d=_n[s];_n[s++]=null;var f=_n[s];if(_n[s++]=null,l!==null&&d!==null){var w=l.pending;w===null?d.next=d:(d.next=w.next,w.next=d),l.pending=d}f!==0&&_g(a,d,f)}}function $u(t,s,a,l){_n[wa++]=t,_n[wa++]=s,_n[wa++]=a,_n[wa++]=l,Eh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sh(t,s,a,l){return $u(t,s,a,l),Hu(t)}function ka(t,s){return $u(t,null,null,s),Hu(t)}function _g(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&s!==null&&(d=31-Ht(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[s]:l.push(s),s.lane=a|536870912),f):null}function Hu(t){if(50<yl)throw yl=0,Af=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ea={};function JE(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,s,a,l){return new JE(t,s,a,l)}function xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dr(t,s){var a=t.alternate;return a===null?(a=fn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ng(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Ku(t,s,a,l,d,f){var w=0;if(l=t,typeof t=="function")xh(t)&&(w=1);else if(typeof t=="string")w=ex(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case _:return t=fn(31,a,s,d),t.elementType=_,t.lanes=f,t;case O:return Ti(a.children,d,f,s);case K:w=8,d|=24;break;case z:return t=fn(12,a,s,d|2),t.elementType=z,t.lanes=f,t;case ue:return t=fn(13,a,s,d),t.elementType=ue,t.lanes=f,t;case ke:return t=fn(19,a,s,d),t.elementType=ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case ie:w=10;break e;case F:w=9;break e;case re:w=11;break e;case j:w=14;break e;case I:w=16,l=null;break e}w=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=fn(w,a,s,d),s.elementType=t,s.type=l,s.lanes=f,s}function Ti(t,s,a,l){return t=fn(7,t,l,s),t.lanes=a,t}function Ch(t,s,a){return t=fn(6,t,null,s),t.lanes=a,t}function Ih(t,s,a){return s=fn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Sa=[],xa=0,Wu=null,qu=0,Nn=[],An=0,_i=null,Pr=1,jr="";function Ni(t,s){Sa[xa++]=qu,Sa[xa++]=Wu,Wu=t,qu=s}function Ag(t,s,a){Nn[An++]=Pr,Nn[An++]=jr,Nn[An++]=_i,_i=t;var l=Pr;t=jr;var d=32-Ht(l)-1;l&=~(1<<d),a+=1;var f=32-Ht(s)+d;if(30<f){var w=d-d%5;f=(l&(1<<w)-1).toString(32),l>>=w,d-=w,Pr=1<<32-Ht(s)+d|a<<d|l,jr=f+t}else Pr=1<<f|a<<d|l,jr=t}function Th(t){t.return!==null&&(Ni(t,1),Ag(t,1,0))}function _h(t){for(;t===Wu;)Wu=Sa[--xa],Sa[xa]=null,qu=Sa[--xa],Sa[xa]=null;for(;t===_i;)_i=Nn[--An],Nn[An]=null,jr=Nn[--An],Nn[An]=null,Pr=Nn[--An],Nn[An]=null}var en=null,ut=null,Ve=!1,Ai=null,ur=!1,Nh=Error(i(519));function Ri(t){var s=Error(i(418,""));throw Go(Tn(s,t)),Nh}function Rg(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[kt]=t,s[gt]=l,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<wl.length;a++)Oe(wl[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),mi(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),la(s);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),gi(s,l.value,l.defaultValue,l.children),la(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Yy(s.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),l.onScroll!=null&&Oe("scroll",s),l.onScrollEnd!=null&&Oe("scrollend",s),l.onClick!=null&&(s.onclick=Tc),s=!0):s=!1,s||Ri(t)}function Og(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:en=en.return}}function Yo(t){if(t!==en)return!1;if(!Ve)return Og(t),Ve=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wf(t.type,t.memoizedProps)),a=!a),a&&ut&&Ri(t),Og(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){ut=Bn(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}ut=null}}else s===27?(s=ut,Ns(t.type)?(t=Gf,Gf=null,ut=t):ut=s):ut=en?Bn(t.stateNode.nextSibling):null;return!0}function Qo(){ut=en=null,Ve=!1}function Lg(){var t=Ai;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),Ai=null),t}function Go(t){Ai===null?Ai=[t]:Ai.push(t)}var Ah=ne(null),Oi=null,Mr=null;function ps(t,s,a){se(Ah,s._currentValue),s._currentValue=a}function zr(t){t._currentValue=Ah.current,le(Ah)}function Rh(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function Oh(t,s,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var w=d.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=d;for(var A=0;A<s.length;A++)if(E.context===s[A]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Rh(f.return,a,t),l||(w=null);break e}f=E.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(i(341));w.lanes|=a,f=w.alternate,f!==null&&(f.lanes|=a),Rh(w,a,t),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===t){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Xo(t,s,a,l){t=null;for(var d=s,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var E=d.type;hn(d.pendingProps.value,w.value)||(t!==null?t.push(E):t=[E])}}else if(d===_t.current){if(w=d.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}d=d.return}t!==null&&Oh(s,t,a,l),s.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Li(t){Oi=t,Mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Dg(Oi,t)}function Qu(t,s){return Oi===null&&Li(t),Dg(t,s)}function Dg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Mr===null){if(t===null)throw Error(i(308));Mr=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Mr=Mr.next=s;return a}var ZE=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},eS=r.unstable_scheduleCallback,tS=r.unstable_NormalPriority,xt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lh(){return{controller:new ZE,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&eS(tS,function(){t.controller.abort()})}var Zo=null,Dh=0,Ca=0,Ia=null;function nS(t,s){if(Zo===null){var a=Zo=[];Dh=0,Ca=Mf(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dh++,s.then(Pg,Pg),s}function Pg(){if(--Dh===0&&Zo!==null){Ia!==null&&(Ia.status="fulfilled");var t=Zo;Zo=null,Ca=0,Ia=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function rS(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var jg=G.S;G.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&nS(t,s),jg!==null&&jg(t,s)};var Di=ne(null);function Ph(){var t=Di.current;return t!==null?t:tt.pooledCache}function Gu(t,s){s===null?se(Di,Di.current):se(Di,s.pool)}function Mg(){var t=Ph();return t===null?null:{parent:xt._currentValue,pool:t}}var el=Error(i(460)),zg=Error(i(474)),Xu=Error(i(542)),jh={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ju(){}function Ug(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Ju,Ju),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Bg(t),t;default:if(typeof s.status=="string")s.then(Ju,Ju);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Bg(t),t}throw tl=s,el}}var tl=null;function Vg(){if(tl===null)throw Error(i(459));var t=tl;return tl=null,t}function Bg(t){if(t===el||t===Xu)throw Error(i(483))}var ms=!1;function Mh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vs(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=Hu(t),_g(t,null,a),s}return $u(t,l,s,a),Hu(t)}function nl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Ao(t,a)}}function Fh(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=w:f=f.next=w,a=a.next}while(a!==null);f===null?d=f=s:f=f.next=s}else d=f=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Uh=!1;function rl(){if(Uh){var t=Ia;if(t!==null)throw t}}function sl(t,s,a,l){Uh=!1;var d=t.updateQueue;ms=!1;var f=d.firstBaseUpdate,w=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var A=E,$=A.next;A.next=null,w===null?f=$:w.next=$,w=A;var X=t.alternate;X!==null&&(X=X.updateQueue,E=X.lastBaseUpdate,E!==w&&(E===null?X.firstBaseUpdate=$:E.next=$,X.lastBaseUpdate=A))}if(f!==null){var Z=d.baseState;w=0,X=$=A=null,E=f;do{var H=E.lane&-536870913,W=H!==E.lane;if(W?(Pe&H)===H:(l&H)===H){H!==0&&H===Ca&&(Uh=!0),X!==null&&(X=X.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ee=t,ve=E;H=s;var Xe=a;switch(ve.tag){case 1:if(Ee=ve.payload,typeof Ee=="function"){Z=Ee.call(Xe,Z,H);break e}Z=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ve.payload,H=typeof Ee=="function"?Ee.call(Xe,Z,H):Ee,H==null)break e;Z=k({},Z,H);break e;case 2:ms=!0}}H=E.callback,H!==null&&(t.flags|=64,W&&(t.flags|=8192),W=d.callbacks,W===null?d.callbacks=[H]:W.push(H))}else W={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},X===null?($=X=W,A=Z):X=X.next=W,w|=H;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;W=E,E=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);X===null&&(A=Z),d.baseState=A,d.firstBaseUpdate=$,d.lastBaseUpdate=X,f===null&&(d.shared.lanes=0),Cs|=w,t.lanes=w,t.memoizedState=Z}}function $g(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Hg(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],s)}var Ta=ne(null),Zu=ne(0);function Kg(t,s){t=Wr,se(Zu,t),se(Ta,s),Wr=t|s.baseLanes}function Vh(){se(Zu,Wr),se(Ta,Ta.current)}function Bh(){Wr=Zu.current,le(Ta),le(Zu)}var ys=0,Te=null,Qe=null,vt=null,ec=!1,_a=!1,Pi=!1,tc=0,il=0,Na=null,sS=0;function ft(){throw Error(i(321))}function $h(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!hn(t[a],s[a]))return!1;return!0}function Hh(t,s,a,l,d,f){return ys=f,Te=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=t===null||t.memoizedState===null?_v:Nv,Pi=!1,f=a(l,d),Pi=!1,_a&&(f=qg(s,a,l,d)),Wg(t),f}function Wg(t){G.H=oc;var s=Qe!==null&&Qe.next!==null;if(ys=0,vt=Qe=Te=null,ec=!1,il=0,Na=null,s)throw Error(i(300));t===null||Rt||(t=t.dependencies,t!==null&&Yu(t)&&(Rt=!0))}function qg(t,s,a,l){Te=t;var d=0;do{if(_a&&(Na=null),il=0,_a=!1,25<=d)throw Error(i(301));if(d+=1,vt=Qe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=dS,f=s(a,l)}while(_a);return f}function iS(){var t=G.H,s=t.useState()[0];return s=typeof s.then=="function"?al(s):s,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Te.flags|=1024),s}function Kh(){var t=tc!==0;return tc=0,t}function Wh(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function qh(t){if(ec){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}ec=!1}ys=0,vt=Qe=Te=null,_a=!1,il=tc=0,Na=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Te.memoizedState=vt=t:vt=vt.next=t,vt}function yt(){if(Qe===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var s=vt===null?Te.memoizedState:vt.next;if(s!==null)vt=s,Qe=t;else{if(t===null)throw Te.alternate===null?Error(i(467)):Error(i(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},vt===null?Te.memoizedState=vt=t:vt=vt.next=t}return vt}function Yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var s=il;return il+=1,Na===null&&(Na=[]),t=Ug(Na,t,s),s=Te,(vt===null?s.memoizedState:vt.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?_v:Nv),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===ie)return Kt(t)}throw Error(i(438,String(t)))}function Qh(t){var s=null,a=Te.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Yh(),Te.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=M;return s.index++,a}function Fr(t,s){return typeof s=="function"?s(t):s}function rc(t){var s=yt();return Gh(s,Qe,t)}function Gh(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var w=d.next;d.next=f.next,f.next=w}s.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{s=d.next;var E=w=null,A=null,$=s,X=!1;do{var Z=$.lane&-536870913;if(Z!==$.lane?(Pe&Z)===Z:(ys&Z)===Z){var H=$.revertLane;if(H===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),Z===Ca&&(X=!0);else if((ys&H)===H){$=$.next,H===Ca&&(X=!0);continue}else Z={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},A===null?(E=A=Z,w=f):A=A.next=Z,Te.lanes|=H,Cs|=H;Z=$.action,Pi&&a(f,Z),f=$.hasEagerState?$.eagerState:a(f,Z)}else H={lane:Z,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},A===null?(E=A=H,w=f):A=A.next=H,Te.lanes|=Z,Cs|=Z;$=$.next}while($!==null&&$!==s);if(A===null?w=f:A.next=E,!hn(f,t.memoizedState)&&(Rt=!0,X&&(a=Ia,a!==null)))throw a;t.memoizedState=f,t.baseState=w,t.baseQueue=A,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xh(t){var s=yt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do f=t(f,w.action),w=w.next;while(w!==d);hn(f,s.memoizedState)||(Rt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),a.lastRenderedState=f}return[f,l]}function Yg(t,s,a){var l=Te,d=yt(),f=Ve;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=s();var w=!hn((Qe||d).memoizedState,a);w&&(d.memoizedState=a,Rt=!0),d=d.queue;var E=Xg.bind(null,l,d,t);if(ol(2048,8,E,[t]),d.getSnapshot!==s||w||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Aa(9,sc(),Gg.bind(null,l,d,a,s),null),tt===null)throw Error(i(349));f||(ys&124)!==0||Qg(l,s,a)}return a}function Qg(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Te.updateQueue,s===null?(s=Yh(),Te.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Gg(t,s,a,l){s.value=a,s.getSnapshot=l,Jg(s)&&Zg(t)}function Xg(t,s,a){return a(function(){Jg(s)&&Zg(t)})}function Jg(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!hn(t,a)}catch{return!0}}function Zg(t){var s=ka(t,2);s!==null&&yn(s,t,2)}function Jh(t){var s=tn();if(typeof t=="function"){var a=t;if(t=a(),Pi){cn(!0);try{a()}finally{cn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:t},s}function ev(t,s,a,l){return t.baseState=a,Gh(t,Qe,typeof l=="function"?l:Fr)}function aS(t,s,a,l,d){if(ac(t))throw Error(i(485));if(t=s.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){f.listeners.push(w)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=s.pending,a===null?(f.next=s.pending=f,tv(s,f)):(f.next=a.next,s.pending=a.next=f)}}function tv(t,s){var a=s.action,l=s.payload,d=t.state;if(s.isTransition){var f=G.T,w={};G.T=w;try{var E=a(d,l),A=G.S;A!==null&&A(w,E),nv(t,s,E)}catch($){Zh(t,s,$)}finally{G.T=f}}else try{f=a(d,l),nv(t,s,f)}catch($){Zh(t,s,$)}}function nv(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){rv(t,s,l)},function(l){return Zh(t,s,l)}):rv(t,s,a)}function rv(t,s,a){s.status="fulfilled",s.value=a,sv(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,tv(t,a)))}function Zh(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,sv(s),s=s.next;while(s!==l)}t.action=null}function sv(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function iv(t,s){return s}function av(t,s){if(Ve){var a=tt.formState;if(a!==null){e:{var l=Te;if(Ve){if(ut){t:{for(var d=ut,f=ur;d.nodeType!==8;){if(!f){d=null;break t}if(d=Bn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ut=Bn(d.nextSibling),l=d.data==="F!";break e}}Ri(l)}l=!1}l&&(s=a[0])}}return a=tn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iv,lastRenderedState:s},a.queue=l,a=Cv.bind(null,Te,l),l.dispatch=a,l=Jh(!1),f=sf.bind(null,Te,!1,l.queue),l=tn(),d={state:s,dispatch:null,action:t,pending:null},l.queue=d,a=aS.bind(null,Te,d,f,a),d.dispatch=a,l.memoizedState=t,[s,a,!1]}function ov(t){var s=yt();return lv(s,Qe,t)}function lv(t,s,a){if(s=Gh(t,s,iv)[0],t=rc(Fr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=al(s)}catch(w){throw w===el?Xu:w}else l=s;s=yt();var d=s.queue,f=d.dispatch;return a!==s.memoizedState&&(Te.flags|=2048,Aa(9,sc(),oS.bind(null,d,a),null)),[l,f,t]}function oS(t,s){t.action=s}function uv(t){var s=yt(),a=Qe;if(a!==null)return lv(s,a,t);yt(),s=s.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Aa(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Te.updateQueue,s===null&&(s=Yh(),Te.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function sc(){return{destroy:void 0,resource:void 0}}function cv(){return yt().memoizedState}function ic(t,s,a,l){var d=tn();l=l===void 0?null:l,Te.flags|=t,d.memoizedState=Aa(1|s,sc(),a,l)}function ol(t,s,a,l){var d=yt();l=l===void 0?null:l;var f=d.memoizedState.inst;Qe!==null&&l!==null&&$h(l,Qe.memoizedState.deps)?d.memoizedState=Aa(s,f,a,l):(Te.flags|=t,d.memoizedState=Aa(1|s,f,a,l))}function dv(t,s){ic(8390656,8,t,s)}function hv(t,s){ol(2048,8,t,s)}function fv(t,s){return ol(4,2,t,s)}function pv(t,s){return ol(4,4,t,s)}function mv(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function gv(t,s,a){a=a!=null?a.concat([t]):null,ol(4,4,mv.bind(null,s,t),a)}function ef(){}function vv(t,s){var a=yt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&$h(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function yv(t,s){var a=yt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&$h(s,l[1]))return l[0];if(l=t(),Pi){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,s],l}function tf(t,s,a){return a===void 0||(ys&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=ky(),Te.lanes|=t,Cs|=t,a)}function bv(t,s,a,l){return hn(a,s)?a:Ta.current!==null?(t=tf(t,a,l),hn(t,s)||(Rt=!0),t):(ys&42)===0?(Rt=!0,t.memoizedState=a):(t=ky(),Te.lanes|=t,Cs|=t,s)}function wv(t,s,a,l,d){var f=oe.p;oe.p=f!==0&&8>f?f:8;var w=G.T,E={};G.T=E,sf(t,!1,s,a);try{var A=d(),$=G.S;if($!==null&&$(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var X=rS(A,l);ll(t,s,X,vn(t))}else ll(t,s,l,vn(t))}catch(Z){ll(t,s,{then:function(){},status:"rejected",reason:Z},vn())}finally{oe.p=f,G.T=w}}function lS(){}function nf(t,s,a,l){if(t.tag!==5)throw Error(i(476));var d=kv(t).queue;wv(t,d,s,pe,a===null?lS:function(){return Ev(t),a(l)})}function kv(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:pe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Ev(t){var s=kv(t).next.queue;ll(t,s,{},vn())}function rf(){return Kt(Il)}function Sv(){return yt().memoizedState}function xv(){return yt().memoizedState}function uS(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=vn();t=gs(a);var l=vs(s,t,a);l!==null&&(yn(l,s,a),nl(l,s,a)),s={cache:Lh()},t.payload=s;return}s=s.return}}function cS(t,s,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?Iv(s,a):(a=Sh(t,s,a,l),a!==null&&(yn(a,t,l),Tv(a,s,l)))}function Cv(t,s,a){var l=vn();ll(t,s,a,l)}function ll(t,s,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))Iv(s,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var w=s.lastRenderedState,E=f(w,a);if(d.hasEagerState=!0,d.eagerState=E,hn(E,w))return $u(t,s,d,0),tt===null&&Bu(),!1}catch{}finally{}if(a=Sh(t,s,d,l),a!==null)return yn(a,t,l),Tv(a,s,l),!0}return!1}function sf(t,s,a,l){if(l={lane:2,revertLane:Mf(),action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(s)throw Error(i(479))}else s=Sh(t,a,l,2),s!==null&&yn(s,t,2)}function ac(t){var s=t.alternate;return t===Te||s!==null&&s===Te}function Iv(t,s){_a=ec=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Tv(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Ao(t,a)}}var oc={readContext:Kt,use:nc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},_v={readContext:Kt,use:nc,useCallback:function(t,s){return tn().memoizedState=[t,s===void 0?null:s],t},useContext:Kt,useEffect:dv,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,ic(4194308,4,mv.bind(null,s,t),a)},useLayoutEffect:function(t,s){return ic(4194308,4,t,s)},useInsertionEffect:function(t,s){ic(4,2,t,s)},useMemo:function(t,s){var a=tn();s=s===void 0?null:s;var l=t();if(Pi){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=tn();if(a!==void 0){var d=a(s);if(Pi){cn(!0);try{a(s)}finally{cn(!1)}}}else d=s;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=cS.bind(null,Te,t),[l.memoizedState,t]},useRef:function(t){var s=tn();return t={current:t},s.memoizedState=t},useState:function(t){t=Jh(t);var s=t.queue,a=Cv.bind(null,Te,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:ef,useDeferredValue:function(t,s){var a=tn();return tf(a,t,s)},useTransition:function(){var t=Jh(!1);return t=wv.bind(null,Te,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Te,d=tn();if(Ve){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),tt===null)throw Error(i(349));(Pe&124)!==0||Qg(l,s,a)}d.memoizedState=a;var f={value:a,getSnapshot:s};return d.queue=f,dv(Xg.bind(null,l,f,t),[t]),l.flags|=2048,Aa(9,sc(),Gg.bind(null,l,f,a,s),null),a},useId:function(){var t=tn(),s=tt.identifierPrefix;if(Ve){var a=jr,l=Pr;a=(l&~(1<<32-Ht(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=tc++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=sS++,s="«"+s+"r"+a.toString(32)+"»";return t.memoizedState=s},useHostTransitionStatus:rf,useFormState:av,useActionState:av,useOptimistic:function(t){var s=tn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=sf.bind(null,Te,!0,a),a.dispatch=s,[t,s]},useMemoCache:Qh,useCacheRefresh:function(){return tn().memoizedState=uS.bind(null,Te)}},Nv={readContext:Kt,use:nc,useCallback:vv,useContext:Kt,useEffect:hv,useImperativeHandle:gv,useInsertionEffect:fv,useLayoutEffect:pv,useMemo:yv,useReducer:rc,useRef:cv,useState:function(){return rc(Fr)},useDebugValue:ef,useDeferredValue:function(t,s){var a=yt();return bv(a,Qe.memoizedState,t,s)},useTransition:function(){var t=rc(Fr)[0],s=yt().memoizedState;return[typeof t=="boolean"?t:al(t),s]},useSyncExternalStore:Yg,useId:Sv,useHostTransitionStatus:rf,useFormState:ov,useActionState:ov,useOptimistic:function(t,s){var a=yt();return ev(a,Qe,t,s)},useMemoCache:Qh,useCacheRefresh:xv},dS={readContext:Kt,use:nc,useCallback:vv,useContext:Kt,useEffect:hv,useImperativeHandle:gv,useInsertionEffect:fv,useLayoutEffect:pv,useMemo:yv,useReducer:Xh,useRef:cv,useState:function(){return Xh(Fr)},useDebugValue:ef,useDeferredValue:function(t,s){var a=yt();return Qe===null?tf(a,t,s):bv(a,Qe.memoizedState,t,s)},useTransition:function(){var t=Xh(Fr)[0],s=yt().memoizedState;return[typeof t=="boolean"?t:al(t),s]},useSyncExternalStore:Yg,useId:Sv,useHostTransitionStatus:rf,useFormState:uv,useActionState:uv,useOptimistic:function(t,s){var a=yt();return Qe!==null?ev(a,Qe,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qh,useCacheRefresh:xv},Ra=null,ul=0;function lc(t){var s=ul;return ul+=1,Ra===null&&(Ra=[]),Ug(Ra,t,s)}function cl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function uc(t,s){throw s.$$typeof===S?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Av(t){var s=t._init;return s(t._payload)}function Rv(t){function s(U,P){if(t){var B=U.deletions;B===null?(U.deletions=[P],U.flags|=16):B.push(P)}}function a(U,P){if(!t)return null;for(;P!==null;)s(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function d(U,P){return U=Dr(U,P),U.index=0,U.sibling=null,U}function f(U,P,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<P?(U.flags|=67108866,P):B):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function w(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,P,B,J){return P===null||P.tag!==6?(P=Ch(B,U.mode,J),P.return=U,P):(P=d(P,B),P.return=U,P)}function A(U,P,B,J){var he=B.type;return he===O?X(U,P,B.props.children,J,B.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===I&&Av(he)===P.type)?(P=d(P,B.props),cl(P,B),P.return=U,P):(P=Ku(B.type,B.key,B.props,null,U.mode,J),cl(P,B),P.return=U,P)}function $(U,P,B,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=Ih(B,U.mode,J),P.return=U,P):(P=d(P,B.children||[]),P.return=U,P)}function X(U,P,B,J,he){return P===null||P.tag!==7?(P=Ti(B,U.mode,J,he),P.return=U,P):(P=d(P,B),P.return=U,P)}function Z(U,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ch(""+P,U.mode,B),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return B=Ku(P.type,P.key,P.props,null,U.mode,B),cl(B,P),B.return=U,B;case D:return P=Ih(P,U.mode,B),P.return=U,P;case I:var J=P._init;return P=J(P._payload),Z(U,P,B)}if(qe(P)||R(P))return P=Ti(P,U.mode,B,null),P.return=U,P;if(typeof P.then=="function")return Z(U,lc(P),B);if(P.$$typeof===ie)return Z(U,Qu(U,P),B);uc(U,P)}return null}function H(U,P,B,J){var he=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:E(U,P,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return B.key===he?A(U,P,B,J):null;case D:return B.key===he?$(U,P,B,J):null;case I:return he=B._init,B=he(B._payload),H(U,P,B,J)}if(qe(B)||R(B))return he!==null?null:X(U,P,B,J,null);if(typeof B.then=="function")return H(U,P,lc(B),J);if(B.$$typeof===ie)return H(U,P,Qu(U,B),J);uc(U,B)}return null}function W(U,P,B,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(B)||null,E(P,U,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return U=U.get(J.key===null?B:J.key)||null,A(P,U,J,he);case D:return U=U.get(J.key===null?B:J.key)||null,$(P,U,J,he);case I:var Ae=J._init;return J=Ae(J._payload),W(U,P,B,J,he)}if(qe(J)||R(J))return U=U.get(B)||null,X(P,U,J,he,null);if(typeof J.then=="function")return W(U,P,B,lc(J),he);if(J.$$typeof===ie)return W(U,P,B,Qu(P,J),he);uc(P,J)}return null}function Ee(U,P,B,J){for(var he=null,Ae=null,fe=P,ye=P=0,Lt=null;fe!==null&&ye<B.length;ye++){fe.index>ye?(Lt=fe,fe=null):Lt=fe.sibling;var ze=H(U,fe,B[ye],J);if(ze===null){fe===null&&(fe=Lt);break}t&&fe&&ze.alternate===null&&s(U,fe),P=f(ze,P,ye),Ae===null?he=ze:Ae.sibling=ze,Ae=ze,fe=Lt}if(ye===B.length)return a(U,fe),Ve&&Ni(U,ye),he;if(fe===null){for(;ye<B.length;ye++)fe=Z(U,B[ye],J),fe!==null&&(P=f(fe,P,ye),Ae===null?he=fe:Ae.sibling=fe,Ae=fe);return Ve&&Ni(U,ye),he}for(fe=l(fe);ye<B.length;ye++)Lt=W(fe,U,ye,B[ye],J),Lt!==null&&(t&&Lt.alternate!==null&&fe.delete(Lt.key===null?ye:Lt.key),P=f(Lt,P,ye),Ae===null?he=Lt:Ae.sibling=Lt,Ae=Lt);return t&&fe.forEach(function(Ds){return s(U,Ds)}),Ve&&Ni(U,ye),he}function ve(U,P,B,J){if(B==null)throw Error(i(151));for(var he=null,Ae=null,fe=P,ye=P=0,Lt=null,ze=B.next();fe!==null&&!ze.done;ye++,ze=B.next()){fe.index>ye?(Lt=fe,fe=null):Lt=fe.sibling;var Ds=H(U,fe,ze.value,J);if(Ds===null){fe===null&&(fe=Lt);break}t&&fe&&Ds.alternate===null&&s(U,fe),P=f(Ds,P,ye),Ae===null?he=Ds:Ae.sibling=Ds,Ae=Ds,fe=Lt}if(ze.done)return a(U,fe),Ve&&Ni(U,ye),he;if(fe===null){for(;!ze.done;ye++,ze=B.next())ze=Z(U,ze.value,J),ze!==null&&(P=f(ze,P,ye),Ae===null?he=ze:Ae.sibling=ze,Ae=ze);return Ve&&Ni(U,ye),he}for(fe=l(fe);!ze.done;ye++,ze=B.next())ze=W(fe,U,ye,ze.value,J),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?ye:ze.key),P=f(ze,P,ye),Ae===null?he=ze:Ae.sibling=ze,Ae=ze);return t&&fe.forEach(function(hx){return s(U,hx)}),Ve&&Ni(U,ye),he}function Xe(U,P,B,J){if(typeof B=="object"&&B!==null&&B.type===O&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case C:e:{for(var he=B.key;P!==null;){if(P.key===he){if(he=B.type,he===O){if(P.tag===7){a(U,P.sibling),J=d(P,B.props.children),J.return=U,U=J;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===I&&Av(he)===P.type){a(U,P.sibling),J=d(P,B.props),cl(J,B),J.return=U,U=J;break e}a(U,P);break}else s(U,P);P=P.sibling}B.type===O?(J=Ti(B.props.children,U.mode,J,B.key),J.return=U,U=J):(J=Ku(B.type,B.key,B.props,null,U.mode,J),cl(J,B),J.return=U,U=J)}return w(U);case D:e:{for(he=B.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(U,P.sibling),J=d(P,B.children||[]),J.return=U,U=J;break e}else{a(U,P);break}else s(U,P);P=P.sibling}J=Ih(B,U.mode,J),J.return=U,U=J}return w(U);case I:return he=B._init,B=he(B._payload),Xe(U,P,B,J)}if(qe(B))return Ee(U,P,B,J);if(R(B)){if(he=R(B),typeof he!="function")throw Error(i(150));return B=he.call(B),ve(U,P,B,J)}if(typeof B.then=="function")return Xe(U,P,lc(B),J);if(B.$$typeof===ie)return Xe(U,P,Qu(U,B),J);uc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(U,P.sibling),J=d(P,B),J.return=U,U=J):(a(U,P),J=Ch(B,U.mode,J),J.return=U,U=J),w(U)):a(U,P)}return function(U,P,B,J){try{ul=0;var he=Xe(U,P,B,J);return Ra=null,he}catch(fe){if(fe===el||fe===Xu)throw fe;var Ae=fn(29,fe,null,U.mode);return Ae.lanes=J,Ae.return=U,Ae}finally{}}}var Oa=Rv(!0),Ov=Rv(!1),Rn=ne(null),Ur=null;function bs(t){var s=t.alternate;se(Ct,Ct.current&1),se(Rn,t),Ur===null&&(s===null||Ta.current!==null||s.memoizedState!==null)&&(Ur=t)}function Lv(t){if(t.tag===22){if(se(Ct,Ct.current),se(Rn,t),Ur===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(Ur=t)}}else ws()}function ws(){se(Ct,Ct.current),se(Rn,Rn.current)}function Vr(t){le(Rn),Ur===t&&(Ur=null),le(Ct)}var Ct=ne(0);function cc(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Qf(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function af(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:k({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var of={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=vn(),d=gs(l);d.payload=s,a!=null&&(d.callback=a),s=vs(t,d,l),s!==null&&(yn(s,t,l),nl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=vn(),d=gs(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=vs(t,d,l),s!==null&&(yn(s,t,l),nl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=vn(),l=gs(a);l.tag=2,s!=null&&(l.callback=s),s=vs(t,l,a),s!==null&&(yn(s,t,a),nl(s,t,a))}};function Dv(t,s,a,l,d,f,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,w):s.prototype&&s.prototype.isPureReactComponent?!Wo(a,l)||!Wo(d,f):!0}function Pv(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&of.enqueueReplaceState(s,s.state,null)}function ji(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=k({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function jv(t){dc(t)}function Mv(t){console.error(t)}function zv(t){dc(t)}function hc(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Fv(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function lf(t,s,a){return a=gs(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(t,s)},a}function Uv(t){return t=gs(t),t.tag=3,t}function Vv(t,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Fv(s,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Fv(s,a,l),typeof d!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function hS(t,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Xo(s,a,d,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return Ur===null?Of():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===jh?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Df(t,l,d)),!1;case 22:return a.flags|=65536,l===jh?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Df(t,l,d)),!1}throw Error(i(435,a.tag))}return Df(t,l,d),Of(),!1}if(Ve)return s=Rn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==Nh&&(t=Error(i(422),{cause:l}),Go(Tn(t,a)))):(l!==Nh&&(s=Error(i(423),{cause:l}),Go(Tn(s,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Tn(l,a),d=lf(t.stateNode,l,d),Fh(t,d),ct!==4&&(ct=2)),!1;var f=Error(i(520),{cause:l});if(f=Tn(f,a),vl===null?vl=[f]:vl.push(f),ct!==4&&(ct=2),s===null)return!0;l=Tn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=lf(a.stateNode,l,t),Fh(a,t),!1;case 1:if(s=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Uv(d),Vv(d,t,a,l),Fh(a,d),!1}a=a.return}while(a!==null);return!1}var Bv=Error(i(461)),Rt=!1;function zt(t,s,a,l){s.child=t===null?Ov(s,null,a,l):Oa(s,t.child,a,l)}function $v(t,s,a,l,d){a=a.render;var f=s.ref;if("ref"in l){var w={};for(var E in l)E!=="ref"&&(w[E]=l[E])}else w=l;return Li(s),l=Hh(t,s,a,w,f,d),E=Kh(),t!==null&&!Rt?(Wh(t,s,d),Br(t,s,d)):(Ve&&E&&Th(s),s.flags|=1,zt(t,s,l,d),s.child)}function Hv(t,s,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!xh(f)&&f.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=f,Kv(t,s,f,l,d)):(t=Ku(a.type,null,l,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!gf(t,d)){var w=f.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(w,l)&&t.ref===s.ref)return Br(t,s,d)}return s.flags|=1,t=Dr(f,l),t.ref=s.ref,t.return=s,s.child=t}function Kv(t,s,a,l,d){if(t!==null){var f=t.memoizedProps;if(Wo(f,l)&&t.ref===s.ref)if(Rt=!1,s.pendingProps=l=f,gf(t,d))(t.flags&131072)!==0&&(Rt=!0);else return s.lanes=t.lanes,Br(t,s,d)}return uf(t,s,a,l,d)}function Wv(t,s,a){var l=s.pendingProps,d=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(d=s.child=t.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;s.childLanes=f&~l}else s.childLanes=0,s.child=null;return qv(t,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(s,f!==null?f.cachePool:null),f!==null?Kg(s,f):Vh(),Lv(s);else return s.lanes=s.childLanes=536870912,qv(t,s,f!==null?f.baseLanes|a:a,a)}else f!==null?(Gu(s,f.cachePool),Kg(s,f),ws(),s.memoizedState=null):(t!==null&&Gu(s,null),Vh(),ws());return zt(t,s,d,a),s.child}function qv(t,s,a,l){var d=Ph();return d=d===null?null:{parent:xt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&Gu(s,null),Vh(),Lv(s),t!==null&&Xo(t,s,l,!0),null}function fc(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function uf(t,s,a,l,d){return Li(s),a=Hh(t,s,a,l,void 0,d),l=Kh(),t!==null&&!Rt?(Wh(t,s,d),Br(t,s,d)):(Ve&&l&&Th(s),s.flags|=1,zt(t,s,a,d),s.child)}function Yv(t,s,a,l,d,f){return Li(s),s.updateQueue=null,a=qg(s,l,a,d),Wg(t),l=Kh(),t!==null&&!Rt?(Wh(t,s,f),Br(t,s,f)):(Ve&&l&&Th(s),s.flags|=1,zt(t,s,a,f),s.child)}function Qv(t,s,a,l,d){if(Li(s),s.stateNode===null){var f=Ea,w=a.contextType;typeof w=="object"&&w!==null&&(f=Kt(w)),f=new a(l,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=of,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=l,f.state=s.memoizedState,f.refs={},Mh(s),w=a.contextType,f.context=typeof w=="object"&&w!==null?Kt(w):Ea,f.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(af(s,a,w,l),f.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(w=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),w!==f.state&&of.enqueueReplaceState(f,f.state,null),sl(s,l,f,d),rl(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){f=s.stateNode;var E=s.memoizedProps,A=ji(a,E);f.props=A;var $=f.context,X=a.contextType;w=Ea,typeof X=="object"&&X!==null&&(w=Kt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||$!==w)&&Pv(s,f,l,w),ms=!1;var H=s.memoizedState;f.state=H,sl(s,l,f,d),rl(),$=s.memoizedState,E||H!==$||ms?(typeof Z=="function"&&(af(s,a,Z,l),$=s.memoizedState),(A=ms||Dv(s,a,A,l,H,$,w))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=$),f.props=l,f.state=$,f.context=w,l=A):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{f=s.stateNode,zh(t,s),w=s.memoizedProps,X=ji(a,w),f.props=X,Z=s.pendingProps,H=f.context,$=a.contextType,A=Ea,typeof $=="object"&&$!==null&&(A=Kt($)),E=a.getDerivedStateFromProps,($=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==Z||H!==A)&&Pv(s,f,l,A),ms=!1,H=s.memoizedState,f.state=H,sl(s,l,f,d),rl();var W=s.memoizedState;w!==Z||H!==W||ms||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof E=="function"&&(af(s,a,E,l),W=s.memoizedState),(X=ms||Dv(s,a,X,l,H,W,A)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?($||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,W,A),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,W,A)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||w===t.memoizedProps&&H===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&H===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=W),f.props=l,f.state=W,f.context=A,l=X):(typeof f.componentDidUpdate!="function"||w===t.memoizedProps&&H===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&H===t.memoizedState||(s.flags|=1024),l=!1)}return f=l,fc(t,s),l=(s.flags&128)!==0,f||l?(f=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&l?(s.child=Oa(s,t.child,null,d),s.child=Oa(s,null,a,d)):zt(t,s,a,d),s.memoizedState=f.state,t=s.child):t=Br(t,s,d),t}function Gv(t,s,a,l){return Qo(),s.flags|=256,zt(t,s,a,l),s.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function df(t){return{baseLanes:t,cachePool:Mg()}}function hf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=On),t}function Xv(t,s,a){var l=s.pendingProps,d=!1,f=(s.flags&128)!==0,w;if((w=f)||(w=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),w&&(d=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ve){if(d?bs(s):ws(),Ve){var E=ut,A;if(A=E){e:{for(A=E,E=ur;A.nodeType!==8;){if(!E){E=null;break e}if(A=Bn(A.nextSibling),A===null){E=null;break e}}E=A}E!==null?(s.memoizedState={dehydrated:E,treeContext:_i!==null?{id:Pr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},A=fn(18,null,null,0),A.stateNode=E,A.return=s,s.child=A,en=s,ut=null,A=!0):A=!1}A||Ri(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Qf(E)?s.lanes=32:s.lanes=536870912,null;Vr(s)}return E=l.children,l=l.fallback,d?(ws(),d=s.mode,E=pc({mode:"hidden",children:E},d),l=Ti(l,d,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,d=s.child,d.memoizedState=df(a),d.childLanes=hf(t,w,a),s.memoizedState=cf,l):(bs(s),ff(s,E))}if(A=t.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(f)s.flags&256?(bs(s),s.flags&=-257,s=pf(t,s,a)):s.memoizedState!==null?(ws(),s.child=t.child,s.flags|=128,s=null):(ws(),d=l.fallback,E=s.mode,l=pc({mode:"visible",children:l.children},E),d=Ti(d,E,a,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,Oa(s,t.child,null,a),l=s.child,l.memoizedState=df(a),l.childLanes=hf(t,w,a),s.memoizedState=cf,s=d);else if(bs(s),Qf(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var $=w.dgst;w=$,l=Error(i(419)),l.stack="",l.digest=w,Go({value:l,source:null,stack:null}),s=pf(t,s,a)}else if(Rt||Xo(t,s,a,!1),w=(a&t.childLanes)!==0,Rt||w){if(w=tt,w!==null&&(l=a&-a,l=(l&42)!==0?1:os(l),l=(l&(w.suspendedLanes|a))!==0?0:l,l!==0&&l!==A.retryLane))throw A.retryLane=l,ka(t,l),yn(w,t,l),Bv;E.data==="$?"||Of(),s=pf(t,s,a)}else E.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=A.treeContext,ut=Bn(E.nextSibling),en=s,Ve=!0,Ai=null,ur=!1,t!==null&&(Nn[An++]=Pr,Nn[An++]=jr,Nn[An++]=_i,Pr=t.id,jr=t.overflow,_i=s),s=ff(s,l.children),s.flags|=4096);return s}return d?(ws(),d=l.fallback,E=s.mode,A=t.child,$=A.sibling,l=Dr(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,$!==null?d=Dr($,d):(d=Ti(d,E,a,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,E=t.child.memoizedState,E===null?E=df(a):(A=E.cachePool,A!==null?($=xt._currentValue,A=A.parent!==$?{parent:$,pool:$}:A):A=Mg(),E={baseLanes:E.baseLanes|a,cachePool:A}),d.memoizedState=E,d.childLanes=hf(t,w,a),s.memoizedState=cf,l):(bs(s),a=t.child,t=a.sibling,a=Dr(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(w=s.deletions,w===null?(s.deletions=[t],s.flags|=16):w.push(t)),s.child=a,s.memoizedState=null,a)}function ff(t,s){return s=pc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function pc(t,s){return t=fn(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function pf(t,s,a){return Oa(s,t.child,null,a),t=ff(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Jv(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Rh(t.return,s,a)}function mf(t,s,a,l,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(f.isBackwards=s,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=d)}function Zv(t,s,a){var l=s.pendingProps,d=l.revealOrder,f=l.tail;if(zt(t,s,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jv(t,a,s);else if(t.tag===19)Jv(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Ct,l),d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),mf(s,!1,d,a,f);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&cc(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}mf(s,!0,a,null,f);break;case"together":mf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Br(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Cs|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Xo(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Dr(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Dr(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function gf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function fS(t,s,a){switch(s.tag){case 3:et(s,s.stateNode.containerInfo),ps(s,xt,t.memoizedState.cache),Qo();break;case 27:case 5:as(s);break;case 4:et(s,s.stateNode.containerInfo);break;case 10:ps(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(bs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Xv(t,s,a):(bs(s),t=Br(t,s,a),t!==null?t.sibling:null);bs(s);break;case 19:var d=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Xo(t,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return Zv(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(Ct,Ct.current),l)break;return null;case 22:case 23:return s.lanes=0,Wv(t,s,a);case 24:ps(s,xt,t.memoizedState.cache)}return Br(t,s,a)}function ey(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Rt=!0;else{if(!gf(t,a)&&(s.flags&128)===0)return Rt=!1,fS(t,s,a);Rt=(t.flags&131072)!==0}else Rt=!1,Ve&&(s.flags&1048576)!==0&&Ag(s,qu,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")xh(l)?(t=ji(l,t),s.tag=1,s=Qv(null,s,l,t,a)):(s.tag=0,s=uf(null,s,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===re){s.tag=11,s=$v(null,s,l,t,a);break e}else if(d===j){s.tag=14,s=Hv(null,s,l,t,a);break e}}throw s=Je(l)||l,Error(i(306,s,""))}}return s;case 0:return uf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=ji(l,s.pendingProps),Qv(t,s,l,d,a);case 3:e:{if(et(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var f=s.memoizedState;d=f.element,zh(t,s),sl(s,l,null,a);var w=s.memoizedState;if(l=w.cache,ps(s,xt,l),l!==f.cache&&Oh(s,[xt],a,!0),rl(),l=w.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=Gv(t,s,l,a);break e}else if(l!==d){d=Tn(Error(i(424)),s),Go(d),s=Gv(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Bn(t.firstChild),en=s,Ve=!0,Ai=null,ur=!0,a=Ov(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qo(),l===d){s=Br(t,s,a);break e}zt(t,s,l,a)}s=s.child}return s;case 26:return fc(t,s),t===null?(a=s0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ve||(a=s.type,t=s.pendingProps,l=_c(Se.current).createElement(a),l[kt]=s,l[gt]=t,Ut(l,a,t),ht(l),s.stateNode=l):s.memoizedState=s0(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return as(s),t===null&&Ve&&(l=s.stateNode=t0(s.type,s.pendingProps,Se.current),en=s,ur=!0,d=ut,Ns(s.type)?(Gf=d,ut=Bn(l.firstChild)):ut=d),zt(t,s,s.pendingProps.children,a),fc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ve&&((d=l=ut)&&(l=VS(l,s.type,s.pendingProps,ur),l!==null?(s.stateNode=l,en=s,ut=Bn(l.firstChild),ur=!1,d=!0):d=!1),d||Ri(s)),as(s),d=s.type,f=s.pendingProps,w=t!==null?t.memoizedProps:null,l=f.children,Wf(d,f)?l=null:w!==null&&Wf(d,w)&&(s.flags|=32),s.memoizedState!==null&&(d=Hh(t,s,iS,null,null,a),Il._currentValue=d),fc(t,s),zt(t,s,l,a),s.child;case 6:return t===null&&Ve&&((t=a=ut)&&(a=BS(a,s.pendingProps,ur),a!==null?(s.stateNode=a,en=s,ut=null,t=!0):t=!1),t||Ri(s)),null;case 13:return Xv(t,s,a);case 4:return et(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Oa(s,null,l,a):zt(t,s,l,a),s.child;case 11:return $v(t,s,s.type,s.pendingProps,a);case 7:return zt(t,s,s.pendingProps,a),s.child;case 8:return zt(t,s,s.pendingProps.children,a),s.child;case 12:return zt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ps(s,s.type,l.value),zt(t,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,Li(s),d=Kt(d),l=l(d),s.flags|=1,zt(t,s,l,a),s.child;case 14:return Hv(t,s,s.type,s.pendingProps,a);case 15:return Kv(t,s,s.type,s.pendingProps,a);case 19:return Zv(t,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},t===null?(a=pc(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Dr(t.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Wv(t,s,a);case 24:return Li(s),l=Kt(xt),t===null?(d=Ph(),d===null&&(d=tt,f=Lh(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),s.memoizedState={parent:l,cache:d},Mh(s),ps(s,xt,d)):((t.lanes&a)!==0&&(zh(t,s),sl(s,null,null,a),rl()),d=t.memoizedState,f=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ps(s,xt,l)):(l=f.cache,ps(s,xt,l),l!==d.cache&&Oh(s,[xt],a,!0))),zt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function $r(t){t.flags|=4}function ty(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!u0(s)){if(s=Rn.current,s!==null&&((Pe&4194048)===Pe?Ur!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||s!==Ur))throw tl=jh,zg;t.flags|=8192}}function mc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?_o():536870912,t.lanes|=s,ja|=s)}function dl(t,s){if(!Ve)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function pS(t,s,a){var l=s.pendingProps;switch(_h(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(s),null;case 1:return at(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),zr(xt),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yo(s)?$r(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Lg())),at(s),null;case 26:return a=s.memoizedState,t===null?($r(s),a!==null?(at(s),ty(s,a)):(at(s),s.flags&=-16777217)):a?a!==t.memoizedState?($r(s),at(s),ty(s,a)):(at(s),s.flags&=-16777217):(t.memoizedProps!==l&&$r(s),at(s),s.flags&=-16777217),null;case 27:kr(s),a=Se.current;var d=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==l&&$r(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return at(s),null}t=ge.current,Yo(s)?Rg(s):(t=t0(d,l,a),s.stateNode=t,$r(s))}return at(s),null;case 5:if(kr(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&$r(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return at(s),null}if(t=ge.current,Yo(s))Rg(s);else{switch(d=_c(Se.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[kt]=s,t[gt]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=t;e:switch(Ut(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$r(s)}}return at(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&$r(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=Se.current,Yo(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,d=en,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[kt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Yy(t.nodeValue,a)),t||Ri(s)}else t=_c(t).createTextNode(l),t[kt]=s,s.stateNode=t}return at(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Yo(s),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[kt]=s}else Qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),d=!1}else d=Lg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Vr(s),s):(Vr(s),null)}if(Vr(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),mc(s,s.updateQueue),at(s),null;case 4:return Xn(),t===null&&Vf(s.stateNode.containerInfo),at(s),null;case 10:return zr(s.type),at(s),null;case 19:if(le(Ct),d=s.memoizedState,d===null)return at(s),null;if(l=(s.flags&128)!==0,f=d.rendering,f===null)if(l)dl(d,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=cc(t),f!==null){for(s.flags|=128,dl(d,!1),t=f.updateQueue,s.updateQueue=t,mc(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Ng(a,t),a=a.sibling;return se(Ct,Ct.current&1|2),s.child}t=t.sibling}d.tail!==null&&kn()>yc&&(s.flags|=128,l=!0,dl(d,!1),s.lanes=4194304)}else{if(!l)if(t=cc(f),t!==null){if(s.flags|=128,l=!0,t=t.updateQueue,s.updateQueue=t,mc(s,t),dl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!Ve)return at(s),null}else 2*kn()-d.renderingStartTime>yc&&a!==536870912&&(s.flags|=128,l=!0,dl(d,!1),s.lanes=4194304);d.isBackwards?(f.sibling=s.child,s.child=f):(t=d.last,t!==null?t.sibling=f:s.child=f,d.last=f)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=kn(),s.sibling=null,t=Ct.current,se(Ct,l?t&1|2:t&1),s):(at(s),null);case 22:case 23:return Vr(s),Bh(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(at(s),s.subtreeFlags&6&&(s.flags|=8192)):at(s),a=s.updateQueue,a!==null&&mc(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&le(Di),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),zr(xt),at(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function mS(t,s){switch(_h(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return zr(xt),Xn(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return kr(s),null;case 13:if(Vr(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Qo()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return le(Ct),null;case 4:return Xn(),null;case 10:return zr(s.type),null;case 22:case 23:return Vr(s),Bh(),t!==null&&le(Di),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return zr(xt),null;case 25:return null;default:return null}}function ny(t,s){switch(_h(s),s.tag){case 3:zr(xt),Xn();break;case 26:case 27:case 5:kr(s);break;case 4:Xn();break;case 13:Vr(s);break;case 19:le(Ct);break;case 10:zr(s.type);break;case 22:case 23:Vr(s),Bh(),t!==null&&le(Di);break;case 24:zr(xt)}}function hl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,w=a.inst;l=f(),w.destroy=l}a=a.next}while(a!==d)}}catch(E){Ze(s,s.return,E)}}function ks(t,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var w=l.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,d=s;var A=a,$=E;try{$()}catch(X){Ze(d,A,X)}}}l=l.next}while(l!==f)}}catch(X){Ze(s,s.return,X)}}function ry(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Hg(s,a)}catch(l){Ze(t,t.return,l)}}}function sy(t,s,a){a.props=ji(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,s,l)}}function fl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Ze(t,s,d)}}function cr(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Ze(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ze(t,s,d)}else a.current=null}function iy(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Ze(t,t.return,d)}}function vf(t,s,a){try{var l=t.stateNode;jS(l,t.type,a,s),l[gt]=s}catch(d){Ze(t,t.return,d)}}function ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ns(t.type)||t.tag===4}function yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bf(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Tc));else if(l!==4&&(l===27&&Ns(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(bf(t,s,a),t=t.sibling;t!==null;)bf(t,s,a),t=t.sibling}function gc(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Ns(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gc(t,s,a),t=t.sibling;t!==null;)gc(t,s,a),t=t.sibling}function oy(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Ut(s,l,a),s[kt]=t,s[gt]=a}catch(f){Ze(t,t.return,f)}}var Hr=!1,pt=!1,wf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function gS(t,s){if(t=t.containerInfo,Hf=Dc,t=bg(t),vh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var w=0,E=-1,A=-1,$=0,X=0,Z=t,H=null;t:for(;;){for(var W;Z!==a||d!==0&&Z.nodeType!==3||(E=w+d),Z!==f||l!==0&&Z.nodeType!==3||(A=w+l),Z.nodeType===3&&(w+=Z.nodeValue.length),(W=Z.firstChild)!==null;)H=Z,Z=W;for(;;){if(Z===t)break t;if(H===a&&++$===d&&(E=w),H===f&&++X===l&&(A=w),(W=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=W}a=E===-1||A===-1?null:{start:E,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kf={focusedElem:t,selectionRange:a},Dc=!1,Ot=s;Ot!==null;)if(s=Ot,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,Ot=t;else for(;Ot!==null;){switch(s=Ot,f=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=s,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ee=ji(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Yf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Ot=t;break}Ot=s.return}}function uy(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Es(t,a),l&4&&hl(5,a);break;case 1:if(Es(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(w){Ze(a,a.return,w)}else{var d=ji(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Ze(a,a.return,w)}}l&64&&ry(a),l&512&&fl(a,a.return);break;case 3:if(Es(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Hg(t,s)}catch(w){Ze(a,a.return,w)}}break;case 27:s===null&&l&4&&oy(a);case 26:case 5:Es(t,a),s===null&&l&4&&iy(a),l&512&&fl(a,a.return);break;case 12:Es(t,a);break;case 13:Es(t,a),l&4&&hy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=CS.bind(null,a),$S(t,a))));break;case 22:if(l=a.memoizedState!==null||Hr,!l){s=s!==null&&s.memoizedState!==null||pt,d=Hr;var f=pt;Hr=l,(pt=s)&&!f?Ss(t,a,(a.subtreeFlags&8772)!==0):Es(t,a),Hr=d,pt=f}break;case 30:break;default:Es(t,a)}}function cy(t){var s=t.alternate;s!==null&&(t.alternate=null,cy(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&cs(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,nn=!1;function Kr(t,s,a){for(a=a.child;a!==null;)dy(t,s,a),a=a.sibling}function dy(t,s,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:pt||cr(a,s),Kr(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||cr(a,s);var l=st,d=nn;Ns(a.type)&&(st=a.stateNode,nn=!1),Kr(t,s,a),El(a.stateNode),st=l,nn=d;break;case 5:pt||cr(a,s);case 6:if(l=st,d=nn,st=null,Kr(t,s,a),st=l,nn=d,st!==null)if(nn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(f){Ze(a,s,f)}else try{st.removeChild(a.stateNode)}catch(f){Ze(a,s,f)}break;case 18:st!==null&&(nn?(t=st,Zy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Al(t)):Zy(st,a.stateNode));break;case 4:l=st,d=nn,st=a.stateNode.containerInfo,nn=!0,Kr(t,s,a),st=l,nn=d;break;case 0:case 11:case 14:case 15:pt||ks(2,a,s),pt||ks(4,a,s),Kr(t,s,a);break;case 1:pt||(cr(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&sy(a,s,l)),Kr(t,s,a);break;case 21:Kr(t,s,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Kr(t,s,a),pt=l;break;default:Kr(t,s,a)}}function hy(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Al(t)}catch(a){Ze(s,s.return,a)}}function vS(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new ly),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new ly),s;default:throw Error(i(435,t.tag))}}function kf(t,s){var a=vS(t);s.forEach(function(l){var d=IS.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function pn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,w=s,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(Ns(E.type)){st=E.stateNode,nn=!1;break e}break;case 5:st=E.stateNode,nn=!1;break e;case 3:case 4:st=E.stateNode.containerInfo,nn=!0;break e}E=E.return}if(st===null)throw Error(i(160));dy(f,w,d),st=null,nn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)fy(s,t),s=s.sibling}var Vn=null;function fy(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(s,t),mn(t),l&4&&(ks(3,t,t.return),hl(3,t),ks(5,t,t.return));break;case 1:pn(s,t),mn(t),l&512&&(pt||a===null||cr(a,a.return)),l&64&&Hr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Vn;if(pn(s,t),mn(t),l&512&&(pt||a===null||cr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[di]||f[kt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Ut(f,l,a),f[kt]=t,ht(f),l=f;break e;case"link":var w=o0("link","href",d).get(l+(a.href||""));if(w){for(var E=0;E<w.length;E++)if(f=w[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(E,1);break t}}f=d.createElement(l),Ut(f,l,a),d.head.appendChild(f);break;case"meta":if(w=o0("meta","content",d).get(l+(a.content||""))){for(E=0;E<w.length;E++)if(f=w[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(E,1);break t}}f=d.createElement(l),Ut(f,l,a),d.head.appendChild(f);break;default:throw Error(i(468,l))}f[kt]=t,ht(f),l=f}t.stateNode=l}else l0(d,t.type,t.stateNode);else t.stateNode=a0(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?l0(d,t.type,t.stateNode):a0(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vf(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(s,t),mn(t),l&512&&(pt||a===null||cr(a,a.return)),a!==null&&l&4&&vf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(s,t),mn(t),l&512&&(pt||a===null||cr(a,a.return)),t.flags&32){d=t.stateNode;try{Sn(d,"")}catch(W){Ze(t,t.return,W)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,vf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(wf=!0);break;case 6:if(pn(s,t),mn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(W){Ze(t,t.return,W)}}break;case 3:if(Rc=null,d=Vn,Vn=Nc(s.containerInfo),pn(s,t),Vn=d,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Al(s.containerInfo)}catch(W){Ze(t,t.return,W)}wf&&(wf=!1,py(t));break;case 4:l=Vn,Vn=Nc(t.stateNode.containerInfo),pn(s,t),mn(t),Vn=l;break;case 12:pn(s,t),mn(t);break;case 13:pn(s,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tf=kn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kf(t,l)));break;case 22:d=t.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,$=Hr,X=pt;if(Hr=$||d,pt=X||A,pn(s,t),pt=X,Hr=$,mn(t),l&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||A||Hr||pt||Mi(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){A=a=s;try{if(f=A.stateNode,d)w=f.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=A.stateNode;var Z=A.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(W){Ze(A,A.return,W)}}}else if(s.tag===6){if(a===null){A=s;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(W){Ze(A,A.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kf(t,a))));break;case 19:pn(s,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kf(t,l)));break;case 30:break;case 21:break;default:pn(s,t),mn(t)}}function mn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(ay(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,f=yf(t);gc(t,f,d);break;case 5:var w=a.stateNode;a.flags&32&&(Sn(w,""),a.flags&=-33);var E=yf(t);gc(t,E,w);break;case 3:case 4:var A=a.stateNode.containerInfo,$=yf(t);bf(t,$,A);break;default:throw Error(i(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;py(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Es(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)uy(t,s.alternate,s),s=s.sibling}function Mi(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:ks(4,s,s.return),Mi(s);break;case 1:cr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&sy(s,s.return,a),Mi(s);break;case 27:El(s.stateNode);case 26:case 5:cr(s,s.return),Mi(s);break;case 22:s.memoizedState===null&&Mi(s);break;case 30:Mi(s);break;default:Mi(s)}t=t.sibling}}function Ss(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=t,f=s,w=f.flags;switch(f.tag){case 0:case 11:case 15:Ss(d,f,a),hl(4,f);break;case 1:if(Ss(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){Ze(l,l.return,$)}if(l=f,d=l.updateQueue,d!==null){var E=l.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)$g(A[d],E)}catch($){Ze(l,l.return,$)}}a&&w&64&&ry(f),fl(f,f.return);break;case 27:oy(f);case 26:case 5:Ss(d,f,a),a&&l===null&&w&4&&iy(f),fl(f,f.return);break;case 12:Ss(d,f,a);break;case 13:Ss(d,f,a),a&&w&4&&hy(d,f);break;case 22:f.memoizedState===null&&Ss(d,f,a),fl(f,f.return);break;case 30:break;default:Ss(d,f,a)}s=s.sibling}}function Ef(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jo(a))}function Sf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Jo(t))}function dr(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)my(t,s,a,l),s=s.sibling}function my(t,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:dr(t,s,a,l),d&2048&&hl(9,s);break;case 1:dr(t,s,a,l);break;case 3:dr(t,s,a,l),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Jo(t)));break;case 12:if(d&2048){dr(t,s,a,l),t=s.stateNode;try{var f=s.memoizedProps,w=f.id,E=f.onPostCommit;typeof E=="function"&&E(w,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Ze(s,s.return,A)}}else dr(t,s,a,l);break;case 13:dr(t,s,a,l);break;case 23:break;case 22:f=s.stateNode,w=s.alternate,s.memoizedState!==null?f._visibility&2?dr(t,s,a,l):pl(t,s):f._visibility&2?dr(t,s,a,l):(f._visibility|=2,La(t,s,a,l,(s.subtreeFlags&10256)!==0)),d&2048&&Ef(w,s);break;case 24:dr(t,s,a,l),d&2048&&Sf(s.alternate,s);break;default:dr(t,s,a,l)}}function La(t,s,a,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var f=t,w=s,E=a,A=l,$=w.flags;switch(w.tag){case 0:case 11:case 15:La(f,w,E,A,d),hl(8,w);break;case 23:break;case 22:var X=w.stateNode;w.memoizedState!==null?X._visibility&2?La(f,w,E,A,d):pl(f,w):(X._visibility|=2,La(f,w,E,A,d)),d&&$&2048&&Ef(w.alternate,w);break;case 24:La(f,w,E,A,d),d&&$&2048&&Sf(w.alternate,w);break;default:La(f,w,E,A,d)}s=s.sibling}}function pl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,d=l.flags;switch(l.tag){case 22:pl(a,l),d&2048&&Ef(l.alternate,l);break;case 24:pl(a,l),d&2048&&Sf(l.alternate,l);break;default:pl(a,l)}s=s.sibling}}var ml=8192;function Da(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)gy(t),t=t.sibling}function gy(t){switch(t.tag){case 26:Da(t),t.flags&ml&&t.memoizedState!==null&&nx(Vn,t.memoizedState,t.memoizedProps);break;case 5:Da(t);break;case 3:case 4:var s=Vn;Vn=Nc(t.stateNode.containerInfo),Da(t),Vn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=ml,ml=16777216,Da(t),ml=s):Da(t));break;default:Da(t)}}function vy(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function gl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ot=l,by(l,t)}vy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&ks(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,vc(t)):gl(t);break;default:gl(t)}}function vc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ot=l,by(l,t)}vy(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:ks(8,s,s.return),vc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,vc(s));break;default:vc(s)}t=t.sibling}}function by(t,s){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:ks(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var d=l.sibling,f=l.return;if(cy(l),l===a){Ot=null;break e}if(d!==null){d.return=f,Ot=d;break e}Ot=f}}}var yS={getCacheForType:function(t){var s=Kt(xt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},bS=typeof WeakMap=="function"?WeakMap:Map,Ke=0,tt=null,Re=null,Pe=0,We=0,gn=null,xs=!1,Pa=!1,xf=!1,Wr=0,ct=0,Cs=0,zi=0,Cf=0,On=0,ja=0,vl=null,rn=null,If=!1,Tf=0,yc=1/0,bc=null,Is=null,Ft=0,Ts=null,Ma=null,za=0,_f=0,Nf=null,wy=null,yl=0,Af=null;function vn(){if((Ke&2)!==0&&Pe!==0)return Pe&-Pe;if(G.T!==null){var t=Ca;return t!==0?t:Mf()}return ls()}function ky(){On===0&&(On=(Pe&536870912)===0||Ve?To():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),On}function yn(t,s,a){(t===tt&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),_s(t,Pe,On,!1)),Sr(t,a),((Ke&2)===0||t!==tt)&&(t===tt&&((Ke&2)===0&&(zi|=a),ct===4&&_s(t,Pe,On,!1)),hr(t))}function Ey(t,s,a){if((Ke&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&t.expiredLanes)===0||ci(t,s),d=l?ES(t,s):Lf(t,s,!0),f=l;do{if(d===0){Pa&&!l&&_s(t,s,0,!1);break}else{if(a=t.current.alternate,f&&!wS(a)){d=Lf(t,s,!1),f=!1;continue}if(d===2){if(f=s,t.errorRecoveryDisabledLanes&f)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var E=t;d=vl;var A=E.current.memoizedState.isDehydrated;if(A&&(Fa(E,w).flags|=256),w=Lf(E,w,!1),w!==2){if(xf&&!A){E.errorRecoveryDisabledLanes|=f,zi|=f,d=4;break e}f=rn,rn=d,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}d=w}if(f=!1,d!==2)continue}}if(d===1){Fa(t,0),_s(t,s,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:_s(l,s,On,!xs);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Tf+300-kn(),10<d)){if(_s(l,s,On,!xs),na(l,0,!0)!==0)break e;l.timeoutHandle=Xy(Sy.bind(null,l,a,rn,bc,If,s,On,zi,ja,xs,f,2,-0,0),d);break e}Sy(l,a,rn,bc,If,s,On,zi,ja,xs,f,0,-0,0)}}break}while(!0);hr(t)}function Sy(t,s,a,l,d,f,w,E,A,$,X,Z,H,W){if(t.timeoutHandle=-1,Z=s.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:tx},gy(s),Z=rx(),Z!==null)){t.cancelPendingCommit=Z(Ay.bind(null,t,s,f,a,l,d,w,E,A,X,1,H,W)),_s(t,f,w,!$);return}Ay(t,s,f,a,l,d,w,E,A)}function wS(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!hn(f(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _s(t,s,a,l){s&=~Cf,s&=~zi,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var d=s;0<d;){var f=31-Ht(d),w=1<<f;l[f]=-1,d&=~w}a!==0&&Jn(t,a,s)}function wc(){return(Ke&6)===0?(bl(0),!1):!0}function Rf(){if(Re!==null){if(We===0)var t=Re.return;else t=Re,Mr=Oi=null,qh(t),Ra=null,ul=0,t=Re;for(;t!==null;)ny(t.alternate,t),t=t.return;Re=null}}function Fa(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,zS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rf(),tt=t,Re=a=Dr(t.current,null),Pe=s,We=0,gn=null,xs=!1,Pa=ci(t,s),xf=!1,ja=On=Cf=zi=Cs=ct=0,rn=vl=null,If=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var d=31-Ht(l),f=1<<d;s|=t[d],l&=~f}return Wr=s,Bu(),a}function xy(t,s){Te=null,G.H=oc,s===el||s===Xu?(s=Vg(),We=3):s===zg?(s=Vg(),We=4):We=s===Bv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gn=s,Re===null&&(ct=1,hc(t,Tn(s,t.current)))}function Cy(){var t=G.H;return G.H=oc,t===null?oc:t}function Iy(){var t=G.A;return G.A=yS,t}function Of(){ct=4,xs||(Pe&4194048)!==Pe&&Rn.current!==null||(Pa=!0),(Cs&134217727)===0&&(zi&134217727)===0||tt===null||_s(tt,Pe,On,!1)}function Lf(t,s,a){var l=Ke;Ke|=2;var d=Cy(),f=Iy();(tt!==t||Pe!==s)&&(bc=null,Fa(t,s)),s=!1;var w=ct;e:do try{if(We!==0&&Re!==null){var E=Re,A=gn;switch(We){case 8:Rf(),w=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(s=!0);var $=We;if(We=0,gn=null,Ua(t,E,A,$),a&&Pa){w=0;break e}break;default:$=We,We=0,gn=null,Ua(t,E,A,$)}}kS(),w=ct;break}catch(X){xy(t,X)}while(!0);return s&&t.shellSuspendCounter++,Mr=Oi=null,Ke=l,G.H=d,G.A=f,Re===null&&(tt=null,Pe=0,Bu()),w}function kS(){for(;Re!==null;)Ty(Re)}function ES(t,s){var a=Ke;Ke|=2;var l=Cy(),d=Iy();tt!==t||Pe!==s?(bc=null,yc=kn()+500,Fa(t,s)):Pa=ci(t,s);e:do try{if(We!==0&&Re!==null){s=Re;var f=gn;t:switch(We){case 1:We=0,gn=null,Ua(t,s,f,1);break;case 2:case 9:if(Fg(f)){We=0,gn=null,_y(s);break}s=function(){We!==2&&We!==9||tt!==t||(We=7),hr(t)},f.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Fg(f)?(We=0,gn=null,_y(s)):(We=0,gn=null,Ua(t,s,f,7));break;case 5:var w=null;switch(Re.tag){case 26:w=Re.memoizedState;case 5:case 27:var E=Re;if(!w||u0(w)){We=0,gn=null;var A=E.sibling;if(A!==null)Re=A;else{var $=E.return;$!==null?(Re=$,kc($)):Re=null}break t}}We=0,gn=null,Ua(t,s,f,5);break;case 6:We=0,gn=null,Ua(t,s,f,6);break;case 8:Rf(),ct=6;break e;default:throw Error(i(462))}}SS();break}catch(X){xy(t,X)}while(!0);return Mr=Oi=null,G.H=l,G.A=d,Ke=a,Re!==null?0:(tt=null,Pe=0,Bu(),ct)}function SS(){for(;Re!==null&&!So();)Ty(Re)}function Ty(t){var s=ey(t.alternate,t,Wr);t.memoizedProps=t.pendingProps,s===null?kc(t):Re=s}function _y(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Yv(a,s,s.pendingProps,s.type,void 0,Pe);break;case 11:s=Yv(a,s,s.pendingProps,s.type.render,s.ref,Pe);break;case 5:qh(s);default:ny(a,s),s=Re=Ng(s,Wr),s=ey(a,s,Wr)}t.memoizedProps=t.pendingProps,s===null?kc(t):Re=s}function Ua(t,s,a,l){Mr=Oi=null,qh(s),Ra=null,ul=0;var d=s.return;try{if(hS(t,d,s,a,Pe)){ct=1,hc(t,Tn(a,t.current)),Re=null;return}}catch(f){if(d!==null)throw Re=d,f;ct=1,hc(t,Tn(a,t.current)),Re=null;return}s.flags&32768?(Ve||l===1?t=!0:Pa||(Pe&536870912)!==0?t=!1:(xs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ny(s,t)):kc(s)}function kc(t){var s=t;do{if((s.flags&32768)!==0){Ny(s,xs);return}t=s.return;var a=pS(s.alternate,s,Wr);if(a!==null){Re=a;return}if(s=s.sibling,s!==null){Re=s;return}Re=s=t}while(s!==null);ct===0&&(ct=5)}function Ny(t,s){do{var a=mS(t.alternate,t);if(a!==null){a.flags&=32767,Re=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Re=t;return}Re=t=a}while(t!==null);ct=6,Re=null}function Ay(t,s,a,l,d,f,w,E,A){t.cancelPendingCommit=null;do Ec();while(Ft!==0);if((Ke&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(f=s.lanes|s.childLanes,f|=Eh,No(t,a,f,w,E,A),t===tt&&(Re=tt=null,Pe=0),Ma=s,Ts=t,za=a,_f=f,Nf=d,wy=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,TS(ai,function(){return Py(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,d=oe.p,oe.p=2,w=Ke,Ke|=4;try{gS(t,s,a)}finally{Ke=w,oe.p=d,G.T=l}}Ft=1,Ry(),Oy(),Ly()}}function Ry(){if(Ft===1){Ft=0;var t=Ts,s=Ma,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=oe.p;oe.p=2;var d=Ke;Ke|=4;try{fy(s,t);var f=Kf,w=bg(t.containerInfo),E=f.focusedElem,A=f.selectionRange;if(w!==E&&E&&E.ownerDocument&&yg(E.ownerDocument.documentElement,E)){if(A!==null&&vh(E)){var $=A.start,X=A.end;if(X===void 0&&(X=$),"selectionStart"in E)E.selectionStart=$,E.selectionEnd=Math.min(X,E.value.length);else{var Z=E.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var W=H.getSelection(),Ee=E.textContent.length,ve=Math.min(A.start,Ee),Xe=A.end===void 0?ve:Math.min(A.end,Ee);!W.extend&&ve>Xe&&(w=Xe,Xe=ve,ve=w);var U=vg(E,ve),P=vg(E,Xe);if(U&&P&&(W.rangeCount!==1||W.anchorNode!==U.node||W.anchorOffset!==U.offset||W.focusNode!==P.node||W.focusOffset!==P.offset)){var B=Z.createRange();B.setStart(U.node,U.offset),W.removeAllRanges(),ve>Xe?(W.addRange(B),W.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),W.addRange(B))}}}}for(Z=[],W=E;W=W.parentNode;)W.nodeType===1&&Z.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var J=Z[E];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Dc=!!Hf,Kf=Hf=null}finally{Ke=d,oe.p=l,G.T=a}}t.current=s,Ft=2}}function Oy(){if(Ft===2){Ft=0;var t=Ts,s=Ma,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=oe.p;oe.p=2;var d=Ke;Ke|=4;try{uy(t,s.alternate,s)}finally{Ke=d,oe.p=l,G.T=a}}Ft=3}}function Ly(){if(Ft===4||Ft===3){Ft=0,vu();var t=Ts,s=Ma,a=za,l=wy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ft=5:(Ft=0,Ma=Ts=null,Dy(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Is=null),ra(a),s=s.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(lt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=G.T,d=oe.p,oe.p=2,G.T=null;try{for(var f=t.onRecoverableError,w=0;w<l.length;w++){var E=l[w];f(E.value,{componentStack:E.stack})}}finally{G.T=s,oe.p=d}}(za&3)!==0&&Ec(),hr(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Af?yl++:(yl=0,Af=t):yl=0,bl(0)}}function Dy(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Jo(s)))}function Ec(t){return Ry(),Oy(),Ly(),Py()}function Py(){if(Ft!==5)return!1;var t=Ts,s=_f;_f=0;var a=ra(za),l=G.T,d=oe.p;try{oe.p=32>a?32:a,G.T=null,a=Nf,Nf=null;var f=Ts,w=za;if(Ft=0,Ma=Ts=null,za=0,(Ke&6)!==0)throw Error(i(331));var E=Ke;if(Ke|=4,yy(f.current),my(f,f.current,w,a),Ke=E,bl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(lt,f)}catch{}return!0}finally{oe.p=d,G.T=l,Dy(t,s)}}function jy(t,s,a){s=Tn(a,s),s=lf(t.stateNode,s,2),t=vs(t,s,2),t!==null&&(Sr(t,2),hr(t))}function Ze(t,s,a){if(t.tag===3)jy(t,t,a);else for(;s!==null;){if(s.tag===3){jy(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){t=Tn(a,t),a=Uv(2),l=vs(s,a,2),l!==null&&(Vv(a,l,s,t),Sr(l,2),hr(l));break}}s=s.return}}function Df(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new bS;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(xf=!0,d.add(a),t=xS.bind(null,t,s,a),s.then(t,t))}function xS(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Pe&a)===a&&(ct===4||ct===3&&(Pe&62914560)===Pe&&300>kn()-Tf?(Ke&2)===0&&Fa(t,0):Cf|=a,ja===Pe&&(ja=0)),hr(t)}function My(t,s){s===0&&(s=_o()),t=ka(t,s),t!==null&&(Sr(t,s),hr(t))}function CS(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),My(t,a)}function IS(t,s){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),My(t,a)}function TS(t,s){return si(t,s)}var Sc=null,Va=null,Pf=!1,xc=!1,jf=!1,Fi=0;function hr(t){t!==Va&&t.next===null&&(Va===null?Sc=Va=t:Va=Va.next=t),xc=!0,Pf||(Pf=!0,NS())}function bl(t,s){if(!jf&&xc){jf=!0;do for(var a=!1,l=Sc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var w=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ht(42|t)+1)-1,f&=d&~(w&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Vy(l,f))}else f=Pe,f=na(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ci(l,f)||(a=!0,Vy(l,f));l=l.next}while(a);jf=!1}}function _S(){zy()}function zy(){xc=Pf=!1;var t=0;Fi!==0&&(MS()&&(t=Fi),Fi=0);for(var s=kn(),a=null,l=Sc;l!==null;){var d=l.next,f=Fy(l,s);f===0?(l.next=null,a===null?Sc=d:a.next=d,d===null&&(Va=a)):(a=l,(t!==0||(f&3)!==0)&&(xc=!0)),l=d}bl(t)}function Fy(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var w=31-Ht(f),E=1<<w,A=d[w];A===-1?((E&a)===0||(E&l)!==0)&&(d[w]=Io(E,s)):A<=s&&(t.expiredLanes|=E),f&=~E}if(s=tt,a=Pe,a=na(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ii(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ci(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&ii(l),ra(a)){case 2:case 8:a=ea;break;case 32:a=ai;break;case 268435456:a=ta;break;default:a=ai}return l=Uy.bind(null,t),a=si(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&ii(l),t.callbackPriority=2,t.callbackNode=null,2}function Uy(t,s){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ec()&&t.callbackNode!==a)return null;var l=Pe;return l=na(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ey(t,l,s),Fy(t,kn()),t.callbackNode!=null&&t.callbackNode===a?Uy.bind(null,t):null)}function Vy(t,s){if(Ec())return null;Ey(t,s,!0)}function NS(){FS(function(){(Ke&6)!==0?si(xo,_S):zy()})}function Mf(){return Fi===0&&(Fi=To()),Fi}function By(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ua(""+t)}function $y(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function AS(t,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var f=By((d[gt]||null).action),w=l.submitter;w&&(s=(s=w[gt]||null)?By(s.formAction):w.getAttribute("formAction"),s!==null&&(f=s,w=null));var E=new ca("action","action",null,l,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fi!==0){var A=w?$y(d,w):new FormData(d);nf(a,{pending:!0,data:A,method:d.method,action:f},null,A)}}else typeof f=="function"&&(E.preventDefault(),A=w?$y(d,w):new FormData(d),nf(a,{pending:!0,data:A,method:d.method,action:f},f,A))},currentTarget:d}]})}}for(var zf=0;zf<kh.length;zf++){var Ff=kh[zf],RS=Ff.toLowerCase(),OS=Ff[0].toUpperCase()+Ff.slice(1);Un(RS,"on"+OS)}Un(Eg,"onAnimationEnd"),Un(Sg,"onAnimationIteration"),Un(xg,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(QE,"onTransitionRun"),Un(GE,"onTransitionStart"),Un(XE,"onTransitionCancel"),Un(Cg,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Hy(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(s)for(var w=l.length-1;0<=w;w--){var E=l[w],A=E.instance,$=E.currentTarget;if(E=E.listener,A!==f&&d.isPropagationStopped())break e;f=E,d.currentTarget=$;try{f(d)}catch(X){dc(X)}d.currentTarget=null,f=A}else for(w=0;w<l.length;w++){if(E=l[w],A=E.instance,$=E.currentTarget,E=E.listener,A!==f&&d.isPropagationStopped())break e;f=E,d.currentTarget=$;try{f(d)}catch(X){dc(X)}d.currentTarget=null,f=A}}}}function Oe(t,s){var a=s[Ro];a===void 0&&(a=s[Ro]=new Set);var l=t+"__bubble";a.has(l)||(Ky(s,t,2,!1),a.add(l))}function Uf(t,s,a){var l=0;s&&(l|=4),Ky(a,t,l,s)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Vf(t){if(!t[Cc]){t[Cc]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(LS.has(a)||Uf(a,!1,t),Uf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Cc]||(s[Cc]=!0,Uf("selectionchange",!1,s))}}function Ky(t,s,a,l){switch(m0(s)){case 2:var d=ax;break;case 8:d=ox;break;default:d=tp}a=d.bind(null,s,a,t),d=void 0,!Cn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function Bf(t,s,a,l,d){var f=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var E=l.stateNode.containerInfo;if(E===d)break;if(w===4)for(w=l.return;w!==null;){var A=w.tag;if((A===3||A===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;E!==null;){if(w=xr(E),w===null)return;if(A=w.tag,A===5||A===6||A===26||A===27){l=f=w;continue e}E=E.parentNode}}l=l.return}Tu(function(){var $=f,X=xn(a),Z=[];e:{var H=Ig.get(t);if(H!==void 0){var W=ca,Ee=t;switch(t){case"keypress":if(sr(a)===0)break e;case"keydown":case"keyup":W=ga;break;case"focusin":Ee="focus",W=fa;break;case"focusout":Ee="blur",W=fa;break;case"beforeblur":case"afterblur":W=fa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Pu;break;case Eg:case Sg:case xg:W=pa;break;case Cg:W=Mu;break;case"scroll":case"scrollend":W=_u;break;case"wheel":W=va;break;case"copy":case"cut":case"paste":W=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Ho;break;case"toggle":case"beforetoggle":W=Fu}var ve=(s&4)!==0,Xe=!ve&&(t==="scroll"||t==="scrollend"),U=ve?H!==null?H+"Capture":null:H;ve=[];for(var P=$,B;P!==null;){var J=P;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||U===null||(J=yi(P,U),J!=null&&ve.push(kl(P,J,B))),Xe)break;P=P.return}0<ve.length&&(H=new W(H,Ee,null,a,X),Z.push({event:H,listeners:ve}))}}if((s&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",H&&a!==_r&&(Ee=a.relatedTarget||a.fromElement)&&(xr(Ee)||Ee[En]))break e;if((W||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,W?(Ee=a.relatedTarget||a.toElement,W=$,Ee=Ee?xr(Ee):null,Ee!==null&&(Xe=u(Ee),ve=Ee.tag,Ee!==Xe||ve!==5&&ve!==27&&ve!==6)&&(Ee=null)):(W=null,Ee=$),W!==Ee)){if(ve=In,J="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ho,J="onPointerLeave",U="onPointerEnter",P="pointer"),Xe=W==null?H:er(W),B=Ee==null?H:er(Ee),H=new ve(J,P+"leave",W,a,X),H.target=Xe,H.relatedTarget=B,J=null,xr(X)===$&&(ve=new ve(U,P+"enter",Ee,a,X),ve.target=B,ve.relatedTarget=Xe,J=ve),Xe=J,W&&Ee)t:{for(ve=W,U=Ee,P=0,B=ve;B;B=Ba(B))P++;for(B=0,J=U;J;J=Ba(J))B++;for(;0<P-B;)ve=Ba(ve),P--;for(;0<B-P;)U=Ba(U),B--;for(;P--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=Ba(ve),U=Ba(U)}ve=null}else ve=null;W!==null&&Wy(Z,H,W,ve,!1),Ee!==null&&Xe!==null&&Wy(Z,Xe,Ee,ve,!0)}}e:{if(H=$?er($):window,W=H.nodeName&&H.nodeName.toLowerCase(),W==="select"||W==="input"&&H.type==="file")var he=dg;else if(jt(H))if(hg)he=WE;else{he=HE;var Ae=$E}else W=H.nodeName,!W||W.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?$&&Mo($.elementType)&&(he=dg):he=KE;if(he&&(he=he(t,$))){Lr(Z,he,a,X);break e}Ae&&Ae(t,H,$),t==="focusout"&&$&&H.type==="number"&&$.memoizedProps.value!=null&&hs(H,"number",H.value)}switch(Ae=$?er($):window,t){case"focusin":(jt(Ae)||Ae.contentEditable==="true")&&(ya=Ae,yh=$,qo=null);break;case"focusout":qo=yh=ya=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,wg(Z,a,X);break;case"selectionchange":if(YE)break;case"keydown":case"keyup":wg(Z,a,X)}var fe;if(or)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Me?Y(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(b&&a.locale!=="ko"&&(Me||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Me&&(fe=Fo()):(rr=X,fs="value"in rr?rr.value:rr.textContent,Me=!0)),Ae=Ic($,ye),0<Ae.length&&(ye=new Bo(ye,t,null,a,X),Z.push({event:ye,listeners:Ae}),fe?ye.data=fe:(fe=ae(a),fe!==null&&(ye.data=fe)))),(fe=g?St(t,a):Ue(t,a))&&(ye=Ic($,"onBeforeInput"),0<ye.length&&(Ae=new Bo("onBeforeInput","beforeinput",null,a,X),Z.push({event:Ae,listeners:ye}),Ae.data=fe)),AS(Z,t,$,a,X)}Hy(Z,s)})}function kl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Ic(t,s){for(var a=s+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=yi(t,a),d!=null&&l.unshift(kl(t,d,f)),d=yi(t,s),d!=null&&l.push(kl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wy(t,s,a,l,d){for(var f=s._reactName,w=[];a!==null&&a!==l;){var E=a,A=E.alternate,$=E.stateNode;if(E=E.tag,A!==null&&A===l)break;E!==5&&E!==26&&E!==27||$===null||(A=$,d?($=yi(a,f),$!=null&&w.unshift(kl(a,$,A))):d||($=yi(a,f),$!=null&&w.push(kl(a,$,A)))),a=a.return}w.length!==0&&t.push({event:s,listeners:w})}var DS=/\r\n?/g,PS=/\u0000|\uFFFD/g;function qy(t){return(typeof t=="string"?t:""+t).replace(DS,`
`).replace(PS,"")}function Yy(t,s){return s=qy(s),qy(t)===s}function Tc(){}function Ge(t,s,a,l,d,f){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Sn(t,""+l);break;case"className":tr(t,"class",l);break;case"tabIndex":tr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(t,a,l);break;case"style":jo(t,l,f);break;case"data":if(s!=="object"){tr(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ua(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(s!=="input"&&Ge(t,s,"name",d.name,d,null),Ge(t,s,"formEncType",d.formEncType,d,null),Ge(t,s,"formMethod",d.formMethod,d,null),Ge(t,s,"formTarget",d.formTarget,d,null)):(Ge(t,s,"encType",d.encType,d,null),Ge(t,s,"method",d.method,d,null),Ge(t,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ua(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ua(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ds(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ds(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dh.get(a)||a,ds(t,a,l))}}function $f(t,s,a,l,d,f){switch(a){case"style":jo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),f=t[gt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(s,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ds(t,a,l)}}}function Ut(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var w=a[f];if(w!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ge(t,s,f,w,a,null)}}d&&Ge(t,s,"srcSet",a.srcSet,a,null),l&&Ge(t,s,"src",a.src,a,null);return;case"input":Oe("invalid",t);var E=f=w=d=null,A=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":d=X;break;case"type":w=X;break;case"checked":A=X;break;case"defaultChecked":$=X;break;case"value":f=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:Ge(t,s,l,X,a,null)}}mi(t,f,E,A,$,w,d,!1),la(t);return;case"select":Oe("invalid",t),l=w=f=null;for(d in a)if(a.hasOwnProperty(d)&&(E=a[d],E!=null))switch(d){case"value":f=E;break;case"defaultValue":w=E;break;case"multiple":l=E;default:Ge(t,s,d,E,a,null)}s=f,a=w,t.multiple=!!l,s!=null?Tr(t,!!l,s,!1):a!=null&&Tr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),f=d=l=null;for(w in a)if(a.hasOwnProperty(w)&&(E=a[w],E!=null))switch(w){case"value":l=E;break;case"defaultValue":d=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Ge(t,s,w,E,a,null)}gi(t,l,d,f),la(t);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ge(t,s,A,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Oe(wl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ge(t,s,$,l,a,null)}return;default:if(Mo(s)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&$f(t,s,X,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Ge(t,s,E,l,a,null))}function jS(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,w=null,E=null,A=null,$=null,X=null;for(W in a){var Z=a[W];if(a.hasOwnProperty(W)&&Z!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":A=Z;default:l.hasOwnProperty(W)||Ge(t,s,W,null,l,Z)}}for(var H in l){var W=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(W!=null||Z!=null))switch(H){case"type":f=W;break;case"name":d=W;break;case"checked":$=W;break;case"defaultChecked":X=W;break;case"value":w=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==Z&&Ge(t,s,H,W,l,Z)}}dn(t,w,E,A,$,X,f,d);return;case"select":W=w=E=H=null;for(f in a)if(A=a[f],a.hasOwnProperty(f)&&A!=null)switch(f){case"value":break;case"multiple":W=A;default:l.hasOwnProperty(f)||Ge(t,s,f,null,l,A)}for(d in l)if(f=l[d],A=a[d],l.hasOwnProperty(d)&&(f!=null||A!=null))switch(d){case"value":H=f;break;case"defaultValue":E=f;break;case"multiple":w=f;default:f!==A&&Ge(t,s,d,f,l,A)}s=E,a=w,l=W,H!=null?Tr(t,!!a,H,!1):!!l!=!!a&&(s!=null?Tr(t,!!a,s,!0):Tr(t,!!a,a?[]:"",!1));return;case"textarea":W=H=null;for(E in a)if(d=a[E],a.hasOwnProperty(E)&&d!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ge(t,s,E,null,l,d)}for(w in l)if(d=l[w],f=a[w],l.hasOwnProperty(w)&&(d!=null||f!=null))switch(w){case"value":H=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==f&&Ge(t,s,w,d,l,f)}Ye(t,H,W);return;case"option":for(var Ee in a)if(H=a[Ee],a.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Ge(t,s,Ee,null,l,H)}for(A in l)if(H=l[A],W=a[A],l.hasOwnProperty(A)&&H!==W&&(H!=null||W!=null))switch(A){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ge(t,s,A,H,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&Ge(t,s,ve,null,l,H);for($ in l)if(H=l[$],W=a[$],l.hasOwnProperty($)&&H!==W&&(H!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:Ge(t,s,$,H,l,W)}return;default:if(Mo(s)){for(var Xe in a)H=a[Xe],a.hasOwnProperty(Xe)&&H!==void 0&&!l.hasOwnProperty(Xe)&&$f(t,s,Xe,void 0,l,H);for(X in l)H=l[X],W=a[X],!l.hasOwnProperty(X)||H===W||H===void 0&&W===void 0||$f(t,s,X,H,l,W);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Ge(t,s,U,null,l,H);for(Z in l)H=l[Z],W=a[Z],!l.hasOwnProperty(Z)||H===W||H==null&&W==null||Ge(t,s,Z,H,l,W)}var Hf=null,Kf=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function Qy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gy(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Wf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qf=null;function MS(){var t=window.event;return t&&t.type==="popstate"?t===qf?!1:(qf=t,!0):(qf=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,FS=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(US)}:Xy;function US(t){setTimeout(function(){throw t})}function Ns(t){return t==="head"}function Zy(t,s){var a=s,l=0,d=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var w=t.ownerDocument;if(a&1&&El(w.documentElement),a&2&&El(w.body),a&4)for(a=w.head,El(a),w=a.firstChild;w;){var E=w.nextSibling,A=w.nodeName;w[di]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=E}}if(d===0){t.removeChild(f),Al(s);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Al(s)}function Yf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yf(a),cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function VS(t,s,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence")||f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function BS(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function Qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $S(t,s){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Gf=null;function e0(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function t0(t,s,a){switch(s=_c(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function El(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);cs(t)}var Ln=new Map,n0=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qr=oe.d;oe.d={f:HS,r:KS,D:WS,C:qS,L:YS,m:QS,X:XS,S:GS,M:JS};function HS(){var t=qr.f(),s=wc();return t||s}function KS(t){var s=Zn(t);s!==null&&s.tag===5&&s.type==="form"?Ev(s):qr.r(t)}var $a=typeof document>"u"?null:document;function r0(t,s,a){var l=$a;if(l&&typeof s=="string"&&s){var d=Et(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),n0.has(d)||(n0.add(d),t={rel:t,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Ut(s,"link",t),ht(s),l.head.appendChild(s)))}}function WS(t){qr.D(t),r0("dns-prefetch",t,null)}function qS(t,s){qr.C(t,s),r0("preconnect",t,s)}function YS(t,s,a){qr.L(t,s,a);var l=$a;if(l&&t&&s){var d='link[rel="preload"][as="'+Et(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Et(a.imageSizes)+'"]')):d+='[href="'+Et(t)+'"]';var f=d;switch(s){case"style":f=Ha(t);break;case"script":f=Ka(t)}Ln.has(f)||(t=k({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Ln.set(f,t),l.querySelector(d)!==null||s==="style"&&l.querySelector(Sl(f))||s==="script"&&l.querySelector(xl(f))||(s=l.createElement("link"),Ut(s,"link",t),ht(s),l.head.appendChild(s)))}}function QS(t,s){qr.m(t,s);var a=$a;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(t)}if(!Ln.has(f)&&(t=k({rel:"modulepreload",href:t},s),Ln.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(f)))return}l=a.createElement("link"),Ut(l,"link",t),ht(l),a.head.appendChild(l)}}}function GS(t,s,a){qr.S(t,s,a);var l=$a;if(l&&t){var d=Xt(l).hoistableStyles,f=Ha(t);s=s||"default";var w=d.get(f);if(!w){var E={loading:0,preload:null};if(w=l.querySelector(Sl(f)))E.loading=5;else{t=k({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Ln.get(f))&&Xf(t,a);var A=w=l.createElement("link");ht(A),Ut(A,"link",t),A._p=new Promise(function($,X){A.onload=$,A.onerror=X}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ac(w,s,l)}w={type:"stylesheet",instance:w,count:1,state:E},d.set(f,w)}}}function XS(t,s){qr.X(t,s);var a=$a;if(a&&t){var l=Xt(a).hoistableScripts,d=Ka(t),f=l.get(d);f||(f=a.querySelector(xl(d)),f||(t=k({src:t,async:!0},s),(s=Ln.get(d))&&Jf(t,s),f=a.createElement("script"),ht(f),Ut(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function JS(t,s){qr.M(t,s);var a=$a;if(a&&t){var l=Xt(a).hoistableScripts,d=Ka(t),f=l.get(d);f||(f=a.querySelector(xl(d)),f||(t=k({src:t,async:!0,type:"module"},s),(s=Ln.get(d))&&Jf(t,s),f=a.createElement("script"),ht(f),Ut(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function s0(t,s,a,l){var d=(d=Se.current)?Nc(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ha(a.href),a=Xt(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ha(a.href);var f=Xt(d).hoistableStyles,w=f.get(t);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,w),(f=d.querySelector(Sl(t)))&&!f._p&&(w.instance=f,w.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),f||ZS(d,t,a,w.state))),s&&l===null)throw Error(i(528,""));return w}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ka(a),a=Xt(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ha(t){return'href="'+Et(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function i0(t){return k({},t,{"data-precedence":t.precedence,precedence:null})}function ZS(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Ut(s,"link",a),ht(s),t.head.appendChild(s))}function Ka(t){return'[src="'+Et(t)+'"]'}function xl(t){return"script[async]"+t}function a0(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return s.instance=l,ht(l),l;var d=k({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),Ut(l,"style",d),Ac(l,a.precedence,t),s.instance=l;case"stylesheet":d=Ha(a.href);var f=t.querySelector(Sl(d));if(f)return s.state.loading|=4,s.instance=f,ht(f),f;l=i0(a),(d=Ln.get(d))&&Xf(l,d),f=(t.ownerDocument||t).createElement("link"),ht(f);var w=f;return w._p=new Promise(function(E,A){w.onload=E,w.onerror=A}),Ut(f,"link",l),s.state.loading|=4,Ac(f,a.precedence,t),s.instance=f;case"script":return f=Ka(a.src),(d=t.querySelector(xl(f)))?(s.instance=d,ht(d),d):(l=a,(d=Ln.get(f))&&(l=k({},a),Jf(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),ht(d),Ut(d,"link",l),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Ac(l,a.precedence,t));return s.instance}function Ac(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,w=0;w<l.length;w++){var E=l[w];if(E.dataset.precedence===s)f=E;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Xf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Jf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Rc=null;function o0(t,s,a){if(Rc===null){var l=new Map,d=Rc=new Map;d.set(a,l)}else d=Rc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[di]||f[kt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var w=f.getAttribute(s)||"";w=t+w;var E=l.get(w);E?E.push(f):l.set(w,[f])}}return l}function l0(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function ex(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function u0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Cl=null;function tx(){}function nx(t,s,a){if(Cl===null)throw Error(i(475));var l=Cl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Ha(a.href),f=t.querySelector(Sl(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Oc.bind(l),t.then(l,l)),s.state.loading|=4,s.instance=f,ht(f);return}f=t.ownerDocument||t,a=i0(a),(d=Ln.get(d))&&Xf(a,d),f=f.createElement("link"),ht(f);var w=f;w._p=new Promise(function(E,A){w.onload=E,w.onerror=A}),Ut(f,"link",a),s.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Oc.bind(l),t.addEventListener("load",s),t.addEventListener("error",s))}}function rx(){if(Cl===null)throw Error(i(475));var t=Cl;return t.stylesheets&&t.count===0&&Zf(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&Zf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Oc(){if(this.count--,this.count===0){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Zf(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,s.forEach(sx,t),Lc=null,Oc.call(t))}function sx(t,s){if(!(s.state.loading&4)){var a=Lc.get(t);if(a)var l=a.get(null);else{a=new Map,Lc.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var w=d[f];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}d=s.instance,w=d.getAttribute("data-precedence"),f=a.get(w)||l,f===l&&a.set(null,d),a.set(w,d),this.count++,l=Oc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Il={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function ix(t,s,a,l,d,f,w,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.hiddenUpdates=Er(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function c0(t,s,a,l,d,f,w,E,A,$,X,Z){return t=new ix(t,s,a,w,E,A,$,Z),s=1,f===!0&&(s|=24),f=fn(3,null,null,s),t.current=f,f.stateNode=t,s=Lh(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:s},Mh(f),t}function d0(t){return t?(t=Ea,t):Ea}function h0(t,s,a,l,d,f){d=d0(d),l.context===null?l.context=d:l.pendingContext=d,l=gs(s),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=vs(t,l,s),a!==null&&(yn(a,t,s),nl(a,t,s))}function f0(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function ep(t,s){f0(t,s),(t=t.alternate)&&f0(t,s)}function p0(t){if(t.tag===13){var s=ka(t,67108864);s!==null&&yn(s,t,67108864),ep(t,67108864)}}var Dc=!0;function ax(t,s,a,l){var d=G.T;G.T=null;var f=oe.p;try{oe.p=2,tp(t,s,a,l)}finally{oe.p=f,G.T=d}}function ox(t,s,a,l){var d=G.T;G.T=null;var f=oe.p;try{oe.p=8,tp(t,s,a,l)}finally{oe.p=f,G.T=d}}function tp(t,s,a,l){if(Dc){var d=np(l);if(d===null)Bf(t,s,l,Pc,a),g0(t,l);else if(ux(d,t,s,a,l))l.stopPropagation();else if(g0(t,l),s&4&&-1<lx.indexOf(t)){for(;d!==null;){var f=Zn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var w=Mn(f.pendingLanes);if(w!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var A=1<<31-Ht(w);E.entanglements[1]|=A,w&=~A}hr(f),(Ke&6)===0&&(yc=kn()+500,bl(0))}}break;case 13:E=ka(f,2),E!==null&&yn(E,f,2),wc(),ep(f,2)}if(f=np(l),f===null&&Bf(t,s,l,Pc,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Bf(t,s,l,null,a)}}function np(t){return t=xn(t),rp(t)}var Pc=null;function rp(t){if(Pc=null,t=xr(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Pc=t,null}function m0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ih()){case xo:return 2;case ea:return 8;case ai:case ah:return 32;case ta:return 268435456;default:return 32}default:return 32}}var sp=!1,As=null,Rs=null,Os=null,Tl=new Map,_l=new Map,Ls=[],lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g0(t,s){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Tl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(s.pointerId)}}function Nl(t,s,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},s!==null&&(s=Zn(s),s!==null&&p0(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function ux(t,s,a,l,d){switch(s){case"focusin":return As=Nl(As,t,s,a,l,d),!0;case"dragenter":return Rs=Nl(Rs,t,s,a,l,d),!0;case"mouseover":return Os=Nl(Os,t,s,a,l,d),!0;case"pointerover":var f=d.pointerId;return Tl.set(f,Nl(Tl.get(f)||null,t,s,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,_l.set(f,Nl(_l.get(f)||null,t,s,a,l,d)),!0}return!1}function v0(t){var s=xr(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,wu(t.priority,function(){if(a.tag===13){var l=vn();l=os(l);var d=ka(a,l);d!==null&&yn(d,a,l),ep(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=np(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);_r=l,a.target.dispatchEvent(l),_r=null}else return s=Zn(a),s!==null&&p0(s),t.blockedOn=a,!1;s.shift()}return!0}function y0(t,s,a){jc(t)&&a.delete(s)}function cx(){sp=!1,As!==null&&jc(As)&&(As=null),Rs!==null&&jc(Rs)&&(Rs=null),Os!==null&&jc(Os)&&(Os=null),Tl.forEach(y0),_l.forEach(y0)}function Mc(t,s){t.blockedOn===s&&(t.blockedOn=null,sp||(sp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cx)))}var zc=null;function b0(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],d=t[s+2];if(typeof l!="function"){if(rp(l||a)===null)continue;break}var f=Zn(a);f!==null&&(t.splice(s,3),s-=3,nf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Al(t){function s(A){return Mc(A,t)}As!==null&&Mc(As,t),Rs!==null&&Mc(Rs,t),Os!==null&&Mc(Os,t),Tl.forEach(s),_l.forEach(s);for(var a=0;a<Ls.length;a++){var l=Ls[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ls.length&&(a=Ls[0],a.blockedOn===null);)v0(a),a.blockedOn===null&&Ls.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],w=d[gt]||null;if(typeof f=="function")w||b0(a);else if(w){var E=null;if(f&&f.hasAttribute("formAction")){if(d=f,w=f[gt]||null)E=w.formAction;else if(rp(d)!==null)continue}else E=w.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),b0(a)}}}function ip(t){this._internalRoot=t}Fc.prototype.render=ip.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=vn();h0(a,l,t,s,null,null)},Fc.prototype.unmount=ip.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;h0(t.current,2,null,t,null,null),wc(),s[En]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var s=ls();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ls.length&&s!==0&&s<Ls[a].priority;a++);Ls.splice(a,0,t),a===0&&v0(t)}};var w0=e.version;if(w0!=="19.1.0")throw Error(i(527,w0,"19.1.0"));oe.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=m(s),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var dx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{lt=Uc.inject(dx),He=Uc}catch{}}return Ol.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,l="",d=jv,f=Mv,w=zv,E=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=c0(t,1,!1,null,null,a,l,d,f,w,E,null),t[En]=s.current,Vf(t),new ip(s)},Ol.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var l=!1,d="",f=jv,w=Mv,E=zv,A=null,$=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&($=a.formState)),s=c0(t,1,!0,s,a??null,l,d,f,w,E,A,$),s.context=d0(null),a=s.current,l=vn(),l=os(l),d=gs(l),d.callback=null,vs(a,d,l),a=l,s.current.lanes=a,Sr(s,a),hr(s),t[En]=s.current,Vf(t),new Fc(s)},Ol.version="19.1.0",Ol}var D0;function kx(){if(D0)return ap.exports;D0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ap.exports=wx(),ap.exports}var Ex=kx(),Ll={},P0;function Sx(){if(P0)return Ll;P0=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.parse=h,Ll.serialize=v;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function h(C,D){const O=new u,K=C.length;if(K<2)return O;const z=(D==null?void 0:D.decode)||k;let Q=0;do{const F=C.indexOf("=",Q);if(F===-1)break;const ie=C.indexOf(";",Q),re=ie===-1?K:ie;if(F>re){Q=C.lastIndexOf(";",F-1)+1;continue}const ue=p(C,Q,F),ke=m(C,F,ue),j=C.slice(ue,ke);if(O[j]===void 0){let I=p(C,F+1,re),_=m(C,re,I);const M=z(C.slice(I,_));O[j]=M}Q=re+1}while(Q<K);return O}function p(C,D,O){do{const K=C.charCodeAt(D);if(K!==32&&K!==9)return D}while(++D<O);return O}function m(C,D,O){for(;D>O;){const K=C.charCodeAt(--D);if(K!==32&&K!==9)return D+1}return O}function v(C,D,O){const K=(O==null?void 0:O.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const z=K(D);if(!e.test(z))throw new TypeError(`argument val is invalid: ${D}`);let Q=C+"="+z;if(!O)return Q;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);Q+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);Q+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);Q+="; Path="+O.path}if(O.expires){if(!S(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);Q+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(Q+="; HttpOnly"),O.secure&&(Q+="; Secure"),O.partitioned&&(Q+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return Q}function k(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function S(C){return o.call(C)==="[object Date]"}return Ll}Sx();var j0="popstate";function xx(r={}){function e(i,o){let{pathname:u,search:h,hash:p}=i.location;return Ip("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Ql(o)}return Ix(e,n,null,r)}function it(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cx(){return Math.random().toString(36).substring(2,10)}function M0(r,e){return{usr:r.state,key:r.key,idx:e}}function Ip(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:n,key:e&&e.key||i||Cx()}}function Ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function co(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function Ix(r,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,h=o.history,p="POP",m=null,v=k();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function k(){return(h.state||{idx:null}).idx}function S(){p="POP";let z=k(),Q=z==null?null:z-v;v=z,m&&m({action:p,location:K.location,delta:Q})}function C(z,Q){p="PUSH";let F=Ip(K.location,z,Q);v=k()+1;let ie=M0(F,v),re=K.createHref(F);try{h.pushState(ie,"",re)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(re)}u&&m&&m({action:p,location:K.location,delta:1})}function D(z,Q){p="REPLACE";let F=Ip(K.location,z,Q);v=k();let ie=M0(F,v),re=K.createHref(F);h.replaceState(ie,"",re),u&&m&&m({action:p,location:K.location,delta:0})}function O(z){return Tx(z)}let K={get action(){return p},get location(){return r(o,h)},listen(z){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(j0,S),m=z,()=>{o.removeEventListener(j0,S),m=null}},createHref(z){return e(o,z)},createURL:O,encodeLocation(z){let Q=O(z);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:C,replace:D,go(z){return h.go(z)}};return K}function Tx(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Ql(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Aw(r,e,n="/"){return _x(r,e,n,!1)}function _x(r,e,n,i){let o=typeof e=="string"?co(e):e,u=Zr(o.pathname||"/",n);if(u==null)return null;let h=Rw(r);Nx(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let v=Ux(u);p=zx(h[m],v,i)}return p}function Rw(r,e=[],n=[],i=""){let o=(u,h,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(it(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let v=Gr([i,m.relativePath]),k=n.concat(m);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Rw(u.children,e,k,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:jx(v,u.index),routesMeta:k})};return r.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,h);else for(let m of Ow(u.path))o(u,h,m)}),e}function Ow(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let h=Ow(i.join("/")),p=[];return p.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...h),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function Nx(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Mx(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Ax=/^:[\w-]+$/,Rx=3,Ox=2,Lx=1,Dx=10,Px=-2,z0=r=>r==="*";function jx(r,e){let n=r.split("/"),i=n.length;return n.some(z0)&&(i+=Px),e&&(i+=Ox),n.filter(o=>!z0(o)).reduce((o,u)=>o+(Ax.test(u)?Rx:u===""?Lx:Dx),i)}function Mx(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function zx(r,e,n=!1){let{routesMeta:i}=r,o={},u="/",h=[];for(let p=0;p<i.length;++p){let m=i[p],v=p===i.length-1,k=u==="/"?e:e.slice(u.length)||"/",S=ad({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},k),C=m.route;if(!S&&v&&n&&!i[i.length-1].route.index&&(S=ad({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},k)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Gr([u,S.pathname]),pathnameBase:Hx(Gr([u,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(u=Gr([u,S.pathnameBase]))}return h}function ad(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=Fx(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:k},S)=>{if(v==="*"){let D=p[S]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const C=p[S];return k&&!C?m[v]=void 0:m[v]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:h,pattern:r}}function Fx(r,e=!1,n=!0){Kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Ux(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Zr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}function Vx(r,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof r=="string"?co(r):r;return{pathname:n?n.startsWith("/")?n:Bx(n,e):e,search:Kx(i),hash:Wx(o)}}function Bx(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lp(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $x(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rm(r){let e=$x(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function sm(r,e,n,i=!1){let o;typeof r=="string"?o=co(r):(o={...r},it(!o.pathname||!o.pathname.includes("?"),lp("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),lp("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),lp("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let S=e.length-1;if(!i&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}p=S>=0?e[S]:"/"}let m=Vx(o,p),v=h&&h!=="/"&&h.endsWith("/"),k=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(v||k)&&(m.pathname+="/"),m}var Gr=r=>r.join("/").replace(/\/\/+/g,"/"),Hx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Kx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Wx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Lw=["POST","PUT","PATCH","DELETE"];new Set(Lw);var Yx=["GET",...Lw];new Set(Yx);var ho=q.createContext(null);ho.displayName="DataRouter";var Rd=q.createContext(null);Rd.displayName="DataRouterState";var Dw=q.createContext({isTransitioning:!1});Dw.displayName="ViewTransition";var Qx=q.createContext(new Map);Qx.displayName="Fetchers";var Gx=q.createContext(null);Gx.displayName="Await";var Qn=q.createContext(null);Qn.displayName="Navigation";var iu=q.createContext(null);iu.displayName="Location";var wr=q.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var im=q.createContext(null);im.displayName="RouteError";function Xx(r,{relative:e}={}){it(fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=q.useContext(Qn),{hash:o,pathname:u,search:h}=au(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Gr([n,u])),i.createHref({pathname:p,search:h,hash:o})}function fo(){return q.useContext(iu)!=null}function is(){return it(fo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(iu).location}var Pw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jw(r){q.useContext(Qn).static||q.useLayoutEffect(r)}function Od(){let{isDataRoute:r}=q.useContext(wr);return r?cC():Jx()}function Jx(){it(fo(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(ho),{basename:e,navigator:n}=q.useContext(Qn),{matches:i}=q.useContext(wr),{pathname:o}=is(),u=JSON.stringify(rm(i)),h=q.useRef(!1);return jw(()=>{h.current=!0}),q.useCallback((p,m={})=>{if(Kn(h.current,Pw),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=sm(p,JSON.parse(u),o,m.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Gr([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,u,o,r])}q.createContext(null);function au(r,{relative:e}={}){let{matches:n}=q.useContext(wr),{pathname:i}=is(),o=JSON.stringify(rm(n));return q.useMemo(()=>sm(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function Zx(r,e){return Mw(r,e)}function Mw(r,e,n,i){var o;it(fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(Qn),{matches:h}=q.useContext(wr),p=h[h.length-1],m=p?p.params:{},v=p?p.pathname:"/",k=p?p.pathnameBase:"/",S=p&&p.route;{let F=S&&S.path||"";zw(v,!S||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let C=is(),D;if(e){let F=typeof e=="string"?co(e):e;it(k==="/"||((o=F.pathname)==null?void 0:o.startsWith(k)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${k}" but pathname "${F.pathname}" was given in the \`location\` prop.`),D=F}else D=C;let O=D.pathname||"/",K=O;if(k!=="/"){let F=k.replace(/^\//,"").split("/");K="/"+O.replace(/^\//,"").split("/").slice(F.length).join("/")}let z=Aw(r,{pathname:K});Kn(S||z!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Kn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=sC(z&&z.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Gr([k,u.encodeLocation?u.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?k:Gr([k,u.encodeLocation?u.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),h,n,i);return e&&Q?q.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},Q):Q}function eC(){let r=uC(),e=qx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,h)}var tC=q.createElement(eC,null),nC=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?q.createElement(wr.Provider,{value:this.props.routeContext},q.createElement(im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rC({routeContext:r,match:e,children:n}){let i=q.useContext(ho);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(wr.Provider,{value:r},n)}function sC(r,e=[],n=null,i=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);it(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let v=o[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:k,errors:S}=n,C=v.route.loader&&!k.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||C){h=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,v,k)=>{let S,C=!1,D=null,O=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,D=v.route.errorElement||tC,h&&(p<0&&k===0?(zw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,O=null):p===k&&(C=!0,O=v.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,k+1)),z=()=>{let Q;return S?Q=D:C?Q=O:v.route.Component?Q=q.createElement(v.route.Component,null):v.route.element?Q=v.route.element:Q=m,q.createElement(rC,{match:v,routeContext:{outlet:m,matches:K,isDataRoute:n!=null},children:Q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||k===0)?q.createElement(nC,{location:n.location,revalidation:n.revalidation,component:D,error:S,children:z(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):z()},null)}function am(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iC(r){let e=q.useContext(ho);return it(e,am(r)),e}function aC(r){let e=q.useContext(Rd);return it(e,am(r)),e}function oC(r){let e=q.useContext(wr);return it(e,am(r)),e}function om(r){let e=oC(r),n=e.matches[e.matches.length-1];return it(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function lC(){return om("useRouteId")}function uC(){var r;let e=q.useContext(im),n=aC("useRouteError"),i=om("useRouteError");return e!==void 0?e:(r=n.errors)==null?void 0:r[i]}function cC(){let{router:r}=iC("useNavigate"),e=om("useNavigate"),n=q.useRef(!1);return jw(()=>{n.current=!0}),q.useCallback(async(i,o={})=>{Kn(n.current,Pw),n.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var F0={};function zw(r,e,n){!e&&!F0[r]&&(F0[r]=!0,Kn(!1,n))}q.memo(dC);function dC({routes:r,future:e,state:n}){return Mw(r,void 0,n,e)}function od({to:r,replace:e,state:n,relative:i}){it(fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Qn);Kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(wr),{pathname:h}=is(),p=Od(),m=sm(r,rm(u),h,i==="path"),v=JSON.stringify(m);return q.useEffect(()=>{p(JSON.parse(v),{replace:e,state:n,relative:i})},[p,v,i,e,n]),null}function fr(r){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hC({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1}){it(!fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=co(n));let{pathname:m="/",search:v="",hash:k="",state:S=null,key:C="default"}=n,D=q.useMemo(()=>{let O=Zr(m,h);return O==null?null:{location:{pathname:O,search:v,hash:k,state:S,key:C},navigationType:i}},[h,m,v,k,S,C,i]);return Kn(D!=null,`<Router basename="${h}"> is not able to match the URL "${m}${v}${k}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:q.createElement(Qn.Provider,{value:p},q.createElement(iu.Provider,{children:e,value:D}))}function fC({children:r,location:e}){return Zx(Tp(r),e)}function Tp(r,e=[]){let n=[];return q.Children.forEach(r,(i,o)=>{if(!q.isValidElement(i))return;let u=[...e,o];if(i.type===q.Fragment){n.push.apply(n,Tp(i.props.children,u));return}it(i.type===fr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Tp(i.props.children,u)),n.push(h)}),n}var Yc="get",Qc="application/x-www-form-urlencoded";function Ld(r){return r!=null&&typeof r.tagName=="string"}function pC(r){return Ld(r)&&r.tagName.toLowerCase()==="button"}function mC(r){return Ld(r)&&r.tagName.toLowerCase()==="form"}function gC(r){return Ld(r)&&r.tagName.toLowerCase()==="input"}function vC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yC(r,e){return r.button===0&&(!e||e==="_self")&&!vC(r)}var Vc=null;function bC(){if(Vc===null)try{new FormData(document.createElement("form"),0),Vc=!1}catch{Vc=!0}return Vc}var wC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function up(r){return r!=null&&!wC.has(r)?(Kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):r}function kC(r,e){let n,i,o,u,h;if(mC(r)){let p=r.getAttribute("action");i=p?Zr(p,e):null,n=r.getAttribute("method")||Yc,o=up(r.getAttribute("enctype"))||Qc,u=new FormData(r)}else if(pC(r)||gC(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(i=m?Zr(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Yc,o=up(r.getAttribute("formenctype"))||up(p.getAttribute("enctype"))||Qc,u=new FormData(p,r),!bC()){let{name:v,type:k,value:S}=r;if(k==="image"){let C=v?`${v}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else v&&u.append(v,S)}}else{if(Ld(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yc,i=null,o=Qc,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:h}}function lm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function EC(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function xC(r,e,n){let i=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await EC(u,n);return h.links?h.links():[]}return[]}));return _C(i.flat(1).filter(SC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function U0(r,e,n,i,o,u){let h=(m,v)=>n[v]?m.route.id!==n[v].route.id:!0,p=(m,v)=>{var k;return n[v].pathname!==m.pathname||((k=n[v].route.path)==null?void 0:k.endsWith("*"))&&n[v].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,v)=>h(m,v)||p(m,v)):u==="data"?e.filter((m,v)=>{var k;let S=i.routes[m.route.id];if(!S||!S.hasLoader)return!1;if(h(m,v)||p(m,v))return!0;if(m.route.shouldRevalidate){let C=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((k=n[0])==null?void 0:k.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function CC(r,e,{includeHydrateFallback:n}={}){return IC(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function IC(r){return[...new Set(r)]}function TC(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function _C(r,e){let n=new Set;return new Set(e),r.reduce((i,o)=>{let u=JSON.stringify(TC(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NC=new Set([100,101,204,205]);function AC(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Zr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Fw(){let r=q.useContext(ho);return lm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function RC(){let r=q.useContext(Rd);return lm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var um=q.createContext(void 0);um.displayName="FrameworkContext";function Uw(){let r=q.useContext(um);return lm(r,"You must render this element inside a <HydratedRouter> element"),r}function OC(r,e){let n=q.useContext(um),[i,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:v,onMouseLeave:k,onTouchStart:S}=e,C=q.useRef(null);q.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let K=Q=>{Q.forEach(F=>{h(F.isIntersecting)})},z=new IntersectionObserver(K,{threshold:.5});return C.current&&z.observe(C.current),()=>{z.disconnect()}}},[r]),q.useEffect(()=>{if(i){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[i]);let D=()=>{o(!0)},O=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:Dl(p,D),onBlur:Dl(m,O),onMouseEnter:Dl(v,D),onMouseLeave:Dl(k,O),onTouchStart:Dl(S,D)}]:[!1,C,{}]}function Dl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function LC({page:r,...e}){let{router:n}=Fw(),i=q.useMemo(()=>Aw(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?q.createElement(PC,{page:r,matches:i,...e}):null}function DC(r){let{manifest:e,routeModules:n}=Uw(),[i,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return xC(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),i}function PC({page:r,matches:e,...n}){let i=is(),{manifest:o,routeModules:u}=Uw(),{basename:h}=Fw(),{loaderData:p,matches:m}=RC(),v=q.useMemo(()=>U0(r,e,m,o,i,"data"),[r,e,m,o,i]),k=q.useMemo(()=>U0(r,e,m,o,i,"assets"),[r,e,m,o,i]),S=q.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let O=new Set,K=!1;if(e.forEach(Q=>{var F;let ie=o.routes[Q.route.id];!ie||!ie.hasLoader||(!v.some(re=>re.route.id===Q.route.id)&&Q.route.id in p&&(F=u[Q.route.id])!=null&&F.shouldRevalidate||ie.hasClientLoader?K=!0:O.add(Q.route.id))}),O.size===0)return[];let z=AC(r,h);return K&&O.size>0&&z.searchParams.set("_routes",e.filter(Q=>O.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[z.pathname+z.search]},[h,p,i,o,v,e,r,u]),C=q.useMemo(()=>CC(k,o),[k,o]),D=DC(k);return q.createElement(q.Fragment,null,S.map(O=>q.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),C.map(O=>q.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),D.map(({key:O,link:K})=>q.createElement("link",{key:O,...K})))}function jC(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vw&&(window.__reactRouterVersion="7.6.2")}catch{}function MC({basename:r,children:e,window:n}){let i=q.useRef();i.current==null&&(i.current=xx({window:n,v5Compat:!0}));let o=i.current,[u,h]=q.useState({action:o.action,location:o.location}),p=q.useCallback(m=>{q.startTransition(()=>h(m))},[h]);return q.useLayoutEffect(()=>o.listen(p),[o,p]),q.createElement(hC,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cm=q.forwardRef(function({onClick:r,discover:e="render",prefetch:n="none",relative:i,reloadDocument:o,replace:u,state:h,target:p,to:m,preventScrollReset:v,viewTransition:k,...S},C){let{basename:D}=q.useContext(Qn),O=typeof m=="string"&&Bw.test(m),K,z=!1;if(typeof m=="string"&&O&&(K=m,Vw))try{let I=new URL(window.location.href),_=m.startsWith("//")?new URL(I.protocol+m):new URL(m),M=Zr(_.pathname,D);_.origin===I.origin&&M!=null?m=M+_.search+_.hash:z=!0}catch{Kn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=Xx(m,{relative:i}),[F,ie,re]=OC(n,S),ue=VC(m,{replace:u,state:h,target:p,preventScrollReset:v,relative:i,viewTransition:k});function ke(I){r&&r(I),I.defaultPrevented||ue(I)}let j=q.createElement("a",{...S,...re,href:K||Q,onClick:z||o?r:ke,ref:jC(C,ie),target:p,"data-discover":!O&&e==="render"?"true":void 0});return F&&!O?q.createElement(q.Fragment,null,j,q.createElement(LC,{page:Q})):j});cm.displayName="Link";var zC=q.forwardRef(function({"aria-current":r="page",caseSensitive:e=!1,className:n="",end:i=!1,style:o,to:u,viewTransition:h,children:p,...m},v){let k=au(u,{relative:m.relative}),S=is(),C=q.useContext(Rd),{navigator:D,basename:O}=q.useContext(Qn),K=C!=null&&WC(k)&&h===!0,z=D.encodeLocation?D.encodeLocation(k).pathname:k.pathname,Q=S.pathname,F=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;e||(Q=Q.toLowerCase(),F=F?F.toLowerCase():null,z=z.toLowerCase()),F&&O&&(F=Zr(F,O)||F);const ie=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let re=Q===z||!i&&Q.startsWith(z)&&Q.charAt(ie)==="/",ue=F!=null&&(F===z||!i&&F.startsWith(z)&&F.charAt(z.length)==="/"),ke={isActive:re,isPending:ue,isTransitioning:K},j=re?r:void 0,I;typeof n=="function"?I=n(ke):I=[n,re?"active":null,ue?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let _=typeof o=="function"?o(ke):o;return q.createElement(cm,{...m,"aria-current":j,className:I,ref:v,style:_,to:u,viewTransition:h},typeof p=="function"?p(ke):p)});zC.displayName="NavLink";var FC=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:h=Yc,action:p,onSubmit:m,relative:v,preventScrollReset:k,viewTransition:S,...C},D)=>{let O=HC(),K=KC(p,{relative:v}),z=h.toLowerCase()==="get"?"get":"post",Q=typeof p=="string"&&Bw.test(p),F=ie=>{if(m&&m(ie),ie.defaultPrevented)return;ie.preventDefault();let re=ie.nativeEvent.submitter,ue=(re==null?void 0:re.getAttribute("formmethod"))||h;O(re||ie.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:v,preventScrollReset:k,viewTransition:S})};return q.createElement("form",{ref:D,method:z,action:K,onSubmit:i?m:F,...C,"data-discover":!Q&&r==="render"?"true":void 0})});FC.displayName="Form";function UC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $w(r){let e=q.useContext(ho);return it(e,UC(r)),e}function VC(r,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=Od(),m=is(),v=au(r,{relative:u});return q.useCallback(k=>{if(yC(k,e)){k.preventDefault();let S=n!==void 0?n:Ql(m)===Ql(v);p(r,{replace:S,state:i,preventScrollReset:o,relative:u,viewTransition:h})}},[m,p,v,n,i,e,r,o,u,h])}var BC=0,$C=()=>`__${String(++BC)}__`;function HC(){let{router:r}=$w("useSubmit"),{basename:e}=q.useContext(Qn),n=lC();return q.useCallback(async(i,o={})=>{let{action:u,method:h,encType:p,formData:m,body:v}=kC(i,e);if(o.navigate===!1){let k=o.fetcherKey||$C();await r.fetch(k,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function KC(r,{relative:e}={}){let{basename:n}=q.useContext(Qn),i=q.useContext(wr);it(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...au(r||".",{relative:e})},h=is();if(r==null){u.search=h.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(v=>v==="")){p.delete("index"),m.filter(k=>k).forEach(k=>p.append("index",k));let v=p.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gr([n,u.pathname])),Ql(u)}function WC(r,e={}){let n=q.useContext(Dw);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$w("useViewTransitionState"),o=au(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Zr(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=Zr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ad(o.pathname,h)!=null||ad(o.pathname,u)!=null}[...NC];const qC=()=>{};var V0={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Hw=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},YC=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],h=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,p=h?r[o+1]:0,m=o+2<r.length,v=m?r[o+2]:0,k=u>>2,S=(u&3)<<4|p>>4;let C=(p&15)<<2|v>>6,D=v&63;m||(D=64,h||(C=64)),i.push(n[k],n[S],n[C],n[D])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Hw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):YC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],h=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const m=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||h==null||p==null||m==null)throw new QC;const v=u<<2|h>>4;if(i.push(v),p!==64){const k=h<<4&240|p>>2;if(i.push(k),m!==64){const S=p<<6&192|m;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class QC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GC=function(r){const e=Hw(r);return Kw.encodeByteArray(e,!0)},ld=function(r){return GC(r).replace(/\./g,"")},Ww=function(r){try{return Kw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function XC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JC=()=>XC().__FIREBASE_DEFAULTS__,ZC=()=>{if(typeof process>"u"||typeof V0>"u")return;const r=V0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},e2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Ww(r[1]);return e&&JSON.parse(e)},Dd=()=>{try{return qC()||JC()||ZC()||e2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qw=r=>{var e,n;return(n=(e=Dd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Yw=r=>{const e=qw(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Qw=()=>{var r;return(r=Dd())===null||r===void 0?void 0:r.config},Gw=r=>{var e;return(e=Dd())===null||e===void 0?void 0:e[`_${r}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yi(r){return r.endsWith(".cloudworkstations.dev")}async function dm(r){return(await fetch(r,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function n2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ld(JSON.stringify(n)),ld(JSON.stringify(h)),""].join(".")}const Bl={};function r2(){const r={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?r.emulator.push(e):r.prod.push(e);return r}function s2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let B0=!1;function hm(r,e){if(typeof window>"u"||typeof document>"u"||!Yi(window.location.host)||Bl[r]===e||Bl[r]||B0)return;Bl[r]=e;function n(S){return`__firebase__banner__${S}`}const i="__firebase__banner",o=r2().prod.length>0;function u(){const S=document.getElementById(i);S&&S.remove()}function h(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{B0=!0,u()},S}function v(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function k(){const S=s2(i),C=n("text"),D=document.getElementById(C)||document.createElement("span"),O=n("learnmore"),K=document.getElementById(O)||document.createElement("a"),z=n("preprendIcon"),Q=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const F=S.element;h(F),v(K,O);const ie=m();p(Q,z),F.append(Q,D,K,ie),document.body.appendChild(F)}o?(D.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",k):k()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function a2(){var r;const e=(r=Dd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function l2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u2(){const r=Gt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function c2(){return!a2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jw(){try{return typeof indexedDB=="object"}catch{return!1}}function Zw(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function d2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const h2="FirebaseError";class Gn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=h2,Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qi.prototype.create)}}class Qi{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?f2(u,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Gn(o,p,i)}}function f2(r,e){return r.replace(p2,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const p2=/\{\$([^}]+)}/g;function m2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ws(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=r[o],h=e[o];if($0(u)&&$0(h)){if(!Ws(u,h))return!1}else if(u!==h)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function $0(r){return r!==null&&typeof r=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ou(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function g2(r,e){const n=new v2(r,e);return n.subscribe.bind(n)}class v2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");y2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=cp),o.error===void 0&&(o.error=cp),o.complete===void 0&&(o.complete=cp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function cp(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b2=1e3,w2=2,k2=4*60*60*1e3,E2=.5;function H0(r,e=b2,n=w2){const i=e*Math.pow(n,r),o=Math.round(E2*i*(Math.random()-.5)*2);return Math.min(k2,i+o)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dt(r){return r&&r._delegate?r._delegate:r}class jn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ui="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new t2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C2(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&h.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:x2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x2(r){return r===Ui?void 0:r}function C2(r){return r.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new S2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const T2={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},_2=Le.INFO,N2={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},A2=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=N2[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pd{constructor(e){this.name=e,this._logLevel=_2,this._logHandler=A2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const R2=(r,e)=>e.some(n=>r instanceof n);let K0,W0;function O2(){return K0||(K0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L2(){return W0||(W0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ek=new WeakMap,_p=new WeakMap,tk=new WeakMap,dp=new WeakMap,fm=new WeakMap;function D2(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Vs(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&ek.set(n,r)}).catch(()=>{}),fm.set(e,r),e}function P2(r){if(_p.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});_p.set(r,e)}let Np={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return _p.get(r);if(e==="objectStoreNames")return r.objectStoreNames||tk.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function j2(r){Np=r(Np)}function M2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(hp(this),e,...n);return tk.set(i,e.sort?e.sort():[e]),Vs(i)}:L2().includes(r)?function(...e){return r.apply(hp(this),e),Vs(ek.get(this))}:function(...e){return Vs(r.apply(hp(this),e))}}function z2(r){return typeof r=="function"?M2(r):(r instanceof IDBTransaction&&P2(r),R2(r,O2())?new Proxy(r,Np):r)}function Vs(r){if(r instanceof IDBRequest)return D2(r);if(dp.has(r))return dp.get(r);const e=z2(r);return e!==r&&(dp.set(r,e),fm.set(e,r)),e}const hp=r=>fm.get(r);function nk(r,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),p=Vs(h);return i&&h.addEventListener("upgradeneeded",m=>{i(Vs(h.result),m.oldVersion,m.newVersion,Vs(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const F2=["get","getKey","getAll","getAllKeys","count"],U2=["put","add","delete","clear"],fp=new Map;function q0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(fp.get(e))return fp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=U2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||F2.includes(n)))return;const u=async function(h,...p){const m=this.transaction(h,o?"readwrite":"readonly");let v=m.store;return i&&(v=v.index(p.shift())),(await Promise.all([v[n](...p),o&&m.done]))[0]};return fp.set(e,u),u}j2(r=>({...r,get:(e,n,i)=>q0(e,n)||r.get(e,n,i),has:(e,n)=>!!q0(e,n)||r.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class V2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(B2(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function B2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ap="@firebase/app",Y0="0.13.1";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const es=new Pd("@firebase/app"),$2="@firebase/app-compat",H2="@firebase/analytics-compat",K2="@firebase/analytics",W2="@firebase/app-check-compat",q2="@firebase/app-check",Y2="@firebase/auth",Q2="@firebase/auth-compat",G2="@firebase/database",X2="@firebase/data-connect",J2="@firebase/database-compat",Z2="@firebase/functions",eI="@firebase/functions-compat",tI="@firebase/installations",nI="@firebase/installations-compat",rI="@firebase/messaging",sI="@firebase/messaging-compat",iI="@firebase/performance",aI="@firebase/performance-compat",oI="@firebase/remote-config",lI="@firebase/remote-config-compat",uI="@firebase/storage",cI="@firebase/storage-compat",dI="@firebase/firestore",hI="@firebase/ai",fI="@firebase/firestore-compat",pI="firebase",mI="11.9.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rp="[DEFAULT]",gI={[Ap]:"fire-core",[$2]:"fire-core-compat",[K2]:"fire-analytics",[H2]:"fire-analytics-compat",[q2]:"fire-app-check",[W2]:"fire-app-check-compat",[Y2]:"fire-auth",[Q2]:"fire-auth-compat",[G2]:"fire-rtdb",[X2]:"fire-data-connect",[J2]:"fire-rtdb-compat",[Z2]:"fire-fn",[eI]:"fire-fn-compat",[tI]:"fire-iid",[nI]:"fire-iid-compat",[rI]:"fire-fcm",[sI]:"fire-fcm-compat",[iI]:"fire-perf",[aI]:"fire-perf-compat",[oI]:"fire-rc",[lI]:"fire-rc-compat",[uI]:"fire-gcs",[cI]:"fire-gcs-compat",[dI]:"fire-fst",[fI]:"fire-fst-compat",[hI]:"fire-vertex","fire-js":"fire-js",[pI]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ud=new Map,vI=new Map,Op=new Map;function Q0(r,e){try{r.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Wn(r){const e=r.name;if(Op.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;Op.set(e,r);for(const n of ud.values())Q0(n,r);for(const n of vI.values())Q0(n,r);return!0}function Zs(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Dn(r){return r==null?!1:r.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new Qi("app","Firebase",yI);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bI{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const po=mI;function rk(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Rp,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Bs.create("bad-app-name",{appName:String(o)});if(n||(n=Qw()),!n)throw Bs.create("no-options");const u=ud.get(o);if(u){if(Ws(n,u.options)&&Ws(i,u.config))return u;throw Bs.create("duplicate-app",{appName:o})}const h=new I2(o);for(const m of Op.values())h.addComponent(m);const p=new bI(n,i,h);return ud.set(o,p),p}function jd(r=Rp){const e=ud.get(r);if(!e&&r===Rp&&Qw())return rk();if(!e)throw Bs.create("no-app",{appName:r});return e}function on(r,e,n){var i;let o=(i=gI[r])!==null&&i!==void 0?i:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(p.join(" "));return}Wn(new jn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wI="firebase-heartbeat-database",kI=1,Gl="firebase-heartbeat-store";let pp=null;function sk(){return pp||(pp=nk(wI,kI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Bs.create("idb-open",{originalErrorMessage:r.message})})),pp}async function EI(r){try{const e=(await sk()).transaction(Gl),n=await e.objectStore(Gl).get(ik(r));return await e.done,n}catch(e){if(e instanceof Gn)es.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(n.message)}}}async function G0(r,e){try{const n=(await sk()).transaction(Gl,"readwrite");await n.objectStore(Gl).put(e,ik(r)),await n.done}catch(n){if(n instanceof Gn)es.warn(n.message);else{const i=Bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(i.message)}}}function ik(r){return`${r.name}!${r.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SI=1024,xI=30;class CI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=X0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>xI){const u=_I(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){es.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X0(),{heartbeatsToSend:i,unsentEntries:o}=II(this._heartbeatsCache.heartbeats),u=ld(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return es.warn(n),""}}}function X0(){return new Date().toISOString().substring(0,10)}function II(r,e=SI){const n=[];let i=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),J0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),J0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class TI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jw()?Zw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await EI(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function J0(r){return ld(JSON.stringify({version:2,heartbeats:r})).length}function _I(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function NI(r){Wn(new jn("platform-logger",e=>new V2(e),"PRIVATE")),Wn(new jn("heartbeat",e=>new CI(e),"PRIVATE")),on(Ap,Y0,r),on(Ap,Y0,"esm2017"),on("fire-js","")}NI("");function pm(r,e){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]]);return n}function ak(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AI=ak,ok=new Qi("auth","Firebase",ak());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cd=new Pd("@firebase/auth");function RI(r,...e){cd.logLevel<=Le.WARN&&cd.warn(`Auth (${po}): ${r}`,...e)}function Gc(r,...e){cd.logLevel<=Le.ERROR&&cd.error(`Auth (${po}): ${r}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qn(r,...e){throw mm(r,...e)}function mr(r,...e){return mm(r,...e)}function lk(r,e,n){const i=Object.assign(Object.assign({},AI()),{[e]:n});return new Qi("auth","Firebase",i).create(e,{appName:r.name})}function $s(r){return lk(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return ok.create(r,...e)}function be(r,e,...n){if(!r)throw mm(e,...n)}function Yr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Gc(e),new Error(e)}function ts(r,e){r||Yr(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function OI(){return Z0()==="http:"||Z0()==="https:"}function Z0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function LI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OI()||Xw()||"connection"in navigator)?navigator.onLine:!0}function DI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=i2()||l2()}get(){return LI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gm(r,e){ts(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uk{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MI=new lu(3e4,6e4);function Gi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ei(r,e,n,i,o={}){return ck(r,o,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const p=ou(Object.assign({key:r.config.apiKey},h)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:e,headers:m},u);return o2()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Yi(r.emulatorConfig.host)&&(v.credentials="include"),uk.fetch()(await dk(r,r.config.apiHost,n,p),v)})}async function ck(r,e,n){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},PI),e);try{const o=new FI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Bc(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[m,v]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",h);if(m==="USER_DISABLED")throw Bc(r,"user-disabled",h);const k=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw lk(r,k,v);qn(r,k)}}catch(o){if(o instanceof Gn)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function Md(r,e,n,i,o={}){const u=await ei(r,e,n,i,o);return"mfaPendingCredential"in u&&qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function dk(r,e,n,i){const o=`${e}${n}?${i}`,u=r,h=u.config.emulator?gm(r.config,o):`${r.config.apiScheme}://${o}`;return jI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function zI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(mr(this.auth,"network-request-failed")),MI.get())})}}function Bc(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=mr(r,e,i);return o.customData._tokenResponse=n,o}function eb(r){return r!==void 0&&r.enterprise!==void 0}class UI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VI(r,e){return ei(r,"GET","/v2/recaptchaConfig",Gi(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function BI(r,e){return ei(r,"POST","/v1/accounts:delete",e)}async function dd(r,e){return ei(r,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $l(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $I(r,e=!1){const n=dt(r),i=await n.getIdToken(e),o=vm(i);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:i,authTime:$l(mp(o.auth_time)),issuedAtTime:$l(mp(o.iat)),expirationTime:$l(mp(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mp(r){return Number(r)*1e3}function vm(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ww(n);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function tb(r){const e=vm(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Xl(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Gn&&HI(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function HI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function hd(r){var e;const n=r.auth,i=await r.getIdToken(),o=await Xl(r,dd(n,{idToken:i}));be(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?hk(u.providerUserInfo):[],p=qI(r.providerData,h),m=r.isAnonymous,v=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),k=m?v:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Dp(u.createdAt,u.lastLoginAt),isAnonymous:k};Object.assign(r,S)}async function WI(r){const e=dt(r);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qI(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function hk(r){return r.map(e=>{var{providerId:n}=e,i=pm(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function YI(r,e){const n=await ck(r,{},async()=>{const i=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await dk(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:i};return r.emulatorConfig&&Yi(r.emulatorConfig.host)&&(m.credentials="include"),uk.fetch()(h,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QI(r,e){return ei(r,"POST","/v2/accounts:revokeToken",Gi(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=tb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await YI(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,h=new Ja;return i&&(be(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ps(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $n{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,u=pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Dp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $I(this,e)}reload(){return WI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await hd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject($s(this.auth));const e=await this.getIdToken();return await Xl(this,BI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,u,h,p,m,v,k;const S=(i=n.displayName)!==null&&i!==void 0?i:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(h=n.photoURL)!==null&&h!==void 0?h:void 0,K=(p=n.tenantId)!==null&&p!==void 0?p:void 0,z=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,Q=(v=n.createdAt)!==null&&v!==void 0?v:void 0,F=(k=n.lastLoginAt)!==null&&k!==void 0?k:void 0,{uid:ie,emailVerified:re,isAnonymous:ue,providerData:ke,stsTokenManager:j}=n;be(ie&&j,e,"internal-error");const I=Ja.fromJSON(this.name,j);be(typeof ie=="string",e,"internal-error"),Ps(S,e.name),Ps(C,e.name),be(typeof re=="boolean",e,"internal-error"),be(typeof ue=="boolean",e,"internal-error"),Ps(D,e.name),Ps(O,e.name),Ps(K,e.name),Ps(z,e.name),Ps(Q,e.name),Ps(F,e.name);const _=new $n({uid:ie,auth:e,email:C,emailVerified:re,displayName:S,isAnonymous:ue,photoURL:O,phoneNumber:D,tenantId:K,stsTokenManager:I,createdAt:Q,lastLoginAt:F});return ke&&Array.isArray(ke)&&(_.providerData=ke.map(M=>Object.assign({},M))),z&&(_._redirectEventId=z),_}static async _fromIdTokenResponse(e,n,i=!1){const o=new Ja;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await hd(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hk(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Ja;p.updateFromIdToken(i);const m=new $n({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,v),m}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nb=new Map;function Qr(r){ts(r instanceof Function,"Expected a class definition");let e=nb.get(r);return e?(ts(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,nb.set(r,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fk.type="NONE";const rb=fk;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xc(r,e,n){return`firebase:${r}:${e}:${n}`}class Za{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dd(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Za(Qr(rb),e,i);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||Qr(rb);const h=Xc(i,e.config.apiKey,e.name);let p=null;for(const v of n)try{const k=await v._get(h);if(k){let S;if(typeof k=="string"){const C=await dd(e,{idToken:k}).catch(()=>{});if(!C)break;S=await $n._fromGetAccountInfoResponse(e,C,k)}else S=$n._fromJSON(e,k);v!==u&&(p=S),u=v;break}}catch{}const m=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Za(u,e,i):(u=m[0],p&&await u._set(h,p.toJSON()),await Promise.all(n.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new Za(u,e,i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bk(e))return"Blackberry";if(wk(e))return"Webos";if(mk(e))return"Safari";if((e.includes("chrome/")||gk(e))&&!e.includes("edge/"))return"Chrome";if(yk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function pk(r=Gt()){return/firefox\//i.test(r)}function mk(r=Gt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gk(r=Gt()){return/crios\//i.test(r)}function vk(r=Gt()){return/iemobile/i.test(r)}function yk(r=Gt()){return/android/i.test(r)}function bk(r=Gt()){return/blackberry/i.test(r)}function wk(r=Gt()){return/webos/i.test(r)}function ym(r=Gt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GI(r=Gt()){var e;return ym(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XI(){return u2()&&document.documentMode===10}function kk(r=Gt()){return ym(r)||yk(r)||wk(r)||bk(r)||/windows phone/i.test(r)||vk(r)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ek(r,e=[]){let n;switch(r){case"Browser":n=sb(Gt());break;case"Worker":n=`${sb(Gt())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${i}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((h,p)=>{try{const m=e(u);h(m)}catch(m){p(m)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ZI(r,e={}){return ei(r,"GET","/v2/passwordPolicy",Gi(r,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eT=6;class tT{constructor(e){var n,i,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:eT,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,u,h,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nT{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ib(this),this.idTokenSubscription=new ib(this),this.beforeStateQueue=new JI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ok,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qr(n)),this._initializationPromise=this.queue(async()=>{var i,o,u;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dd(this,{idToken:e}),i=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===p)&&m!=null&&m.user&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject($s(this));const n=e?dt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZI(this),n=new tT(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qi("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await QI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,o);return()=>{h=!0,m()}}else{const m=e.addObserver(n);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ek(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mo(r){return dt(r)}class ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=g2(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rT(r){zd=r}function Sk(r){return zd.loadJS(r)}function sT(){return zd.recaptchaEnterpriseScript}function iT(){return zd.gapiScript}function aT(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class oT{constructor(){this.enterprise=new lT}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lT{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uT="recaptcha-enterprise",xk="NO_RECAPTCHA";class cT{constructor(e){this.type=uT,this.auth=mo(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{VI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new UI(m);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,h(v.siteKey)}}).catch(m=>{p(m)})})}function o(u,h,p){const m=window.grecaptcha;eb(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(v=>{h(v)}).catch(()=>{h(xk)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oT().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{i(this.auth).then(p=>{if(!n&&eb(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=sT();m.length!==0&&(m+=p),Sk(m).then(()=>{o(p,u,h)}).catch(v=>{h(v)})}}).catch(p=>{h(p)})})}}async function ab(r,e,n,i=!1,o=!1){const u=new cT(r);let h;if(o)h=xk;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function ob(r,e,n,i,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await ab(r,e,n,n==="getOobCode");return i(r,h)}else return i(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await ab(r,e,n,n==="getOobCode");return i(r,p)}else return Promise.reject(h)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dT(r,e){const n=Zs(r,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ws(o,e??{}))return i;qn(i,"already-initialized")}return n.initialize({options:e})}function hT(r,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Qr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function fT(r,e,n){const i=mo(r);be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=Ck(e),{host:h,port:p}=pT(e),m=p===null?"":`:${p}`,v={url:`${u}//${h}${m}/`},k=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),be(Ws(v,i.config.emulator)&&Ws(k,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=k,i.settings.appVerificationDisabledForTesting=!0,Yi(h)?(dm(`${u}//${h}${m}`),hm("Auth",!0)):mT()}function Ck(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function pT(r){const e=Ck(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:lb(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:lb(h)}}}function lb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function mT(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function gT(r,e){return ei(r,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function vT(r,e){return Md(r,"POST","/v1/accounts:signInWithPassword",Gi(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function yT(r,e){return Md(r,"POST","/v1/accounts:signInWithEmailLink",Gi(r,e))}async function bT(r,e){return Md(r,"POST","/v1/accounts:signInWithEmailLink",Gi(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jl extends bm{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Jl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Jl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ob(e,n,"signInWithPassword",vT);case"emailLink":return yT(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ob(e,i,"signUpPassword",gT);case"emailLink":return bT(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function eo(r,e){return Md(r,"POST","/v1/accounts:signInWithIdp",Gi(r,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wT="http://localhost";class $i extends bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,u=pm(n,["providerId","signInMethod"]);if(!i||!o)return null;const h=new $i(i,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,eo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:wT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kT(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ET(r){const e=Pl(jl(r)).link,n=e?Pl(jl(e)).deep_link_id:null,i=Pl(jl(r)).deep_link_id;return(i?Pl(jl(i)).link:null)||i||n||e||r}class wm{constructor(e){var n,i,o,u,h,p;const m=Pl(jl(e)),v=(n=m.apiKey)!==null&&n!==void 0?n:null,k=(i=m.oobCode)!==null&&i!==void 0?i:null,S=kT((o=m.mode)!==null&&o!==void 0?o:null);be(v&&k&&S,"argument-error"),this.apiKey=v,this.operation=S,this.code=k,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=m.lang)!==null&&h!==void 0?h:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=ET(e);try{return new wm(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,n){return Jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=wm.parseLink(n);return be(i,"argument-error"),Jl._fromEmailAndCode(e,i.code,i.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ik{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uu extends Ik{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class js extends uu{constructor(){super("facebook.com")}static credential(e){return $i._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ms extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $i._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ms.credential(n,i)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zs extends uu{constructor(){super("github.com")}static credential(e){return $i._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fs extends uu{constructor(){super("twitter.com")}static credential(e,n){return $i._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Fs.credential(n,i)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await $n._fromIdTokenResponse(e,i,o),h=ub(i);return new no({user:u,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=ub(i);return new no({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function ub(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fd extends Gn{constructor(e,n,i,o){var u;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new fd(e,n,i,o)}}function Tk(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(r,o,e,i):o})}async function ST(r,e,n=!1){const i=await Xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return no._forOperation(r,"link",i)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function xT(r,e,n=!1){const{auth:i}=r;if(Dn(i.app))return Promise.reject($s(i));const o="reauthenticate";try{const u=await Xl(r,Tk(i,o,e,r),n);be(u.idToken,i,"internal-error");const h=vm(u.idToken);be(h,i,"internal-error");const{sub:p}=h;return be(r.uid===p,i,"user-mismatch"),no._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&qn(i,"user-mismatch"),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _k(r,e,n=!1){if(Dn(r.app))return Promise.reject($s(r));const i="signIn",o=await Tk(r,i,e),u=await no._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(u.user),u}async function CT(r,e){return _k(mo(r),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function IT(r){const e=mo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function TT(r,e,n){return Dn(r.app)?Promise.reject($s(r)):CT(dt(r),go.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&IT(r),i})}function _T(r,e,n,i){return dt(r).onIdTokenChanged(e,n,i)}function NT(r,e,n){return dt(r).beforeAuthStateChanged(e,n)}function AT(r,e,n,i){return dt(r).onAuthStateChanged(e,n,i)}function RT(r){return dt(r).signOut()}const pd="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OT=1e3,LT=10;class Ak extends Nk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,m)=>{this.notifyListeners(h,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);XI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,LT):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},OT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ak.type="LOCAL";const DT=Ak;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rk extends Nk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Rk.type="SESSION";const Ok=Rk;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function PT(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Fd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async v=>v(n.origin,u)),m=await PT(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fd.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function km(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,m)=>{const v=km("",20);o.port1.start();const k=setTimeout(()=>{m(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(k),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(C.data.response);break;default:clearTimeout(k),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gr(){return window}function MT(r){gr().location.href=r}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lk(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function zT(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FT(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function UT(){return Lk()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Dk="firebaseLocalStorageDb",VT=1,md="firebaseLocalStorage",Pk="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ud(r,e){return r.transaction([md],e?"readwrite":"readonly").objectStore(md)}function BT(){const r=indexedDB.deleteDatabase(Dk);return new cu(r).toPromise()}function Pp(){const r=indexedDB.open(Dk,VT);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(md,{keyPath:Pk})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(md)?e(i):(i.close(),await BT(),e(await Pp()))})})}async function cb(r,e,n){const i=Ud(r,!0).put({[Pk]:e,value:n});return new cu(i).toPromise()}async function $T(r,e){const n=Ud(r,!1).get(e),i=await new cu(n).toPromise();return i===void 0?null:i.value}function db(r,e){const n=Ud(r,!0).delete(e);return new cu(n).toPromise()}const HT=800,KT=3;class jk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>KT)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fd._getInstance(UT()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zT(),!this.activeServiceWorker)return;this.sender=new jT(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pp();return await cb(e,pd,"1"),await db(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>cb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>$T(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>db(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ud(o,!1).getAll();return new cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jk.type="LOCAL";const WT=jk;new lu(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qT(r,e){return e?Qr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Em extends bm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YT(r){return _k(r.auth,new Em(r),r.bypassAuthState)}function QT(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),xT(n,new Em(r),r.bypassAuthState)}async function GT(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),ST(n,new Em(r),r.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mk{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YT;case"linkViaPopup":case"linkViaRedirect":return GT;case"reauthViaPopup":case"reauthViaRedirect":return QT;default:qn(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const XT=new lu(2e3,1e4);class Xa extends Mk{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XT.get())};e()}}Xa.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JT="pendingRedirect",Jc=new Map;class ZT extends Mk{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const n=await e_(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e_(r,e){const n=r_(e),i=n_(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function t_(r,e){Jc.set(r._key(),e)}function n_(r){return Qr(r._redirectPersistence)}function r_(r){return Xc(JT,r.config.apiKey,r.name)}async function s_(r,e,n=!1){if(Dn(r.app))return Promise.reject($s(r));const i=mo(r),o=qT(i,e),u=await new ZT(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const i_=10*60*1e3;class a_{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o_(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!zk(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i_&&this.cachedEventUids.clear(),this.cachedEventUids.has(hb(e))}saveEventToCache(e){this.cachedEventUids.add(hb(e)),this.lastProcessedEventTime=Date.now()}}function hb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zk({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o_(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zk(r);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function l_(r,e={}){return ei(r,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const u_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c_=/^https?/;async function d_(r){if(r.config.emulator)return;const{authorizedDomains:e}=await l_(r);for(const n of e)try{if(h_(n))return}catch{}qn(r,"unauthorized-domain")}function h_(r){const e=Lp(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!c_.test(n))return!1;if(u_.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const f_=new lu(3e4,6e4);function fb(){const r=gr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function p_(r){return new Promise((e,n)=>{var i,o,u;function h(){fb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fb(),n(mr(r,"network-request-failed"))},timeout:f_.get()})}if(!((o=(i=gr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gr().gapi)===null||u===void 0)&&u.load)h();else{const p=aT("iframefcb");return gr()[p]=()=>{gapi.load?h():n(mr(r,"network-request-failed"))},Sk(`${iT()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function m_(r){return Zc=Zc||p_(r),Zc}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const g_=new lu(5e3,15e3),v_="__/auth/iframe",y_="emulator/auth/iframe",b_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k_(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?gm(e,y_):`https://${r.config.authDomain}/${v_}`,i={apiKey:e.apiKey,appName:r.name,v:po},o=w_.get(r.config.apiHost);o&&(i.eid=o);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${ou(i).slice(1)}`}async function E_(r){const e=await m_(r),n=gr().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:k_(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b_,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const h=mr(r,"network-request-failed"),p=gr().setTimeout(()=>{u(h)},g_.get());function m(){gr().clearTimeout(p),o(i)}i.ping(m).then(m,()=>{u(h)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const S_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x_=500,C_=600,I_="_blank",T_="http://localhost";class pb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function __(r,e,n,i=x_,o=C_){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const m=Object.assign(Object.assign({},S_),{width:i.toString(),height:o.toString(),top:u,left:h}),v=Gt().toLowerCase();n&&(p=gk(v)?I_:n),pk(v)&&(e=e||T_,m.scrollbars="yes");const k=Object.entries(m).reduce((C,[D,O])=>`${C}${D}=${O},`,"");if(GI(v)&&p!=="_self")return N_(e||"",p),new pb(null);const S=window.open(e||"",p,k);be(S,r,"popup-blocked");try{S.focus()}catch{}return new pb(S)}function N_(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const A_="__/auth/handler",R_="emulator/auth/handler",O_=encodeURIComponent("fac");async function mb(r,e,n,i,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:po,eventId:o};if(e instanceof Ik){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",m2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[k,S]of Object.entries({}))h[k]=S}if(e instanceof uu){const k=e.getScopes().filter(S=>S!=="");k.length>0&&(h.scopes=k.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const k of Object.keys(p))p[k]===void 0&&delete p[k];const m=await r._getAppCheckToken(),v=m?`#${O_}=${encodeURIComponent(m)}`:"";return`${L_(r)}?${ou(p).slice(1)}${v}`}function L_({config:r}){return r.emulator?gm(r,R_):`https://${r.authDomain}/${A_}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gp="webStorageSupport";class D_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ok,this._completeRedirectFn=s_,this._overrideRedirectResult=t_}async _openPopup(e,n,i,o){var u;ts((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await mb(e,n,i,Lp(),o);return __(e,h,km())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await mb(e,n,i,Lp(),o);return MT(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ts(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await E_(e),i=new a_(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gp,{type:gp},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[gp];u!==void 0&&n(!!u),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d_(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kk()||mk()||ym()}}const P_=D_;var gb="@firebase/auth",vb="1.10.7";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class j_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function M_(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z_(r){Wn(new jn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ek(r)},v=new nT(i,o,u,m);return hT(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Wn(new jn("auth-internal",e=>{const n=mo(e.getProvider("auth").getImmediate());return(i=>new j_(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),on(gb,vb,M_(r)),on(gb,vb,"esm2017")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const F_=5*60,U_=Gw("authIdTokenMaxAge")||F_;let yb=null;const V_=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>U_)return;const o=n==null?void 0:n.token;yb!==o&&(yb=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function B_(r=jd()){const e=Zs(r,"auth");if(e.isInitialized())return e.getImmediate();const n=dT(r,{popupRedirectResolver:P_,persistence:[WT,DT,Ok]}),i=Gw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=V_(u.toString());NT(n,h,()=>h(n.currentUser)),_T(n,p=>h(p))}}const o=qw("auth");return o&&fT(n,`http://${o}`),n}function $_(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}rT({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const u=mr("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",$_().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z_("Browser");var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,Fk;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,I){function _(){}_.prototype=I.prototype,j.D=I.prototype,j.prototype=new _,j.prototype.constructor=j,j.C=function(M,T,R){for(var N=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)N[Je-2]=arguments[Je];return I.prototype[T].apply(M,N)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,I,_){_||(_=0);var M=Array(16);if(typeof I=="string")for(var T=0;16>T;++T)M[T]=I.charCodeAt(_++)|I.charCodeAt(_++)<<8|I.charCodeAt(_++)<<16|I.charCodeAt(_++)<<24;else for(T=0;16>T;++T)M[T]=I[_++]|I[_++]<<8|I[_++]<<16|I[_++]<<24;I=j.g[0],_=j.g[1],T=j.g[2];var R=j.g[3],N=I+(R^_&(T^R))+M[0]+3614090360&4294967295;I=_+(N<<7&4294967295|N>>>25),N=R+(T^I&(_^T))+M[1]+3905402710&4294967295,R=I+(N<<12&4294967295|N>>>20),N=T+(_^R&(I^_))+M[2]+606105819&4294967295,T=R+(N<<17&4294967295|N>>>15),N=_+(I^T&(R^I))+M[3]+3250441966&4294967295,_=T+(N<<22&4294967295|N>>>10),N=I+(R^_&(T^R))+M[4]+4118548399&4294967295,I=_+(N<<7&4294967295|N>>>25),N=R+(T^I&(_^T))+M[5]+1200080426&4294967295,R=I+(N<<12&4294967295|N>>>20),N=T+(_^R&(I^_))+M[6]+2821735955&4294967295,T=R+(N<<17&4294967295|N>>>15),N=_+(I^T&(R^I))+M[7]+4249261313&4294967295,_=T+(N<<22&4294967295|N>>>10),N=I+(R^_&(T^R))+M[8]+1770035416&4294967295,I=_+(N<<7&4294967295|N>>>25),N=R+(T^I&(_^T))+M[9]+2336552879&4294967295,R=I+(N<<12&4294967295|N>>>20),N=T+(_^R&(I^_))+M[10]+4294925233&4294967295,T=R+(N<<17&4294967295|N>>>15),N=_+(I^T&(R^I))+M[11]+2304563134&4294967295,_=T+(N<<22&4294967295|N>>>10),N=I+(R^_&(T^R))+M[12]+1804603682&4294967295,I=_+(N<<7&4294967295|N>>>25),N=R+(T^I&(_^T))+M[13]+4254626195&4294967295,R=I+(N<<12&4294967295|N>>>20),N=T+(_^R&(I^_))+M[14]+2792965006&4294967295,T=R+(N<<17&4294967295|N>>>15),N=_+(I^T&(R^I))+M[15]+1236535329&4294967295,_=T+(N<<22&4294967295|N>>>10),N=I+(T^R&(_^T))+M[1]+4129170786&4294967295,I=_+(N<<5&4294967295|N>>>27),N=R+(_^T&(I^_))+M[6]+3225465664&4294967295,R=I+(N<<9&4294967295|N>>>23),N=T+(I^_&(R^I))+M[11]+643717713&4294967295,T=R+(N<<14&4294967295|N>>>18),N=_+(R^I&(T^R))+M[0]+3921069994&4294967295,_=T+(N<<20&4294967295|N>>>12),N=I+(T^R&(_^T))+M[5]+3593408605&4294967295,I=_+(N<<5&4294967295|N>>>27),N=R+(_^T&(I^_))+M[10]+38016083&4294967295,R=I+(N<<9&4294967295|N>>>23),N=T+(I^_&(R^I))+M[15]+3634488961&4294967295,T=R+(N<<14&4294967295|N>>>18),N=_+(R^I&(T^R))+M[4]+3889429448&4294967295,_=T+(N<<20&4294967295|N>>>12),N=I+(T^R&(_^T))+M[9]+568446438&4294967295,I=_+(N<<5&4294967295|N>>>27),N=R+(_^T&(I^_))+M[14]+3275163606&4294967295,R=I+(N<<9&4294967295|N>>>23),N=T+(I^_&(R^I))+M[3]+4107603335&4294967295,T=R+(N<<14&4294967295|N>>>18),N=_+(R^I&(T^R))+M[8]+1163531501&4294967295,_=T+(N<<20&4294967295|N>>>12),N=I+(T^R&(_^T))+M[13]+2850285829&4294967295,I=_+(N<<5&4294967295|N>>>27),N=R+(_^T&(I^_))+M[2]+4243563512&4294967295,R=I+(N<<9&4294967295|N>>>23),N=T+(I^_&(R^I))+M[7]+1735328473&4294967295,T=R+(N<<14&4294967295|N>>>18),N=_+(R^I&(T^R))+M[12]+2368359562&4294967295,_=T+(N<<20&4294967295|N>>>12),N=I+(_^T^R)+M[5]+4294588738&4294967295,I=_+(N<<4&4294967295|N>>>28),N=R+(I^_^T)+M[8]+2272392833&4294967295,R=I+(N<<11&4294967295|N>>>21),N=T+(R^I^_)+M[11]+1839030562&4294967295,T=R+(N<<16&4294967295|N>>>16),N=_+(T^R^I)+M[14]+4259657740&4294967295,_=T+(N<<23&4294967295|N>>>9),N=I+(_^T^R)+M[1]+2763975236&4294967295,I=_+(N<<4&4294967295|N>>>28),N=R+(I^_^T)+M[4]+1272893353&4294967295,R=I+(N<<11&4294967295|N>>>21),N=T+(R^I^_)+M[7]+4139469664&4294967295,T=R+(N<<16&4294967295|N>>>16),N=_+(T^R^I)+M[10]+3200236656&4294967295,_=T+(N<<23&4294967295|N>>>9),N=I+(_^T^R)+M[13]+681279174&4294967295,I=_+(N<<4&4294967295|N>>>28),N=R+(I^_^T)+M[0]+3936430074&4294967295,R=I+(N<<11&4294967295|N>>>21),N=T+(R^I^_)+M[3]+3572445317&4294967295,T=R+(N<<16&4294967295|N>>>16),N=_+(T^R^I)+M[6]+76029189&4294967295,_=T+(N<<23&4294967295|N>>>9),N=I+(_^T^R)+M[9]+3654602809&4294967295,I=_+(N<<4&4294967295|N>>>28),N=R+(I^_^T)+M[12]+3873151461&4294967295,R=I+(N<<11&4294967295|N>>>21),N=T+(R^I^_)+M[15]+530742520&4294967295,T=R+(N<<16&4294967295|N>>>16),N=_+(T^R^I)+M[2]+3299628645&4294967295,_=T+(N<<23&4294967295|N>>>9),N=I+(T^(_|~R))+M[0]+4096336452&4294967295,I=_+(N<<6&4294967295|N>>>26),N=R+(_^(I|~T))+M[7]+1126891415&4294967295,R=I+(N<<10&4294967295|N>>>22),N=T+(I^(R|~_))+M[14]+2878612391&4294967295,T=R+(N<<15&4294967295|N>>>17),N=_+(R^(T|~I))+M[5]+4237533241&4294967295,_=T+(N<<21&4294967295|N>>>11),N=I+(T^(_|~R))+M[12]+1700485571&4294967295,I=_+(N<<6&4294967295|N>>>26),N=R+(_^(I|~T))+M[3]+2399980690&4294967295,R=I+(N<<10&4294967295|N>>>22),N=T+(I^(R|~_))+M[10]+4293915773&4294967295,T=R+(N<<15&4294967295|N>>>17),N=_+(R^(T|~I))+M[1]+2240044497&4294967295,_=T+(N<<21&4294967295|N>>>11),N=I+(T^(_|~R))+M[8]+1873313359&4294967295,I=_+(N<<6&4294967295|N>>>26),N=R+(_^(I|~T))+M[15]+4264355552&4294967295,R=I+(N<<10&4294967295|N>>>22),N=T+(I^(R|~_))+M[6]+2734768916&4294967295,T=R+(N<<15&4294967295|N>>>17),N=_+(R^(T|~I))+M[13]+1309151649&4294967295,_=T+(N<<21&4294967295|N>>>11),N=I+(T^(_|~R))+M[4]+4149444226&4294967295,I=_+(N<<6&4294967295|N>>>26),N=R+(_^(I|~T))+M[11]+3174756917&4294967295,R=I+(N<<10&4294967295|N>>>22),N=T+(I^(R|~_))+M[2]+718787259&4294967295,T=R+(N<<15&4294967295|N>>>17),N=_+(R^(T|~I))+M[9]+3951481745&4294967295,j.g[0]=j.g[0]+I&4294967295,j.g[1]=j.g[1]+(T+(N<<21&4294967295|N>>>11))&4294967295,j.g[2]=j.g[2]+T&4294967295,j.g[3]=j.g[3]+R&4294967295}i.prototype.u=function(j,I){I===void 0&&(I=j.length);for(var _=I-this.blockSize,M=this.B,T=this.h,R=0;R<I;){if(T==0)for(;R<=_;)o(this,j,R),R+=this.blockSize;if(typeof j=="string"){for(;R<I;)if(M[T++]=j.charCodeAt(R++),T==this.blockSize){o(this,M),T=0;break}}else for(;R<I;)if(M[T++]=j[R++],T==this.blockSize){o(this,M),T=0;break}}this.h=T,this.o+=I},i.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var I=1;I<j.length-8;++I)j[I]=0;var _=8*this.o;for(I=j.length-8;I<j.length;++I)j[I]=_&255,_/=256;for(this.u(j),j=Array(16),I=_=0;4>I;++I)for(var M=0;32>M;M+=8)j[_++]=this.g[I]>>>M&255;return j};function u(j,I){var _=p;return Object.prototype.hasOwnProperty.call(_,j)?_[j]:_[j]=I(j)}function h(j,I){this.h=I;for(var _=[],M=!0,T=j.length-1;0<=T;T--){var R=j[T]|0;M&&R==I||(_[T]=R,M=!1)}this.g=_}var p={};function m(j){return-128<=j&&128>j?u(j,function(I){return new h([I|0],0>I?-1:0)}):new h([j|0],0>j?-1:0)}function v(j){if(isNaN(j)||!isFinite(j))return S;if(0>j)return z(v(-j));for(var I=[],_=1,M=0;j>=_;M++)I[M]=j/_|0,_*=4294967296;return new h(I,0)}function k(j,I){if(j.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(j.charAt(0)=="-")return z(k(j.substring(1),I));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=v(Math.pow(I,8)),M=S,T=0;T<j.length;T+=8){var R=Math.min(8,j.length-T),N=parseInt(j.substring(T,T+R),I);8>R?(R=v(Math.pow(I,R)),M=M.j(R).add(v(N))):(M=M.j(_),M=M.add(v(N)))}return M}var S=m(0),C=m(1),D=m(16777216);r=h.prototype,r.m=function(){if(K(this))return-z(this).m();for(var j=0,I=1,_=0;_<this.g.length;_++){var M=this.i(_);j+=(0<=M?M:4294967296+M)*I,I*=4294967296}return j},r.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(O(this))return"0";if(K(this))return"-"+z(this).toString(j);for(var I=v(Math.pow(j,6)),_=this,M="";;){var T=re(_,I).g;_=Q(_,T.j(I));var R=((0<_.g.length?_.g[0]:_.h)>>>0).toString(j);if(_=T,O(_))return R+M;for(;6>R.length;)R="0"+R;M=R+M}},r.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function O(j){if(j.h!=0)return!1;for(var I=0;I<j.g.length;I++)if(j.g[I]!=0)return!1;return!0}function K(j){return j.h==-1}r.l=function(j){return j=Q(this,j),K(j)?-1:O(j)?0:1};function z(j){for(var I=j.g.length,_=[],M=0;M<I;M++)_[M]=~j.g[M];return new h(_,~j.h).add(C)}r.abs=function(){return K(this)?z(this):this},r.add=function(j){for(var I=Math.max(this.g.length,j.g.length),_=[],M=0,T=0;T<=I;T++){var R=M+(this.i(T)&65535)+(j.i(T)&65535),N=(R>>>16)+(this.i(T)>>>16)+(j.i(T)>>>16);M=N>>>16,R&=65535,N&=65535,_[T]=N<<16|R}return new h(_,_[_.length-1]&-2147483648?-1:0)};function Q(j,I){return j.add(z(I))}r.j=function(j){if(O(this)||O(j))return S;if(K(this))return K(j)?z(this).j(z(j)):z(z(this).j(j));if(K(j))return z(this.j(z(j)));if(0>this.l(D)&&0>j.l(D))return v(this.m()*j.m());for(var I=this.g.length+j.g.length,_=[],M=0;M<2*I;M++)_[M]=0;for(M=0;M<this.g.length;M++)for(var T=0;T<j.g.length;T++){var R=this.i(M)>>>16,N=this.i(M)&65535,Je=j.i(T)>>>16,qe=j.i(T)&65535;_[2*M+2*T]+=N*qe,F(_,2*M+2*T),_[2*M+2*T+1]+=R*qe,F(_,2*M+2*T+1),_[2*M+2*T+1]+=N*Je,F(_,2*M+2*T+1),_[2*M+2*T+2]+=R*Je,F(_,2*M+2*T+2)}for(M=0;M<I;M++)_[M]=_[2*M+1]<<16|_[2*M];for(M=I;M<2*I;M++)_[M]=0;return new h(_,0)};function F(j,I){for(;(j[I]&65535)!=j[I];)j[I+1]+=j[I]>>>16,j[I]&=65535,I++}function ie(j,I){this.g=j,this.h=I}function re(j,I){if(O(I))throw Error("division by zero");if(O(j))return new ie(S,S);if(K(j))return I=re(z(j),I),new ie(z(I.g),z(I.h));if(K(I))return I=re(j,z(I)),new ie(z(I.g),I.h);if(30<j.g.length){if(K(j)||K(I))throw Error("slowDivide_ only works with positive integers.");for(var _=C,M=I;0>=M.l(j);)_=ue(_),M=ue(M);var T=ke(_,1),R=ke(M,1);for(M=ke(M,2),_=ke(_,2);!O(M);){var N=R.add(M);0>=N.l(j)&&(T=T.add(_),R=N),M=ke(M,1),_=ke(_,1)}return I=Q(j,T.j(I)),new ie(T,I)}for(T=S;0<=j.l(I);){for(_=Math.max(1,Math.floor(j.m()/I.m())),M=Math.ceil(Math.log(_)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),R=v(_),N=R.j(I);K(N)||0<N.l(j);)_-=M,R=v(_),N=R.j(I);O(R)&&(R=C),T=T.add(R),j=Q(j,N)}return new ie(T,j)}r.A=function(j){return re(this,j).h},r.and=function(j){for(var I=Math.max(this.g.length,j.g.length),_=[],M=0;M<I;M++)_[M]=this.i(M)&j.i(M);return new h(_,this.h&j.h)},r.or=function(j){for(var I=Math.max(this.g.length,j.g.length),_=[],M=0;M<I;M++)_[M]=this.i(M)|j.i(M);return new h(_,this.h|j.h)},r.xor=function(j){for(var I=Math.max(this.g.length,j.g.length),_=[],M=0;M<I;M++)_[M]=this.i(M)^j.i(M);return new h(_,this.h^j.h)};function ue(j){for(var I=j.g.length+1,_=[],M=0;M<I;M++)_[M]=j.i(M)<<1|j.i(M-1)>>>31;return new h(_,j.h)}function ke(j,I){var _=I>>5;I%=32;for(var M=j.g.length-_,T=[],R=0;R<M;R++)T[R]=0<I?j.i(R+_)>>>I|j.i(R+_+1)<<32-I:j.i(R+_);return new h(T,j.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Fk=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=k,Hs=h}).apply(typeof bb<"u"?bb:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uk,Ml,Vk,ed,jp,Bk,$k,Hk;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,b){return c==Array.prototype||c==Object.prototype||(c[g]=b.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function o(c,g){if(g)e:{var b=i;c=c.split(".");for(var x=0;x<c.length-1;x++){var V=c[x];if(!(V in b))break e;b=b[V]}c=c[c.length-1],x=b[c],g=g(x),g!=x&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var b=0,x=!1,V={next:function(){if(!x&&b<c.length){var Y=b++;return{value:g(Y,c[Y]),done:!1}}return x=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function m(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function v(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function k(c,g,b){return c.call.apply(c.bind,arguments)}function S(c,g,b){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,x),c.apply(g,V)}}return function(){return c.apply(g,arguments)}}function C(c,g,b){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?k:S,C.apply(null,arguments)}function D(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function O(c,g){function b(){}b.prototype=g.prototype,c.aa=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(x,V,Y){for(var ae=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ae[Me-2]=arguments[Me];return g.prototype[V].apply(x,ae)}}function K(c){const g=c.length;if(0<g){const b=Array(g);for(let x=0;x<g;x++)b[x]=c[x];return b}return[]}function z(c,g){for(let b=1;b<arguments.length;b++){const x=arguments[b];if(m(x)){const V=c.length||0,Y=x.length||0;c.length=V+Y;for(let ae=0;ae<Y;ae++)c[V+ae]=x[ae]}else c.push(x)}}class Q{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ue=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function ke(c,g,b){for(const x in c)g.call(b,c[x],x,c)}function j(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function I(c){const g={};for(const b in c)g[b]=c[b];return g}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,g){let b,x;for(let V=1;V<arguments.length;V++){x=arguments[V];for(b in x)c[b]=x[b];for(let Y=0;Y<_.length;Y++)b=_[Y],Object.prototype.hasOwnProperty.call(x,b)&&(c[b]=x[b])}}function T(c){var g=1;c=c.split(":");const b=[];for(;0<g&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function R(c){p.setTimeout(()=>{throw c},0)}function N(){var c=Fe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Je{constructor(){this.h=this.g=null}add(g,b){const x=qe.get();x.set(g,b),this.h?this.h.next=x:this.g=x,this.h=x}}var qe=new Q(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,pe=!1,Fe=new Je,L=()=>{const c=p.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(b){R(b)}var g=qe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}pe=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};p.addEventListener("test",b,g),p.removeEventListener("test",b,g)}catch{}return c}();function Ne(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ue){e:{try{re(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement);this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}O(Ne,se);var Se={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),et=0;function Xn(c,g,b,x,V){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!x,this.ha=V,this.key=++et,this.da=this.fa=!1}function as(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kr(c){this.src=c,this.g={},this.h=0}kr.prototype.add=function(c,g,b,x,V){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ae=si(c,g,x,V);return-1<ae?(g=c[ae],b||(g.fa=!1)):(g=new Xn(g,this.src,Y,!!x,V),g.fa=b,c.push(g)),g};function ri(c,g){var b=g.type;if(b in c.g){var x=c.g[b],V=Array.prototype.indexOf.call(x,g,void 0),Y;(Y=0<=V)&&Array.prototype.splice.call(x,V,1),Y&&(as(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function si(c,g,b,x){for(var V=0;V<c.length;++V){var Y=c[V];if(!Y.da&&Y.listener==g&&Y.capture==!!b&&Y.ha==x)return V}return-1}var ii="closure_lm_"+(1e6*Math.random()|0),So={};function vu(c,g,b,x,V){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)vu(c,g[Y],b,x,V);return null}return b=yu(b),c&&c[_t]?c.K(g,b,v(x)?!!x.capture:!1,V):kn(c,g,b,!1,x,V)}function kn(c,g,b,x,V,Y){if(!g)throw Error("Invalid event type");var ae=v(V)?!!V.capture:!!V,Me=ta(c);if(Me||(c[ii]=Me=new kr(c)),b=Me.add(g,b,x,ae,Y),b.proxy)return b;if(x=ih(),b.proxy=x,x.src=c,x.listener=b,c.addEventListener)ge||(V=ae),V===void 0&&(V=!1),c.addEventListener(g.toString(),x,V);else if(c.attachEvent)c.attachEvent(ai(g.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ih(){function c(b){return g.call(c.src,c.listener,b)}const g=ah;return c}function xo(c,g,b,x,V){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)xo(c,g[Y],b,x,V);else x=v(x)?!!x.capture:!!x,b=yu(b),c&&c[_t]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],b=si(Y,b,x,V),-1<b&&(as(Y[b]),Array.prototype.splice.call(Y,b,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=ta(c))&&(g=c.g[g.toString()],c=-1,g&&(c=si(g,b,x,V)),(b=-1<c?g[c]:null)&&ea(b))}function ea(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[_t])ri(g.i,c);else{var b=c.type,x=c.proxy;g.removeEventListener?g.removeEventListener(b,x,c.capture):g.detachEvent?g.detachEvent(ai(b),x):g.addListener&&g.removeListener&&g.removeListener(x),(b=ta(g))?(ri(b,c),b.h==0&&(b.src=null,g[ii]=null)):as(c)}}}function ai(c){return c in So?So[c]:So[c]="on"+c}function ah(c,g){if(c.da)c=!0;else{g=new Ne(g,this);var b=c.listener,x=c.ha||c.src;c.fa&&ea(c),c=b.call(x,g)}return c}function ta(c){return c=c[ii],c instanceof kr?c:null}var Co="__closure_events_fn_"+(1e9*Math.random()>>>0);function yu(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(g){return c.handleEvent(g)}),c[Co])}function lt(){le.call(this),this.i=new kr(this),this.M=this,this.F=null}O(lt,le),lt.prototype[_t]=!0,lt.prototype.removeEventListener=function(c,g,b,x){xo(this,c,g,b,x)};function He(c,g){var b,x=c.F;if(x)for(b=[];x;x=x.F)b.push(x);if(c=c.M,x=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var V=g;g=new se(x,c),M(g,V)}if(V=!0,b)for(var Y=b.length-1;0<=Y;Y--){var ae=g.g=b[Y];V=cn(ae,x,!0,g)&&V}if(ae=g.g=c,V=cn(ae,x,!0,g)&&V,V=cn(ae,x,!1,g)&&V,b)for(Y=0;Y<b.length;Y++)ae=g.g=b[Y],V=cn(ae,x,!1,g)&&V}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var b=c.g[g],x=0;x<b.length;x++)as(b[x]);delete c.g[g],c.h--}}this.F=null},lt.prototype.K=function(c,g,b,x){return this.i.add(String(c),g,!1,b,x)},lt.prototype.L=function(c,g,b,x){return this.i.add(String(c),g,!0,b,x)};function cn(c,g,b,x){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,Y=0;Y<g.length;++Y){var ae=g[Y];if(ae&&!ae.da&&ae.capture==b){var Me=ae.listener,St=ae.ha||ae.src;ae.fa&&ri(c.i,ae),V=Me.call(St,x)!==!1&&V}}return V&&!x.defaultPrevented}function Ht(c,g,b){if(typeof c=="function")b&&(c=C(c,b));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(c,g||0)}function bu(c){c.g=Ht(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class oh extends le{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(c){le.call(this),this.h=c,this.g={}}O(oi,le);var li=[];function ui(c){ke(c.g,function(g,b){this.g.hasOwnProperty(b)&&ea(g)},c),c.g={}}oi.prototype.N=function(){oi.aa.N.call(this),ui(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=p.JSON.stringify,na=p.JSON.parse,ci=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Io(){}Io.prototype.h=null;function To(c){return c.h||(c.h=c.i())}function _o(){}var Er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){se.call(this,"d")}O(Sr,se);function No(){se.call(this,"c")}O(No,se);var Jn={},Ao=null;function os(){return Ao=Ao||new lt}Jn.La="serverreachability";function ra(c){se.call(this,Jn.La,c)}O(ra,se);function ls(c){const g=os();He(g,new ra(g))}Jn.STAT_EVENT="statevent";function wu(c,g){se.call(this,Jn.STAT_EVENT,c),this.stat=g}O(wu,se);function rt(c){const g=os();He(g,new wu(g,c))}Jn.Ma="timingevent";function kt(c,g){se.call(this,Jn.Ma,c),this.size=g}O(kt,se);function gt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},g)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function Ro(c,g,b,x,V,Y){c.info(function(){if(c.g)if(Y)for(var ae="",Me=Y.split("&"),St=0;St<Me.length;St++){var Ue=Me[St].split("=");if(1<Ue.length){var At=Ue[0];Ue=Ue[1];var jt=At.split("_");ae=2<=jt.length&&jt[1]=="type"?ae+(At+"="+Ue+"&"):ae+(At+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+x+") [attempt "+V+"]: "+g+`
`+b+`
`+ae})}function lh(c,g,b,x,V,Y,ae){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+V+"]: "+g+`
`+b+`
`+Y+" "+ae})}function us(c,g,b,x){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+di(c,b)+(x?" "+x:"")})}function ku(c,g){c.info(function(){return"TIMEOUT: "+g})}En.prototype.info=function(){};function di(c,g){if(!c.g)return g;if(!g)return null;try{var b=JSON.parse(g);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var x=b[c];if(!(2>x.length)){var V=x[1];if(Array.isArray(V)&&!(1>V.length)){var Y=V[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<V.length;ae++)V[ae]=""}}}}return Mn(b)}catch{return g}}var cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function er(){}O(er,Io),er.prototype.g=function(){return new XMLHttpRequest},er.prototype.i=function(){return{}},Zn=new er;function Xt(c,g,b,x){this.j=c,this.i=g,this.l=b,this.R=x||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var Oo={},sa={};function zn(c,g,b){c.L=1,c.v=gi(dn(g)),c.m=b,c.P=!0,Cr(c,null)}function Cr(c,g){c.F=Date.now(),hi(c),c.A=dn(c.v);var b=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),zo(b.i,"t",x),c.C=0,b=c.j.J,c.h=new ht,c.g=Mu(c.j,b?g:null,!c.m),0<c.O&&(c.M=new oh(C(c.Y,c,c.g),c.O)),g=c.U,b=c.g,x=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(li[0]=V.toString()),V=li);for(var Y=0;Y<V.length;Y++){var ae=vu(b,V[Y],x||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ls(),Ro(c.i,c.u,c.A,c.l,c.R,c.m)}Xt.prototype.ca=function(c){c=c.target;const g=this.M;g&&In(c)==3?g.j():this.Y(c)},Xt.prototype.Y=function(c){try{if(c==this.g)e:{const jt=In(this.g);var g=this.g.Ba();const Lr=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||Nu(this.g)))){this.J||jt!=4||g==7||(g==8||0>=Lr?ls(3):ls(2)),ds(this);var b=this.g.Z();this.X=b;t:if(Eu(this)){var x=Nu(this.g);c="";var V=x.length,Y=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),tr(this);var ae="";break t}this.h.i=new p.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,c+=this.h.i.decode(x[g],{stream:!(Y&&g==V-1)});x.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=b==200,lh(this.i,this.u,this.A,this.l,this.R,jt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,St=this.g;if((Me=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Me)){var Ue=Me;break t}}Ue=null}if(b=Ue)us(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fi(this,b);else{this.o=!1,this.s=3,rt(12),Pt(this),tr(this);break e}}if(this.P){b=!0;let Mt;for(;!this.J&&this.C<ae.length;)if(Mt=Su(this,ae),Mt==sa){jt==4&&(this.s=4,rt(14),b=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Oo){this.s=4,rt(15),us(this.i,this.l,ae,"[Invalid Chunk]"),b=!1;break}else us(this.i,this.l,Mt,null),fi(this,Mt);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||ae.length!=0||this.h.h||(this.s=1,rt(16),b=!1),this.o=this.o&&b,!b)us(this.i,this.l,ae,"[Invalid Chunked Response]"),Pt(this),tr(this);else if(0<ae.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),xi(At),At.M=!0,rt(11))}}else us(this.i,this.l,ae,null),fi(this,ae);jt==4&&Pt(this),this.o&&!this.J&&(jt==4?Du(this.j,this):(this.o=!1,hi(this)))}else fh(this.g),b==400&&0<ae.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Pt(this),tr(this)}}}catch{}finally{}};function Eu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Su(c,g){var b=c.C,x=g.indexOf(`
`,b);return x==-1?sa:(b=Number(g.substring(b,x)),isNaN(b)?Oo:(x+=1,x+b>g.length?sa:(g=g.slice(x,x+b),c.C=x+b,g)))}Xt.prototype.cancel=function(){this.J=!0,Pt(this)};function hi(c){c.S=Date.now()+c.I,xu(c,c.I)}function xu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(C(c.ba,c),g)}function ds(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Xt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ku(this.i,this.A),this.L!=2&&(ls(),rt(17)),Pt(this),this.s=2,tr(this)):xu(this,this.S-c)};function tr(c){c.j.G==0||c.J||Du(c.j,c)}function Pt(c){ds(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ui(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function fi(c,g){try{var b=c.j;if(b.G!=0&&(b.g==c||Lo(b.h,c))){if(!c.K&&Lo(b.h,c)&&b.G==3){try{var x=b.Da.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var V=x;if(V[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)ga(b),pa(b);else break e;$o(b),rt(18)}}else b.za=V[1],0<b.za-b.T&&37500>V[2]&&b.F&&b.v==0&&!b.C&&(b.C=gt(C(b.Za,b),6e3));if(1>=aa(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Or(b,11)}else if((c.K||b.g==c)&&ga(b),!F(g))for(V=b.Da.g.parse(g),g=0;g<V.length;g++){let Ue=V[g];if(b.T=Ue[0],Ue=Ue[1],b.G==2)if(Ue[0]=="c"){b.K=Ue[1],b.ia=Ue[2];const At=Ue[3];At!=null&&(b.la=At,b.j.info("VER="+b.la));const jt=Ue[4];jt!=null&&(b.Aa=jt,b.j.info("SVER="+b.Aa));const Lr=Ue[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(x=1.5*Lr,b.L=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Mt=c.g;if(Mt){const lr=Mt.g?Mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lr){var Y=x.h;Y.g||lr.indexOf("spdy")==-1&&lr.indexOf("quic")==-1&&lr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(oa(Y,Y.h),Y.h=null))}if(x.D){const Ko=Mt.g?Mt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(x.ya=Ko,Ye(x.I,x.D,Ko))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),x=b;var ae=c;if(x.qa=ju(x,x.J?x.ia:null,x.W),ae.K){Jt(x.h,ae);var Me=ae,St=x.L;St&&(Me.I=St),Me.B&&(ds(Me),hi(Me)),x.g=ae}else Ou(x);0<b.i.length&&ma(b)}else Ue[0]!="stop"&&Ue[0]!="close"||Or(b,7);else b.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Or(b,7):Vo(b):Ue[0]!="noop"&&b.l&&b.l.ta(Ue),b.v=0)}}ls(4)}catch{}}var Cu=class{constructor(c,g){this.g=c,this.map=g}};function Ir(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ia(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function aa(c){return c.h?1:c.g?c.g.size:0}function Lo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function oa(c,g){c.g?c.g.add(g):c.h=g}function Jt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ir.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.D);return g}return K(c.i)}function uh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var g=[],b=c.length,x=0;x<b;x++)g.push(c[x]);return g}g=[],b=0;for(x in c)g[b++]=c[x];return g}function la(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var g=[];c=c.length;for(var b=0;b<c;b++)g.push(b);return g}g=[],b=0;for(const x in c)g[b++]=x;return g}}}function Po(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var b=la(c),x=uh(c),V=x.length,Y=0;Y<V;Y++)g.call(void 0,x[Y],b&&b[Y],c)}var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ch(c,g){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var x=c[b].indexOf("="),V=null;if(0<=x){var Y=c[b].substring(0,x);V=c[b].substring(x+1)}else Y=c[b];g(Y,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,mi(this,c.j),this.o=c.o,this.g=c.g,hs(this,c.s),this.l=c.l;var g=c.i,b=new _r;b.i=g.i,g.g&&(b.g=new Map(g.g),b.h=g.h),Tr(this,b),this.m=c.m}else c&&(g=String(c).match(pi))?(this.h=!1,mi(this,g[1]||"",!0),this.o=Sn(g[2]||""),this.g=Sn(g[3]||"",!0),hs(this,g[4]),this.l=Sn(g[5]||"",!0),Tr(this,g[6]||"",!0),this.m=Sn(g[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}Et.prototype.toString=function(){var c=[],g=this.j;g&&c.push(vi(g,jo,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(vi(g,jo,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(vi(b,b.charAt(0)=="/"?dh:Mo,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",vi(b,ua)),c.join("")};function dn(c){return new Et(c)}function mi(c,g,b){c.j=b?Sn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function hs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Tr(c,g,b){g instanceof _r?(c.i=g,Tu(c.i,c.h)):(b||(g=vi(g,hh)),c.i=new _r(g,c.h))}function Ye(c,g,b){c.i.set(g,b)}function gi(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Sn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vi(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,Iu),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var jo=/[#\/\?@]/g,Mo=/[#\?:]/g,dh=/[#\?]/g,hh=/[#\?@]/g,ua=/#/g;function _r(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&ch(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}r=_r.prototype,r.add=function(c,g){xn(this),this.i=null,c=nr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function Nr(c,g){xn(c),g=nr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ar(c,g){return xn(c),g=nr(c,g),c.g.has(g)}r.forEach=function(c,g){xn(this),this.g.forEach(function(b,x){b.forEach(function(V){c.call(g,V,x,this)},this)},this)},r.na=function(){xn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),b=[];for(let x=0;x<g.length;x++){const V=c[x];for(let Y=0;Y<V.length;Y++)b.push(g[x])}return b},r.V=function(c){xn(this);let g=[];if(typeof c=="string")Ar(this,c)&&(g=g.concat(this.g.get(nr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)g=g.concat(c[b])}return g},r.set=function(c,g){return xn(this),this.i=null,c=nr(this,c),Ar(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function zo(c,g,b){Nr(c,g),0<b.length&&(c.i=null,c.g.set(nr(c,g),K(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var b=0;b<g.length;b++){var x=g[b];const Y=encodeURIComponent(String(x)),ae=this.V(x);for(x=0;x<ae.length;x++){var V=Y;ae[x]!==""&&(V+="="+encodeURIComponent(String(ae[x]))),c.push(V)}}return this.i=c.join("&")};function nr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Tu(c,g){g&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(b,x){var V=x.toLowerCase();x!=V&&(Nr(this,x),zo(this,V,b))},c)),c.j=g}function yi(c,g){const b=new En;if(p.Image){const x=new Image;x.onload=D(Cn,b,"TestLoadImage: loaded",!0,g,x),x.onerror=D(Cn,b,"TestLoadImage: error",!1,g,x),x.onabort=D(Cn,b,"TestLoadImage: abort",!1,g,x),x.ontimeout=D(Cn,b,"TestLoadImage: timeout",!1,g,x),p.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else g(!1)}function Fn(c,g){const b=new En,x=new AbortController,V=setTimeout(()=>{x.abort(),Cn(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:x.signal}).then(Y=>{clearTimeout(V),Y.ok?Cn(b,"TestPingServer: ok",!0,g):Cn(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Cn(b,"TestPingServer: error",!1,g)})}function Cn(c,g,b,x,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),x(b)}catch{}}function bi(){this.g=new ci}function rr(c,g,b){const x=b||"";try{Po(c,function(V,Y){let ae=V;v(V)&&(ae=Mn(V)),g.push(x+Y+"="+encodeURIComponent(ae))})}catch(V){throw g.push(x+"type="+encodeURIComponent("_badmap")),V}}function fs(c){this.l=c.Ub||null,this.j=c.eb||!1}O(fs,Io),fs.prototype.g=function(){return new Rr(this.l,this.j)},fs.prototype.i=function(c){return function(){return c}}({});function Rr(c,g){lt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Rr,lt),r=Rr.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ir(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?sr(this):ir(this),this.readyState==3&&Fo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,sr(this))},r.Qa=function(c){this.g&&(this.response=c,sr(this))},r.ga=function(){this.g&&sr(this)};function sr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ir(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uo(c){let g="";return ke(c,function(b,x){g+=x,g+=":",g+=b,g+=`\r
`}),g}function Nt(c,g,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=Uo(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):Ye(c,g,b))}function Be(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Be,lt);var ca=/^https?$/i,wi=["POST","PUT"];r=Be.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?To(this.o):To(Zn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){_u(this,Y);return}if(c=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var V in x)b.set(V,x[V]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())b.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),V=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(wi,g,void 0))||x||V||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of b)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ki(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){_u(this,Y)}};function _u(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,da(c),ar(c)}function da(c){c.A||(c.A=!0,He(c,"complete"),He(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,He(this,"complete"),He(this,"abort"),ar(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),Be.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},r.bb=function(){ha(this)};function ha(c){if(c.h&&typeof h<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Ht(c.Ea,0,c);else if(He(c,"readystatechange"),In(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var x;if(x=ae===0){var V=String(c.D).match(pi)[1]||null;!V&&p.self&&p.self.location&&(V=p.self.location.protocol.slice(0,-1)),x=!ca.test(V?V.toLowerCase():"")}b=x}if(b)He(c,"complete"),He(c,"success");else{c.m=6;try{var Y=2<In(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",da(c)}}finally{ar(c)}}}}function ar(c,g){if(c.g){ki(c);const b=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||He(c,"ready");try{b.onreadystatechange=x}catch{}}}function ki(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),na(g)}};function Nu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fh(c){const g={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(F(c[x]))continue;var b=T(c[x]);const V=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=g[V]||[];g[V]=Y,Y.push(b)}j(g,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function fa(c){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ei("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ei("baseRetryDelayMs",5e3,c),this.cb=Ei("retryDelaySeedMs",1e4,c),this.Wa=Ei("forwardChannelMaxRetries",2,c),this.wa=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ir(c&&c.concurrentRequestLimit),this.Da=new bi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=fa.prototype,r.la=8,r.G=1,r.connect=function(c,g,b,x){rt(0),this.W=c,this.H=g||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.I=ju(this,null,this.W),ma(this)};function Vo(c){if(Au(c),c.G==3){var g=c.U++,b=dn(c.I);if(Ye(b,"SID",c.K),Ye(b,"RID",g),Ye(b,"TYPE","terminate"),Si(c,b),g=new Xt(c,c.j,g),g.L=2,g.v=gi(dn(b)),b=!1,p.navigator&&p.navigator.sendBeacon)try{b=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!b&&p.Image&&(new Image().src=g.v,b=!0),b||(g.g=Mu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),hi(g)}Pu(c)}function pa(c){c.g&&(xi(c),c.g.cancel(),c.g=null)}function Au(c){pa(c),c.u&&(p.clearTimeout(c.u),c.u=null),ga(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function ma(c){if(!ia(c.h)&&!c.s){c.s=!0;var g=c.Ga;oe||L(),pe||(oe(),pe=!0),Fe.add(g,c),c.B=0}}function ph(c,g){return aa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(C(c.Ga,c,g),Ho(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new Xt(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=I(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(V.H=Y,Y=null),this.P)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(g+=x,4096<g){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Ru(this,V,g),b=dn(this.I),Ye(b,"RID",c),Ye(b,"CVER",22),this.D&&Ye(b,"X-HTTP-Session-Id",this.D),Si(this,b),Y&&(this.O?g="headers="+encodeURIComponent(String(Uo(Y)))+"&"+g:this.m&&Nt(b,this.m,Y)),oa(this.h,V),this.Ua&&Ye(b,"TYPE","init"),this.P?(Ye(b,"$req",g),Ye(b,"SID","null"),V.T=!0,zn(V,b,null)):zn(V,b,g),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||ia(this.h)||Bo(this))};function Bo(c,g){var b;g?b=g.l:b=c.U++;const x=dn(c.I);Ye(x,"SID",c.K),Ye(x,"RID",b),Ye(x,"AID",c.T),Si(c,x),c.m&&c.o&&Nt(x,c.m,c.o),b=new Xt(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ru(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),oa(c.h,b),zn(b,x,g)}function Si(c,g){c.H&&ke(c.H,function(b,x){Ye(g,x,b)}),c.l&&Po({},function(b,x){Ye(g,x,b)})}function Ru(c,g,b){b=Math.min(c.i.length,b);var x=c.l?C(c.l.Na,c.l,c):null;e:{var V=c.i;let Y=-1;for(;;){const ae=["count="+b];Y==-1?0<b?(Y=V[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Me=!0;for(let St=0;St<b;St++){let Ue=V[St].g;const At=V[St].map;if(Ue-=Y,0>Ue)Y=Math.max(0,V[St].g-100),Me=!1;else try{rr(At,ae,"req"+Ue+"_")}catch{x&&x(At)}}if(Me){x=ae.join("&");break e}}}return c=c.i.splice(0,b),g.D=c,x}function Ou(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;oe||L(),pe||(oe(),pe=!0),Fe.add(g,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(C(c.Fa,c),Ho(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),pa(this),Lu(this))};function xi(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Lu(c){c.g=new Xt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=dn(c.qa);Ye(g,"RID","rpc"),Ye(g,"SID",c.K),Ye(g,"AID",c.T),Ye(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(g,"TO",c.ja),Ye(g,"TYPE","xmlhttp"),Si(c,g),c.m&&c.o&&Nt(g,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=gi(dn(g)),b.m=null,b.P=!0,Cr(b,c)}r.Za=function(){this.C!=null&&(this.C=null,pa(this),$o(this),rt(19))};function ga(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Du(c,g){var b=null;if(c.g==g){ga(c),xi(c),c.g=null;var x=2}else if(Lo(c.h,g))b=g.D,Jt(c.h,g),x=1;else return;if(c.G!=0){if(g.o)if(x==1){b=g.m?g.m.length:0,g=Date.now()-g.F;var V=c.B;x=os(),He(x,new kt(x,b)),ma(c)}else Ou(c);else if(V=g.s,V==3||V==0&&0<g.X||!(x==1&&ph(c,g)||x==2&&$o(c)))switch(b&&0<b.length&&(g=c.h,g.i=g.i.concat(b)),V){case 1:Or(c,5);break;case 4:Or(c,10);break;case 3:Or(c,6);break;default:Or(c,2)}}}function Ho(c,g){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*g}function Or(c,g){if(c.j.info("Error code "+g),g==2){var b=C(c.fb,c),x=c.Xa;const V=!x;x=new Et(x||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||mi(x,"https"),gi(x),V?yi(x.toString(),b):Fn(x.toString(),b)}else rt(2);c.G=0,c.l&&c.l.sa(g),Pu(c),Au(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Pu(c){if(c.G=0,c.ka=[],c.l){const g=Do(c.h);(g.length!=0||c.i.length!=0)&&(z(c.ka,g),z(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function ju(c,g,b){var x=b instanceof Et?dn(b):new Et(b);if(x.g!="")g&&(x.g=g+"."+x.g),hs(x,x.s);else{var V=p.location;x=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var Y=new Et(null);x&&mi(Y,x),g&&(Y.g=g),V&&hs(Y,V),b&&(Y.l=b),x=Y}return b=c.D,g=c.ya,b&&g&&Ye(x,b,g),Ye(x,"VER",c.la),Si(c,x),x}function Mu(c,g,b){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Be(new fs({eb:b})):new Be(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}r=zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function va(){}va.prototype.g=function(c,g){return new Zt(c,g)};function Zt(c,g){lt.call(this),this.g=new fa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!F(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!F(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new or(this)}O(Zt,lt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Vo(this.g)},Zt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=Mn(c),c=b);g.i.push(new Cu(g.Ya++,c)),g.G==3&&ma(g)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,Zt.aa.N.call(this)};function Fu(c){Sr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}O(Fu,Sr);function Uu(){No.call(this),this.status=1}O(Uu,No);function or(c){this.g=c}O(or,zu),or.prototype.ua=function(){He(this.g,"a")},or.prototype.ta=function(c){He(this.g,new Fu(c))},or.prototype.sa=function(c){He(this.g,new Uu)},or.prototype.ra=function(){He(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,Hk=function(){return new va},$k=function(){return os()},Bk=Jn,jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,ed=cs,xr.COMPLETE="complete",Vk=xr,_o.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Ml=_o,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,Uk=Be}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const wb="@firebase/firestore",kb="4.7.17";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let vo="11.9.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Hi=new Pd("@firebase/firestore");function qa(){return Hi.logLevel}function ce(r,...e){if(Hi.logLevel<=Le.DEBUG){const n=e.map(Sm);Hi.debug(`Firestore (${vo}): ${r}`,...n)}}function ns(r,...e){if(Hi.logLevel<=Le.ERROR){const n=e.map(Sm);Hi.error(`Firestore (${vo}): ${r}`,...n)}}function ro(r,...e){if(Hi.logLevel<=Le.WARN){const n=e.map(Sm);Hi.warn(`Firestore (${vo}): ${r}`,...n)}}function Sm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function we(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Kk(r,i,n)}function Kk(r,e,n){let i=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ns(i),new Error(i)}function $e(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||Kk(e,o,i)}function Ce(r,e){return r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Gn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class K_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W_{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let i=this.i;const o=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let u=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string",31837,{l:i}),new Wk(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class q_{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Y_{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new q_(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Eb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q_{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const i=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Eb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Eb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function G_(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qk(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=G_(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function _e(r,e){return r<e?-1:r>e?1:0}function Mp(r,e){let n=0;for(;n<r.length&&n<e.length;){const i=r.codePointAt(n),o=e.codePointAt(n);if(i!==o){if(i<128&&o<128)return _e(i,o);{const u=qk(),h=X_(u.encode(Sb(r,n)),u.encode(Sb(e,n)));return h!==0?h:_e(i,o)}}n+=i>65535?2:1}return _e(r.length,e.length)}function Sb(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function X_(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return _e(r[n],e[n]);return _e(r.length,e.length)}function so(r,e,n){return r.length===e.length&&r.every((i,o)=>n(i,e[o]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xb=-62135596800,Cb=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Cb);return new It(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xb)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cb}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new It(0,0))}static max(){return new xe(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ib="__name__";class pr{constructor(e,n,i){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&we(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=pr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return _e(e.length,n.length)}static compareSegments(e,n){const i=pr.isNumericId(e),o=pr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?pr.extractNumericId(e).compare(pr.extractNumericId(n)):Mp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class nt extends pr{construct(e,n,i){return new nt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const J_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends pr{construct(e,n,i){return new Bt(e,n,i)}static isValidIdentifier(e){return J_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ib}static keyField(){return new Bt([Ib])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(u(),o++)}if(u(),h)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zl=-1;function Z_(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(i===1e9?new It(n+1,0):new It(n,i));return new qs(o,me.empty(),e)}function eN(r){return new qs(r.readTime,r.key,Zl)}class qs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new qs(xe.min(),me.empty(),Zl)}static max(){return new qs(xe.max(),me.empty(),Zl)}}function tN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:_e(r.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function yo(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==nN)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,i)=>{n(e)})}static reject(e){return new ee((n,i)=>{i(e)})}static waitFor(e){return new ee((n,i)=>{let o=0,u=0,h=!1;e.forEach(p=>{++o,p.next(()=>{++u,h&&u===o&&n()},m=>i(m))}),h=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const i of e)n=n.next(o=>o?ee.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,u)=>{i.push(n.call(this,o,u))}),this.waitFor(i)}static mapArray(e,n){return new ee((i,o)=>{const u=e.length,h=new Array(u);let p=0;for(let m=0;m<u;m++){const v=m;n(e[v]).next(k=>{h[v]=k,++p,p===u&&i(h)},k=>o(k))}})}static doWhile(e,n){return new ee((i,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):i()};u()})}}function sN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(r){return r.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Vd.le=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xm=-1;function Bd(r){return r==null}function gd(r){return r===0&&1/r==-1/0}function iN(r){return typeof r=="number"&&Number.isInteger(r)&&!gd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qk="";function aN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Tb(e)),e=oN(r.get(n),e);return Tb(e)}function oN(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Qk:n+="";break;default:n+=u}}return n}function Tb(r){return r+Qk+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _b(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ti(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Gk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ot{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??Vt.RED,this.left=o??Vt.EMPTY,this.right=u??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new Vt(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Vt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(r,e,n,i,o){return this}insert(r,e,n){return new Vt(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nb(this.data.getIterator())}getIteratorFrom(e){return new Nb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class Nb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Tt(Bt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Xk("Invalid base64 string: "+o):o}}(e);return new $t(n)}static fromUint8Array(e){const n=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const lN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(r){if($e(!!r,39018),typeof r=="string"){let e=0;const n=lN.exec(r);if($e(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qs(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jk="server_timestamp",Zk="__type__",e1="__previous_value__",t1="__local_write_time__";function Cm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zk])===null||n===void 0?void 0:n.stringValue)===Jk}function $d(r){const e=r.mapValue.fields[e1];return Cm(e)?$d(e):e}function eu(r){const e=Ys(r.mapValue.fields[t1].timestampValue);return new It(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uN{constructor(e,n,i,o,u,h,p,m,v,k){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=k}}const vd="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||vd}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===vd}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const n1="__type__",cN="__max__",Kc={mapValue:{}},r1="__vector__",yd="value";function Gs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cm(r)?4:hN(r)?9007199254740991:dN(r)?10:11:we(28295,{value:r})}function br(r,e){if(r===e)return!0;const n=Gs(r);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Ys(i.timestampValue),h=Ys(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return Qs(i.bytesValue).isEqual(Qs(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return mt(i.geoPointValue.latitude)===mt(o.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return mt(i.integerValue)===mt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=mt(i.doubleValue),h=mt(o.doubleValue);return u===h?gd(u)===gd(h):isNaN(u)&&isNaN(h)}return!1}(r,e);case 9:return so(r.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(_b(u)!==_b(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!br(u[p],h[p])))return!1;return!0}(r,e);default:return we(52216,{left:r})}}function nu(r,e){return(r.values||[]).find(n=>br(n,e))!==void 0}function io(r,e){if(r===e)return 0;const n=Gs(r),i=Gs(e);if(n!==i)return _e(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(r.booleanValue,e.booleanValue);case 2:return function(o,u){const h=mt(o.integerValue||o.doubleValue),p=mt(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(r,e);case 3:return Ab(r.timestampValue,e.timestampValue);case 4:return Ab(eu(r),eu(e));case 5:return Mp(r.stringValue,e.stringValue);case 6:return function(o,u){const h=Qs(o),p=Qs(u);return h.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),p=u.split("/");for(let m=0;m<h.length&&m<p.length;m++){const v=_e(h[m],p[m]);if(v!==0)return v}return _e(h.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,u){const h=_e(mt(o.latitude),mt(u.latitude));return h!==0?h:_e(mt(o.longitude),mt(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Rb(r.arrayValue,e.arrayValue);case 10:return function(o,u){var h,p,m,v;const k=o.fields||{},S=u.fields||{},C=(h=k[yd])===null||h===void 0?void 0:h.arrayValue,D=(p=S[yd])===null||p===void 0?void 0:p.arrayValue,O=_e(((m=C==null?void 0:C.values)===null||m===void 0?void 0:m.length)||0,((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0);return O!==0?O:Rb(C,D)}(r.mapValue,e.mapValue);case 11:return function(o,u){if(o===Kc.mapValue&&u===Kc.mapValue)return 0;if(o===Kc.mapValue)return 1;if(u===Kc.mapValue)return-1;const h=o.fields||{},p=Object.keys(h),m=u.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let k=0;k<p.length&&k<v.length;++k){const S=Mp(p[k],v[k]);if(S!==0)return S;const C=io(h[p[k]],m[v[k]]);if(C!==0)return C}return _e(p.length,v.length)}(r.mapValue,e.mapValue);default:throw we(23264,{Pe:n})}}function Ab(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return _e(r,e);const n=Ys(r),i=Ys(e),o=_e(n.seconds,i.seconds);return o!==0?o:_e(n.nanos,i.nanos)}function Rb(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=io(n[o],i[o]);if(u)return u}return _e(n.length,i.length)}function ao(r){return zp(r)}function zp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const n=Ys(e);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return Qs(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return me.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let n="[",i=!0;for(const o of e.values||[])i?i=!1:n+=",",n+=zp(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(e){const n=Object.keys(e.fields||{}).sort();let i="{",o=!0;for(const u of n)o?o=!1:i+=",",i+=`${u}:${zp(e.fields[u])}`;return i+"}"}(r.mapValue):we(61005,{value:r})}function td(r){switch(Gs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$d(r);return e?16+td(e):16;case 5:return 2*r.stringValue.length;case 6:return Qs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+td(o),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return ti(n.fields,(o,u)=>{i+=o.length+td(u)}),i}(r.mapValue);default:throw we(13486,{value:r})}}function Ob(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Fp(r){return!!r&&"integerValue"in r}function Im(r){return!!r&&"arrayValue"in r}function Lb(r){return!!r&&"nullValue"in r}function Db(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nd(r){return!!r&&"mapValue"in r}function dN(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[n1])===null||n===void 0?void 0:n.stringValue)===r1}function Hl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ti(r.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Hl(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function hN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cN}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Bt.emptyPath(),i={},o=[];e.forEach((h,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,i,o),i={},o=[],n=p.popLast()}h?i[p.lastSegment()]=Hl(h):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];nd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){ti(n,(o,u)=>e[o]=u);for(const o of i)delete e[o]}clone(){return new an(Hl(this.value))}}function s1(r){const e=[];return ti(r.fields,(n,i)=>{const o=new Bt([n]);if(nd(i)){const u=s1(i.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new bn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qt{constructor(e,n,i,o,u,h,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Qt(e,0,xe.min(),xe.min(),xe.min(),an.empty(),0)}static newFoundDocument(e,n,i,o){return new Qt(e,1,n,xe.min(),i,o,0)}static newNoDocument(e,n){return new Qt(e,2,n,xe.min(),xe.min(),an.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,xe.min(),xe.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bd{constructor(e,n){this.position=e,this.inclusive=n}}function Pb(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?i=me.comparator(me.fromName(h.referenceValue),n.key):i=io(h,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function jb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!br(r.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function fN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class i1{}class wt extends i1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new mN(e,n,i):n==="array-contains"?new yN(e,i):n==="in"?new bN(e,i):n==="not-in"?new wN(e,i):n==="array-contains-any"?new kN(e,i):new wt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new gN(e,i):new vN(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(io(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends i1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Yn(e,n)}matches(e){return a1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function a1(r){return r.op==="and"}function o1(r){return pN(r)&&a1(r)}function pN(r){for(const e of r.filters)if(e instanceof Yn)return!1;return!0}function Up(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(o1(r))return r.filters.map(e=>Up(e)).join(",");{const e=r.filters.map(n=>Up(n)).join(",");return`${r.op}(${e})`}}function l1(r,e){return r instanceof wt?function(n,i){return i instanceof wt&&n.op===i.op&&n.field.isEqual(i.field)&&br(n.value,i.value)}(r,e):r instanceof Yn?function(n,i){return i instanceof Yn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,u,h)=>o&&l1(u,i.filters[h]),!0):!1}(r,e):void we(19439)}function u1(r){return r instanceof wt?function(e){return`${e.field.canonicalString()} ${e.op} ${ao(e.value)}`}(r):r instanceof Yn?function(e){return e.op.toString()+" {"+e.getFilters().map(u1).join(" ,")+"}"}(r):"Filter"}class mN extends wt{constructor(e,n,i){super(e,n,i),this.key=me.fromName(i.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class gN extends wt{constructor(e,n){super(e,"in",n),this.keys=c1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vN extends wt{constructor(e,n){super(e,"not-in",n),this.keys=c1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function c1(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>me.fromName(i.referenceValue))}class yN extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Im(n)&&nu(n.arrayValue,this.value)}}class bN extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class wN extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class kN extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Im(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>nu(this.value.arrayValue,i))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EN{constructor(e,n=null,i=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Ie=null}}function Mb(r,e=null,n=[],i=[],o=null,u=null,h=null){return new EN(r,e,n,i,o,u,h)}function Tm(r){const e=Ce(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Up(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ao(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ao(i)).join(",")),e.Ie=n}return e.Ie}function _m(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!fN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!l1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!jb(r.startAt,e.startAt)&&jb(r.endAt,e.endAt)}function Vp(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class du{constructor(e,n=null,i=[],o=[],u=null,h="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function SN(r,e,n,i,o,u,h,p){return new du(r,e,n,i,o,u,h,p)}function Nm(r){return new du(r)}function zb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function d1(r){return r.collectionGroup!==null}function Kl(r){const e=Ce(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Tt(Bt.comparator);return o.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new wd(o,i))}),n.has(Bt.keyField().canonicalString())||e.Ee.push(new wd(Bt.keyField(),i))}return e.Ee}function vr(r){const e=Ce(r);return e.de||(e.de=xN(e,Kl(r))),e.de}function xN(r,e){if(r.limitType==="F")return Mb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wd(o.field,u)});const n=r.endAt?new bd(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new bd(r.startAt.position,r.startAt.inclusive):null;return Mb(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function Bp(r,e){const n=r.filters.concat([e]);return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function $p(r,e,n){return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hd(r,e){return _m(vr(r),vr(e))&&r.limitType===e.limitType}function h1(r){return`${Tm(vr(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>u1(i)).join(", ")}]`),Bd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ao(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ao(i)).join(",")),`Target(${n})`}(vr(r))}; limitType=${r.limitType})`}function Kd(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):me.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of Kl(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(o,u,h){const p=Pb(o,u,h);return o.inclusive?p<=0:p<0}(n.startAt,Kl(n),i)||n.endAt&&!function(o,u,h){const p=Pb(o,u,h);return o.inclusive?p>=0:p>0}(n.endAt,Kl(n),i))}(r,e)}function CN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function f1(r){return(e,n)=>{let i=!1;for(const o of Kl(r)){const u=IN(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function IN(r,e,n){const i=r.field.isKeyField()?me.comparator(e.key,n.key):function(o,u,h){const p=u.data.field(o),m=h.data.field(o);return p!==null&&m!==null?io(p,m):we(42886)}(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:r.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(n,i)=>{for(const[o,u]of i)e(o,u)})}isEmpty(){return Gk(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TN=new ot(me.comparator);function rs(){return TN}const p1=new ot(me.comparator);function zl(...r){let e=p1;for(const n of r)e=e.insert(n.key,n);return e}function m1(r){let e=p1;return r.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Vi(){return Wl()}function g1(){return Wl()}function Wl(){return new Xi(r=>r.toString(),(r,e)=>r.isEqual(e))}const _N=new ot(me.comparator),NN=new Tt(me.comparator);function De(...r){let e=NN;for(const n of r)e=e.add(n);return e}const AN=new Tt(_e);function RN(){return AN}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Am(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(e)?"-0":e}}function v1(r){return{integerValue:""+r}}function ON(r,e){return iN(e)?v1(e):Am(r,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wd{constructor(){this._=void 0}}function LN(r,e,n){return r instanceof kd?function(i,o){const u={fields:{[Zk]:{stringValue:Jk},[t1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Cm(o)&&(o=$d(o)),o&&(u.fields[e1]=o),{mapValue:u}}(n,e):r instanceof ru?b1(r,e):r instanceof su?w1(r,e):function(i,o){const u=y1(i,o),h=Fb(u)+Fb(i.Re);return Fp(u)&&Fp(i.Re)?v1(h):Am(i.serializer,h)}(r,e)}function DN(r,e,n){return r instanceof ru?b1(r,e):r instanceof su?w1(r,e):n}function y1(r,e){return r instanceof Ed?function(n){return Fp(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class kd extends Wd{}class ru extends Wd{constructor(e){super(),this.elements=e}}function b1(r,e){const n=k1(e);for(const i of r.elements)n.some(o=>br(o,i))||n.push(i);return{arrayValue:{values:n}}}class su extends Wd{constructor(e){super(),this.elements=e}}function w1(r,e){let n=k1(e);for(const i of r.elements)n=n.filter(o=>!br(o,i));return{arrayValue:{values:n}}}class Ed extends Wd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Fb(r){return mt(r.integerValue||r.doubleValue)}function k1(r){return Im(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function PN(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof ru&&i instanceof ru||n instanceof su&&i instanceof su?so(n.elements,i.elements,br):n instanceof Ed&&i instanceof Ed?br(n.Re,i.Re):n instanceof kd&&i instanceof kd}(r.transform,e.transform)}class jN{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qd{}function E1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rm(r.key,Hn.none()):new hu(r.key,r.data,Hn.none());{const n=r.data,i=an.empty();let o=new Tt(Bt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?i.delete(u):i.set(u,h),o=o.add(u)}return new ni(r.key,i,new bn(o.toArray()),Hn.none())}}function MN(r,e,n){r instanceof hu?function(i,o,u){const h=i.value.clone(),p=Vb(i.fieldTransforms,o,u.transformResults);h.setAll(p),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(r,e,n):r instanceof ni?function(i,o,u){if(!rd(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Vb(i.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(S1(i)),p.setAll(h),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function ql(r,e,n,i){return r instanceof hu?function(o,u,h,p){if(!rd(o.precondition,u))return h;const m=o.value.clone(),v=Bb(o.fieldTransforms,p,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(r,e,n,i):r instanceof ni?function(o,u,h,p){if(!rd(o.precondition,u))return h;const m=Bb(o.fieldTransforms,p,u),v=u.data;return v.setAll(S1(o)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(k=>k.field))}(r,e,n,i):function(o,u,h){return rd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(r,e,n)}function zN(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),u=y1(i.transform,o||null);u!=null&&(n===null&&(n=an.empty()),n.set(i.field,u))}return n||null}function Ub(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&so(n,i,(o,u)=>PN(o,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hu extends qd{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ni extends qd{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function S1(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}}),e}function Vb(r,e,n){const i=new Map;$e(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,p=e.data.field(u.field);i.set(u.field,DN(h,p,n[o]))}return i}function Bb(r,e,n){const i=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);i.set(o.field,LN(u,h,e))}return i}class Rm extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FN extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UN{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MN(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ql(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ql(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=g1();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const m=E1(h,p);m!==null&&i.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(xe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,i)=>Ub(n,i))&&so(this.baseMutations,e.baseMutations,(n,i)=>Ub(n,i))}}class Om{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){$e(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return _N}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,i[h].version);return new Om(e,n,i,o)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var bt,je;function $N(r){switch(r){case te.OK:return we(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function x1(r){if(r===void 0)return ns("GRPC error has no .code"),te.UNKNOWN;switch(r){case bt.OK:return te.OK;case bt.CANCELLED:return te.CANCELLED;case bt.UNKNOWN:return te.UNKNOWN;case bt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case bt.INTERNAL:return te.INTERNAL;case bt.UNAVAILABLE:return te.UNAVAILABLE;case bt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case bt.NOT_FOUND:return te.NOT_FOUND;case bt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case bt.ABORTED:return te.ABORTED;case bt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case bt.DATA_LOSS:return te.DATA_LOSS;default:return we(39323,{code:r})}}(je=bt||(bt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HN=new Hs([4294967295,4294967295],0);function $b(r){const e=qk().encode(r),n=new Fk;return n.update(e),new Uint8Array(n.digest())}function Hb(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Hs([n,i],0),new Hs([o,u],0)]}class Lm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(i<0)throw new Fl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Hs.fromNumber(this.pe)}we(e,n,i){let o=e.add(n.multiply(Hs.fromNumber(i)));return o.compare(HN)===1&&(o=new Hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=$b(e),[i,o]=Hb(n);for(let u=0;u<this.hashCount;u++){const h=this.we(i,o,u);if(!this.be(h))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Lm(u,o,n);return i.forEach(p=>h.insert(p)),h}insert(e){if(this.pe===0)return;const n=$b(e),[i,o]=Hb(n);for(let u=0;u<this.hashCount;u++){const h=this.we(i,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yd{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Yd(xe.min(),o,new ot(_e),rs(),De())}}class fu{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new fu(i,n,De(),De(),De())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sd{constructor(e,n,i,o){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=o}}class C1{constructor(e,n){this.targetId=e,this.Ce=n}}class I1{constructor(e,n,i=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Kb{constructor(){this.Fe=0,this.Me=Wb(),this.xe=$t.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=De(),n=De(),i=De();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:we(38017,{changeType:u})}}),new fu(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=Wb()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,$e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class KN{constructor(e){this.ze=e,this.je=new Map,this.He=rs(),this.Je=Wc(),this.Ye=Wc(),this.Ze=new ot(_e)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,i=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Vp(u))if(i===0){const h=new me(u.path);this.tt(n,h,Qt.newNoDocument(h,xe.min()))}else $e(i===1,20013,{expectedCount:i});else{const h=this.ut(n);if(h!==i){const p=this.ct(e),m=p?this.lt(p,e,h):1;if(m!==0){this.st(n);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,v)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=Qs(i).toUint8Array()}catch(m){if(m instanceof Xk)return ro("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Lm(h,o,u)}catch(m){return ro(m instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.pe===0?null:p}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let o=0;return i.forEach(u=>{const h=this.ze.Pt(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,h)=>{const p=this._t(h);if(p){if(u.current&&Vp(p.target)){const m=new me(p.target.path);this.Et(m).has(h)||this.dt(h,m)||this.tt(h,m,Qt.newNoDocument(m,e))}u.Le&&(n.set(h,u.qe()),u.Qe())}});let i=De();this.Ye.forEach((u,h)=>{let p=!0;h.forEachWhile(m=>{const v=this._t(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(i=i.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new Yd(e,n,this.Ze,this.He,i);return this.He=rs(),this.Je=Wc(),this.Ye=Wc(),this.Ze=new ot(_e),o}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Kb,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Tt(_e),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Tt(_e),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Kb),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new ot(me.comparator)}function Wb(){return new ot(me.comparator)}const WN={asc:"ASCENDING",desc:"DESCENDING"},qN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YN={and:"AND",or:"OR"};class QN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hp(r,e){return r.useProto3Json||Bd(e)?e:{value:e}}function Sd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function GN(r,e){return Sd(r,e.toTimestamp())}function yr(r){return $e(!!r,49232),xe.fromTimestamp(function(e){const n=Ys(e);return new It(n.seconds,n.nanos)}(r))}function Dm(r,e){return Kp(r,e).canonicalString()}function Kp(r,e){const n=function(i){return new nt(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?n:n.child(e)}function _1(r){const e=nt.fromString(r);return $e(L1(e),10190,{key:e.toString()}),e}function Wp(r,e){return Dm(r.databaseId,e.path)}function vp(r,e){const n=_1(e);if(n.get(1)!==r.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(A1(n))}function N1(r,e){return Dm(r.databaseId,e)}function XN(r){const e=_1(r);return e.length===4?nt.emptyPath():A1(e)}function qp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function A1(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function qb(r,e,n){return{name:Wp(r,e),fields:n.value.mapValue.fields}}function JN(r,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:we(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(m,v){return m.useProto3Json?($e(v===void 0||typeof v=="string",58123),$t.fromBase64String(v||"")):($e(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),$t.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(m){const v=m.code===void 0?te.UNKNOWN:x1(m.code);return new de(v,m.message||"")}(h);n=new I1(i,o,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=vp(r,i.document.name),u=yr(i.document.updateTime),h=i.document.createTime?yr(i.document.createTime):xe.min(),p=new an({mapValue:{fields:i.document.fields}}),m=Qt.newFoundDocument(o,u,h,p),v=i.targetIds||[],k=i.removedTargetIds||[];n=new sd(v,k,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=vp(r,i.document),u=i.readTime?yr(i.readTime):xe.min(),h=Qt.newNoDocument(o,u),p=i.removedTargetIds||[];n=new sd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=vp(r,i.document),u=i.removedTargetIds||[];n=new sd([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,h=new BN(o,u),p=i.targetId;n=new C1(p,h)}}return n}function ZN(r,e){let n;if(e instanceof hu)n={update:qb(r,e.key,e.value)};else if(e instanceof Rm)n={delete:Wp(r,e.key)};else if(e instanceof ni)n={update:qb(r,e.key,e.data),updateMask:lA(e.fieldMask)};else{if(!(e instanceof FN))return we(16599,{ft:e.type});n={verify:Wp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,u){const h=u.transform;if(h instanceof kd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ru)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ed)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw we(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:GN(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we(27497)}(r,e.precondition)),n}function eA(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map(n=>function(i,o){let u=i.updateTime?yr(i.updateTime):yr(o);return u.isEqual(xe.min())&&(u=yr(o)),new jN(u,i.transformResults||[])}(n,e))):[]}function tA(r,e){return{documents:[N1(r,e.path)]}}function nA(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=N1(r,o);const u=function(m){if(m.length!==0)return O1(Yn.create(m,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(m){if(m.length!==0)return m.map(v=>function(k){return{field:Qa(k.field),direction:iA(k.dir)}}(v))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Hp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:o}}function rA(r){let e=XN(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){$e(i===1,65062);const k=n.from[0];k.allDescendants?o=k.collectionId:e=e.child(k.collectionId)}let u=[];n.where&&(u=function(k){const S=R1(k);return S instanceof Yn&&o1(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(k){return k.map(S=>function(C){return new wd(Ga(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(S))}(n.orderBy));let p=null;n.limit&&(p=function(k){let S;return S=typeof k=="object"?k.value:k,Bd(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(k){const S=!!k.before,C=k.values||[];return new bd(C,S)}(n.startAt));let v=null;return n.endAt&&(v=function(k){const S=!k.before,C=k.values||[];return new bd(C,S)}(n.endAt)),SN(e,o,h,u,p,"F",m,v)}function sA(r,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function R1(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ga(e.unaryFilter.field);return wt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ga(e.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ga(e.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ga(e.unaryFilter.field);return wt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(r):r.fieldFilter!==void 0?function(e){return wt.create(Ga(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return Yn.create(e.compositeFilter.filters.map(n=>R1(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(e.compositeFilter.op))}(r):we(30097,{filter:r})}function iA(r){return WN[r]}function aA(r){return qN[r]}function oA(r){return YN[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ga(r){return Bt.fromServerFormat(r.fieldPath)}function O1(r){return r instanceof wt?function(e){if(e.op==="=="){if(Db(e.value))return{unaryFilter:{field:Qa(e.field),op:"IS_NAN"}};if(Lb(e.value))return{unaryFilter:{field:Qa(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Db(e.value))return{unaryFilter:{field:Qa(e.field),op:"IS_NOT_NAN"}};if(Lb(e.value))return{unaryFilter:{field:Qa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(e.field),op:aA(e.op),value:e.value}}}(r):r instanceof Yn?function(e){const n=e.getFilters().map(i=>O1(i));return n.length===1?n[0]:{compositeFilter:{op:oA(e.op),filters:n}}}(r):we(54877,{filter:r})}function lA(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function L1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Us{constructor(e,n,i,o,u=xe.min(),h=xe.min(),p=$t.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uA{constructor(e){this.wt=e}}function cA(r){const e=rA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$p(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dA{constructor(){this.Cn=new hA}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(qs.min())}updateCollectionGroup(e,n,i){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class hA{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Tt(nt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Tt(nt.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Yb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D1=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(D1,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new oo(0)}static lr(){return new oo(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qb="LruGarbageCollector",fA=1048576;function Gb([r,e],[n,i]){const o=_e(r,n);return o===0?_e(e,i):o}class pA{constructor(e){this.Er=e,this.buffer=new Tt(Gb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Gb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mA{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(Qb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?ce(Qb,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.mr(3e5)})}}class gA{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Vd.le);const i=new pA(n);return this.gr.forEachTarget(e,o=>i.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>i.Rr(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Yb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yb):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,o,u,h,p,m,v;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,p=Date.now(),this.removeTargets(e,i,n))).next(S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(v=Date.now(),qa()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-k}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${S} documents in `+(v-m)+`ms
Total Duration: ${v-k}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function vA(r,e){return new gA(r,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yA{constructor(){this.changes=new Xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ee.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wA{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&ql(i.mutation,o,bn.empty(),It.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,De()).next(()=>i))}getLocalViewOfDocuments(e,n,i=De()){const o=Vi();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(u=>{let h=zl();return u.forEach((p,m)=>{h=h.insert(p,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const i=Vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,De()))}populateOverlays(e,n,i){const o=[];return i.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,p)=>{n.set(h,p)})})}computeViews(e,n,i,o){let u=rs();const h=Wl(),p=function(){return Wl()}();return n.forEach((m,v)=>{const k=i.get(v.key);o.has(v.key)&&(k===void 0||k.mutation instanceof ni)?u=u.insert(v.key,v):k!==void 0?(h.set(v.key,k.mutation.getFieldMask()),ql(k.mutation,v,k.mutation.getFieldMask(),It.now())):h.set(v.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((v,k)=>h.set(v,k)),n.forEach((v,k)=>{var S;return p.set(v,new bA(k,(S=h.get(v))!==null&&S!==void 0?S:null))}),p))}recalculateAndSaveOverlays(e,n){const i=Wl();let o=new ot((h,p)=>h-p),u=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const p of h)p.keys().forEach(m=>{const v=n.get(m);if(v===null)return;let k=i.get(m)||bn.empty();k=p.applyToLocalView(v,k),i.set(m,k);const S=(o.get(p.batchId)||De()).add(m);o=o.insert(p.batchId,S)})}).next(()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),v=m.key,k=m.value,S=g1();k.forEach(C=>{if(!u.has(C)){const D=E1(n.get(C),i.get(C));D!==null&&S.set(C,D),u=u.add(C)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return ee.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(u){return me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):ee.resolve(Vi());let p=Zl,m=u;return h.next(v=>ee.forEach(v,(k,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(k)?ee.resolve():this.remoteDocumentCache.getEntry(e,k).next(C=>{m=m.insert(k,C)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,m,v,De())).next(k=>({batchId:p,changes:m1(k)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(i=>{let o=zl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let h=zl();return this.indexManager.getCollectionParents(e,u).next(p=>ee.forEach(p,m=>{const v=function(k,S){return new du(S,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next(k=>{k.forEach((S,C)=>{h=h.insert(S,C)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o))).next(h=>{u.forEach((m,v)=>{const k=v.getKey();h.get(k)===null&&(h=h.insert(k,Qt.newInvalidDocument(k)))});let p=zl();return h.forEach((m,v)=>{const k=u.get(m);k!==void 0&&ql(k.mutation,v,bn.empty(),It.now()),Kd(n,v)&&(p=p.insert(m,v))}),p})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kA{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ee.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yr(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:cA(i.bundledQuery),readTime:yr(i.readTime)}}(n)),ee.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EA{constructor(){this.overlays=new ot(me.comparator),this.Qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Vi();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&i.set(o,u)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Qr.get(i);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(i)),ee.resolve()}getOverlaysForCollection(e,n,i){const o=Vi(),u=n.length+1,h=new me(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const m=p.getNext().value,v=m.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&m.largestBatchId>i&&o.set(m.getKey(),m)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new ot((v,k)=>v-k);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>i){let k=u.get(v.largestBatchId);k===null&&(k=Vi(),u=u.insert(v.largestBatchId,k)),k.set(v.getKey(),v)}}const p=Vi(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,k)=>p.set(v,k)),!(p.size()>=o)););return ee.resolve(p)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(i.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new VN(n,i));let u=this.Qr.get(n);u===void 0&&(u=De(),this.Qr.set(n,u)),this.Qr.set(n,u.add(i.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SA{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pm{constructor(){this.$r=new Tt(Dt.Ur),this.Kr=new Tt(Dt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new Dt(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new Dt(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new me(new nt([])),i=new Dt(n,e),o=new Dt(n,e+1),u=[];return this.Kr.forEachInRange([i,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new me(new nt([])),i=new Dt(n,e),o=new Dt(n,e+1);let u=De();return this.Kr.forEachInRange([i,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Dt(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Dt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return me.comparator(e.key,n.key)||_e(e.Zr,n.Zr)}static Wr(e,n){return _e(e.Zr,n.Zr)||me.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Tt(Dt.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new UN(u,n,i,o);this.mutationQueue.push(h);for(const p of o)this.Xr=this.Xr.add(new Dt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ti(i),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?xm:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Dt(n,0),o=new Dt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([i,o],h=>{const p=this.ei(h.Zr);u.push(p)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Tt(_e);return n.forEach(o=>{const u=new Dt(o,0),h=new Dt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],p=>{i=i.add(p.Zr)})}),ee.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;me.isDocumentKey(u)||(u=u.child(""));const h=new Dt(new me(u),0);let p=new Tt(_e);return this.Xr.forEachWhile(m=>{const v=m.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(p=p.add(m.Zr)),!0)},h),ee.resolve(this.ni(p))}ni(e){const n=[];return e.forEach(i=>{const o=this.ei(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ee.forEach(n.mutations,o=>{const u=new Dt(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new Dt(n,0),o=this.Xr.firstAfterOrEqual(i);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CA{constructor(e){this.ii=e,this.docs=function(){return new ot(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,h=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ee.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let i=rs();return n.forEach(o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():Qt.newInvalidDocument(o))}),ee.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=rs();const h=n.path,p=new me(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:v,value:{document:k}}=m.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||tN(eN(k),i)<=0||(o.has(k.key)||Kd(n,k))&&(u=u.insert(k.key,k.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,i,o){we(9500)}si(e,n){return ee.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new IA(this)}getSize(e){return ee.resolve(this.size)}}class IA extends yA{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(i)}),ee.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TA{constructor(e){this.persistence=e,this.oi=new Xi(n=>Tm(n),_m),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this._i=0,this.ai=new Pm,this.targetCount=0,this.ui=oo.cr()}forEachTarget(e,n){return this.oi.forEach((i,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),ee.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new oo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Tr(n),ee.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.oi.forEach((h,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return ee.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),ee.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return ee.resolve(i)}containsKey(e,n){return ee.resolve(this.ai.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P1{constructor(e,n){this.ci={},this.overlays={},this.li=new Vd(0),this.hi=!1,this.hi=!0,this.Pi=new SA,this.referenceDelegate=e(this),this.Ti=new TA(this),this.indexManager=new dA,this.remoteDocumentCache=function(i){return new CA(i)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new uA(n),this.Ei=new kA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new xA(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);const o=new _A(this.li.next());return this.referenceDelegate.di(),i(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ee.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class _A extends rN{constructor(e){super(),this.currentSequenceNumber=e}}class jm{constructor(e){this.persistence=e,this.Vi=new Pm,this.mi=null}static fi(e){return new jm(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),ee.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,i=>{const o=me.fromPath(i);return this.pi(e,o).next(u=>{u||n.removeEntry(o,xe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ee.or([()=>ee.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class xd{constructor(e,n){this.persistence=e,this.yi=new Xi(i=>aN(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=vA(this,n)}static fi(e,n){return new xd(e,n)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}br(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return ee.forEach(this.yi,(i,o)=>this.Dr(e,i,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,n).next(p=>{p||(i++,u.removeEntry(h,xe.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=td(e.data.value)),n}Dr(e,n,i){return ee.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ee.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.ds=i,this.As=o}static Rs(e,n){let i=De(),o=De();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mm(e,n.fromCache,i,o)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AA{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return c2()?8:sN(Gt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.ws(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(e,n,o,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new NA;return this.Ss(e,n,h).next(p=>{if(u.result=p,this.fs)return this.Ds(e,n,h,p.size)})}).next(()=>u.result)}Ds(e,n,i,o){return i.documentReadCount<this.gs?(qa()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(qa()<=Le.DEBUG&&ce("QueryEngine","Query:",Ya(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ps*o?(qa()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):ee.resolve())}ws(e,n){if(zb(n))return ee.resolve(null);let i=vr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=$p(n,null,"F"),i=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const h=De(...u);return this.ys.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,i).next(m=>{const v=this.vs(n,p);return this.Cs(n,v,h,m.readTime)?this.ws(e,$p(n,null,"F")):this.Fs(e,v,n,m)}))})))}bs(e,n,i,o){return zb(n)||o.isEqual(xe.min())?ee.resolve(null):this.ys.getDocuments(e,i).next(u=>{const h=this.vs(n,u);return this.Cs(n,h,i,o)?ee.resolve(null):(qa()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.Fs(e,h,n,Z_(o,Zl)).next(p=>p))})}vs(e,n){let i=new Tt(f1(e));return n.forEach((o,u)=>{Kd(e,u)&&(i=i.add(u))}),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,i){return qa()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ys.getDocumentsMatchingQuery(e,n,qs.min(),i)}Fs(e,n,i,o){return this.ys.getDocumentsMatchingQuery(e,i,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zm="LocalStore",RA=3e8;class OA{constructor(e,n,i,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ot(_e),this.Os=new Xi(u=>Tm(u),_m),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wA(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function LA(r,e,n,i){return new OA(r,e,n,i)}async function j1(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],p=[];let m=De();for(const v of o){h.push(v.batchId);for(const k of v.mutations)m=m.add(k.key)}for(const v of u){p.push(v.batchId);for(const k of v.mutations)m=m.add(k.key)}return n.localDocuments.getDocuments(i,m).next(v=>({ks:v,removedBatchIds:h,addedBatchIds:p}))})})}function DA(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(h,p,m,v){const k=m.batch,S=k.keys();let C=ee.resolve();return S.forEach(D=>{C=C.next(()=>v.getEntry(p,D)).next(O=>{const K=m.docVersions.get(D);$e(K!==null,48541),O.version.compareTo(K)<0&&(k.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),v.addEntry(O)))})}),C.next(()=>h.mutationQueue.removeMutationBatch(p,k))}(n,i,e,u).next(()=>u.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=De();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function M1(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function PA(r,e){const n=Ce(r),i=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const p=[];e.targetChanges.forEach((k,S)=>{const C=o.get(S);if(!C)return;p.push(n.Ti.removeMatchingKeys(u,k.removedDocuments,S).next(()=>n.Ti.addMatchingKeys(u,k.addedDocuments,S)));let D=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken($t.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):k.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(k.resumeToken,i)),o=o.insert(S,D),function(O,K,z){return O.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=RA?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(C,D,k)&&p.push(n.Ti.updateTargetData(u,D))});let m=rs(),v=De();if(e.documentUpdates.forEach(k=>{e.resolvedLimboDocuments.has(k)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,k))}),p.push(jA(u,h,e.documentUpdates).next(k=>{m=k.qs,v=k.Qs})),!i.isEqual(xe.min())){const k=n.Ti.getLastRemoteSnapshotVersion(u).next(S=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,i));p.push(k)}return ee.waitFor(p).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,v)).next(()=>m)}).then(u=>(n.xs=o,u))}function jA(r,e,n){let i=De(),o=De();return n.forEach(u=>i=i.add(u)),e.getEntries(r,i).next(u=>{let h=rs();return n.forEach((p,m)=>{const v=u.get(p);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(xe.min())?(e.removeEntry(p,m.readTime),h=h.insert(p,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),h=h.insert(p,m)):ce(zm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",m.version)}),{qs:h,Qs:o}})}function MA(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=xm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function zA(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Ti.getTargetData(i,e).next(u=>u?(o=u,ee.resolve(o)):n.Ti.allocateTargetId(i).next(h=>(o=new Us(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.xs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function Yp(r,e,n){const i=Ce(r),o=i.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!bo(h))throw h;ce(zm,`Failed to update sequence numbers for target ${e}: ${h}`)}i.xs=i.xs.remove(e),i.Os.delete(o.target)}function Xb(r,e,n){const i=Ce(r);let o=xe.min(),u=De();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,m,v){const k=Ce(p),S=k.Os.get(v);return S!==void 0?ee.resolve(k.xs.get(S)):k.Ti.getTargetData(m,v)}(i,h,vr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(h,p.targetId).next(m=>{u=m})}).next(()=>i.Ms.getDocumentsMatchingQuery(h,e,n?o:xe.min(),n?u:De())).next(p=>(FA(i,CN(e),p),{documents:p,$s:u})))}function FA(r,e,n){let i=r.Ns.get(e)||xe.min();n.forEach((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),r.Ns.set(e,i)}class Jb{constructor(){this.activeTargetIds=RN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UA{constructor(){this.xo=new Jb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Jb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VA{No(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zb="ConnectivityMonitor";class ew{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(Zb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(Zb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let qc=null;function Qp(){return qc===null?qc=function(){return 268435456+Math.round(2147483648*Math.random())}():qc++,"0x"+qc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yp="RestConnection",BA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $A{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${o}`,this.Go=this.databaseId.database===vd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}zo(e,n,i,o,u){const h=Qp(),p=this.jo(e,n.toUriEncodedString());ce(yp,`Sending RPC '${e}' ${h}:`,p,i);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,u);const{host:v}=new URL(p),k=Yi(v);return this.Jo(e,p,m,i,k).then(S=>(ce(yp,`Received RPC '${e}' ${h}: `,S),S),S=>{throw ro(yp,`RPC '${e}' ${h} failed with error: `,S,"url: ",p,"request:",i),S})}Yo(e,n,i,o,u,h){return this.zo(e,n,i,o,u)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),i&&i.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const i=BA[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class HA{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qt="WebChannelConnection";class KA extends $A{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,u){const h=Qp();return new Promise((p,m)=>{const v=new Uk;v.setWithCredentials(!0),v.listenOnce(Vk.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case ed.NO_ERROR:const S=v.getResponseJson();ce(qt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),p(S);break;case ed.TIMEOUT:ce(qt,`RPC '${e}' ${h} timed out`),m(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const C=v.getStatus();if(ce(qt,`RPC '${e}' ${h} failed with status:`,C,"response text:",v.getResponseText()),C>0){let D=v.getResponseJson();Array.isArray(D)&&(D=D[0]);const O=D==null?void 0:D.error;if(O&&O.status&&O.message){const K=function(z){const Q=z.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Q)>=0?Q:te.UNKNOWN}(O.status);m(new de(K,O.message))}else m(new de(te.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new de(te.UNAVAILABLE,"Connection failed."));break;default:we(9055,{h_:e,streamId:h,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{ce(qt,`RPC '${e}' ${h} completed.`)}});const k=JSON.stringify(o);ce(qt,`RPC '${e}' ${h} sending request:`,o),v.send(n,"POST",k,i,15)})}I_(e,n,i){const o=Qp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Hk(),p=$k(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const k=u.join("");ce(qt,`Creating RPC '${e}' stream ${o}: ${k}`,m);const S=h.createWebChannel(k,m);this.E_(S);let C=!1,D=!1;const O=new HA({Zo:z=>{D?ce(qt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(C||(ce(qt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),ce(qt,`RPC '${e}' stream ${o} sending:`,z),S.send(z))},Xo:()=>S.close()}),K=(z,Q,F)=>{z.listen(Q,ie=>{try{F(ie)}catch(re){setTimeout(()=>{throw re},0)}})};return K(S,Ml.EventType.OPEN,()=>{D||(ce(qt,`RPC '${e}' stream ${o} transport opened.`),O.__())}),K(S,Ml.EventType.CLOSE,()=>{D||(D=!0,ce(qt,`RPC '${e}' stream ${o} transport closed`),O.u_(),this.d_(S))}),K(S,Ml.EventType.ERROR,z=>{D||(D=!0,ro(qt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),O.u_(new de(te.UNAVAILABLE,"The operation could not be completed")))}),K(S,Ml.EventType.MESSAGE,z=>{var Q;if(!D){const F=z.data[0];$e(!!F,16349);const ie=F,re=(ie==null?void 0:ie.error)||((Q=ie[0])===null||Q===void 0?void 0:Q.error);if(re){ce(qt,`RPC '${e}' stream ${o} received error:`,re);const ue=re.status;let ke=function(I){const _=bt[I];if(_!==void 0)return x1(_)}(ue),j=re.message;ke===void 0&&(ke=te.INTERNAL,j="Unknown error status: "+ue+" with message "+re.message),D=!0,O.u_(new de(ke,j)),S.close()}else ce(qt,`RPC '${e}' stream ${o} received:`,F),O.c_(F)}}),K(p,Bk.STAT_EVENT,z=>{z.stat===jp.PROXY?ce(qt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===jp.NOPROXY&&ce(qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function bp(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Qd(r){return new QN(r,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class z1{constructor(e,n,i=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=i,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tw="PersistentStream";class F1{constructor(e,n,i,o,u,h,p,m){this.xi=e,this.S_=i,this.D_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new z1(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.v_===n&&this.z_(i,o)},i=>{e(()=>{const o=new de(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(o)})})}z_(e,n){const i=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{i(()=>this.j_(o))}),this.stream.onMessage(o=>{i(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ce(tw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ce(tw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WA extends F1{constructor(e,n,i,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,h),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=JN(this.serializer,e),i=function(o){if(!("targetChange"in o))return xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?yr(u.readTime):xe.min()}(e);return this.listener.Y_(n,i)}Z_(e){const n={};n.database=qp(this.serializer),n.addTarget=function(o,u){let h;const p=u.target;if(h=Vp(p)?{documents:tA(o,p)}:{query:nA(o,p).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=T1(o,u.resumeToken);const m=Hp(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(xe.min())>0){h.readTime=Sd(o,u.snapshotVersion.toTimestamp());const m=Hp(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=sA(this.serializer,e);i&&(n.labels=i),this.Q_(n)}X_(e){const n={};n.database=qp(this.serializer),n.removeTarget=e,this.Q_(n)}}class qA extends F1{constructor(e,n,i,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,h),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=eA(e.writeResults,e.commitTime),i=yr(e.commitTime);return this.listener.ra(i,n)}ia(){const e={};e.database=qp(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>ZN(this.serializer,i))};this.Q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YA{}class QA extends YA{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,Kp(n,i),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(te.UNKNOWN,u.toString())})}Yo(e,n,i,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.Yo(e,Kp(n,i),o,h,p,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(te.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class GA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ns(n),this.ua=!1):ce("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ki="RemoteStore";class XA{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{i.enqueueAndForget(async()=>{Ji(this)&&(ce(Ki,"Restarting streams for network reachability change."),await async function(p){const m=Ce(p);m.da.add(4),await pu(m),m.Va.set("Unknown"),m.da.delete(4),await Gd(m)}(this))})}),this.Va=new GA(i,o)}}async function Gd(r){if(Ji(r))for(const e of r.Aa)await e(!0)}async function pu(r){for(const e of r.Aa)await e(!1)}function U1(r,e){const n=Ce(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Bm(n)?Vm(n):wo(n).N_()&&Um(n,e))}function Fm(r,e){const n=Ce(r),i=wo(n);n.Ea.delete(e),i.N_()&&V1(n,e),n.Ea.size===0&&(i.N_()?i.k_():Ji(n)&&n.Va.set("Unknown"))}function Um(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(r).Z_(e)}function V1(r,e){r.ma.Ke(e),wo(r).X_(e)}function Vm(r){r.ma=new KN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.Va.ca()}function Bm(r){return Ji(r)&&!wo(r).O_()&&r.Ea.size>0}function Ji(r){return Ce(r).da.size===0}function B1(r){r.ma=void 0}async function JA(r){r.Va.set("Online")}async function ZA(r){r.Ea.forEach((e,n)=>{Um(r,e)})}async function eR(r,e){B1(r),Bm(r)?(r.Va.Pa(e),Vm(r)):r.Va.set("Unknown")}async function tR(r,e,n){if(r.Va.set("Online"),e instanceof I1&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.Ea.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.Ea.delete(h),i.ma.removeTarget(h))}(r,e)}catch(i){ce(Ki,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Cd(r,i)}else if(e instanceof sd?r.ma.Xe(e):e instanceof C1?r.ma.ot(e):r.ma.nt(e),!n.isEqual(xe.min()))try{const i=await M1(r.localStore);n.compareTo(i)>=0&&await function(o,u){const h=o.ma.It(u);return h.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=o.Ea.get(m);v&&o.Ea.set(m,v.withResumeToken(p.resumeToken,u))}}),h.targetMismatches.forEach((p,m)=>{const v=o.Ea.get(p);if(!v)return;o.Ea.set(p,v.withResumeToken($t.EMPTY_BYTE_STRING,v.snapshotVersion)),V1(o,p);const k=new Us(v.target,p,m,v.sequenceNumber);Um(o,k)}),o.remoteSyncer.applyRemoteEvent(h)}(r,n)}catch(i){ce(Ki,"Failed to raise snapshot:",i),await Cd(r,i)}}async function Cd(r,e,n){if(!bo(e))throw e;r.da.add(1),await pu(r),r.Va.set("Offline"),n||(n=()=>M1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(Ki,"Retrying IndexedDB access"),await n(),r.da.delete(1),await Gd(r)})}function $1(r,e){return e().catch(n=>Cd(r,n,e))}async function Xd(r){const e=Ce(r),n=Xs(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:xm;for(;nR(e);)try{const o=await MA(e.localStore,i);if(o===null){e.Ia.length===0&&n.k_();break}i=o.batchId,rR(e,o)}catch(o){await Cd(e,o)}H1(e)&&K1(e)}function nR(r){return Ji(r)&&r.Ia.length<10}function rR(r,e){r.Ia.push(e);const n=Xs(r);n.N_()&&n.ea&&n.ta(e.mutations)}function H1(r){return Ji(r)&&!Xs(r).O_()&&r.Ia.length>0}function K1(r){Xs(r).start()}async function sR(r){Xs(r).ia()}async function iR(r){const e=Xs(r);for(const n of r.Ia)e.ta(n.mutations)}async function aR(r,e,n){const i=r.Ia.shift(),o=Om.from(i,e,n);await $1(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Xd(r)}async function oR(r,e){e&&Xs(r).ea&&await async function(n,i){if(function(o){return $N(o)&&o!==te.ABORTED}(i.code)){const o=n.Ia.shift();Xs(n).L_(),await $1(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Xd(n)}}(r,e),H1(r)&&K1(r)}async function nw(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),ce(Ki,"RemoteStore received new credentials");const i=Ji(n);n.da.add(3),await pu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Gd(n)}async function lR(r,e){const n=Ce(r);e?(n.da.delete(2),await Gd(n)):e||(n.da.add(2),await pu(n),n.Va.set("Unknown"))}function wo(r){return r.fa||(r.fa=function(e,n,i){const o=Ce(e);return o.oa(),new WA(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{e_:JA.bind(null,r),n_:ZA.bind(null,r),i_:eR.bind(null,r),Y_:tR.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),Bm(r)?Vm(r):r.Va.set("Unknown")):(await r.fa.stop(),B1(r))})),r.fa}function Xs(r){return r.ga||(r.ga=function(e,n,i){const o=Ce(e);return o.oa(),new qA(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:sR.bind(null,r),i_:oR.bind(null,r),na:iR.bind(null,r),ra:aR.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Xd(r)):(await r.ga.stop(),r.Ia.length>0&&(ce(Ki,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $m{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const h=Date.now()+i,p=new $m(e,n,h,o,u);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(r,e){if(ns("AsyncQueue",`${e}: ${r}`),bo(r))return new de(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||me.comparator(n.key,i.key):(n,i)=>me.comparator(n.key,i.key),this.keyedMap=zl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new to;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rw{constructor(){this.pa=new ot(me.comparator)}track(e){const n=e.doc.key,i=this.pa.get(n);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(n,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(n):e.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,i)=>{e.push(i)}),e}}class lo{constructor(e,n,i,o,u,h,p,m,v){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,n,i,o,u){const h=[];return n.forEach(p=>{h.push({type:0,doc:p})}),new lo(e,n,to.emptySet(n),h,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uR{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class cR{constructor(){this.queries=sw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const i=Ce(e),o=i.queries;i.queries=sw(),o.forEach((u,h)=>{for(const p of h.Sa)p.onError(n)})})(this,new de(te.ABORTED,"Firestore shutting down"))}}function sw(){return new Xi(r=>h1(r),Hd)}async function W1(r,e){const n=Ce(r);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(i=2):(u=new uR,i=e.va()?0:1);try{switch(i){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=Hm(h,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&Km(n)}async function q1(r,e){const n=Ce(r),i=e.query;let o=3;const u=n.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function dR(r,e){const n=Ce(r);let i=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Ma(o)&&(i=!0);h.ba=o}}i&&Km(n)}function hR(r,e,n){const i=Ce(r),o=i.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);i.queries.delete(e)}function Km(r){r.Ca.forEach(e=>{e.next()})}var Gp,iw;(iw=Gp||(Gp={})).xa="default",iw.Cache="cache";class Y1{constructor(e,n,i){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new lo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Gp.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q1{constructor(e){this.key=e}}class G1{constructor(e){this.key=e}}class fR{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=De(),this.mutatedKeys=De(),this.Za=f1(e),this.Xa=new to(this.Za)}get eu(){return this.Ha}tu(e,n){const i=n?n.nu:new rw,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((k,S)=>{const C=o.get(k),D=Kd(this.query,S)?S:null,O=!!C&&this.mutatedKeys.has(C.key),K=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let z=!1;C&&D?C.data.isEqual(D.data)?O!==K&&(i.track({type:3,doc:D}),z=!0):this.ru(C,D)||(i.track({type:2,doc:D}),z=!0,(m&&this.Za(D,m)>0||v&&this.Za(D,v)<0)&&(p=!0)):!C&&D?(i.track({type:0,doc:D}),z=!0):C&&!D&&(i.track({type:1,doc:C}),z=!0,(m||v)&&(p=!0)),z&&(D?(h=h.add(D),u=K?u.add(k):u.delete(k)):(h=h.delete(k),u=u.delete(k)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const k=this.query.limitType==="F"?h.last():h.first();h=h.delete(k.key),u=u.delete(k.key),i.track({type:1,doc:k})}return{Xa:h,nu:i,Cs:p,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((k,S)=>function(C,D){const O=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:K})}};return O(C)-O(D)}(k.type,S.type)||this.Za(k.doc,S.doc)),this.iu(i),o=o!=null&&o;const p=n&&!o?this.su():[],m=this.Ya.size===0&&this.current&&!o?1:0,v=m!==this.Ja;return this.Ja=m,h.length!==0||v?{snapshot:new lo(this.query,e.Xa,u,h,e.mutatedKeys,m===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:p}:{ou:p}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new rw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=De(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new G1(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new Q1(i))}),n}au(e){this.Ha=e.$s,this.Ya=De();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return lo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Wm="SyncEngine";class pR{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class mR{constructor(e){this.key=e,this.cu=!1}}class gR{constructor(e,n,i,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new Xi(p=>h1(p),Hd),this.Pu=new Map,this.Tu=new Set,this.Iu=new ot(me.comparator),this.Eu=new Map,this.du=new Pm,this.Au={},this.Ru=new Map,this.Vu=oo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function vR(r,e,n=!0){const i=nE(r);let o;const u=i.hu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await X1(i,e,n,!0),o}async function yR(r,e){const n=nE(r);await X1(n,e,!0,!1)}async function X1(r,e,n,i){const o=await zA(r.localStore,vr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let p;return i&&(p=await bR(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&U1(r.remoteStore,o),p}async function bR(r,e,n,i,o){r.fu=(S,C,D)=>async function(O,K,z,Q){let F=K.view.tu(z);F.Cs&&(F=await Xb(O.localStore,K.query,!1).then(({documents:ke})=>K.view.tu(ke,F)));const ie=Q&&Q.targetChanges.get(K.targetId),re=Q&&Q.targetMismatches.get(K.targetId)!=null,ue=K.view.applyChanges(F,O.isPrimaryClient,ie,re);return ow(O,K.targetId,ue.ou),ue.snapshot}(r,S,C,D);const u=await Xb(r.localStore,e,!0),h=new fR(e,u.$s),p=h.tu(u.documents),m=fu.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),v=h.applyChanges(p,r.isPrimaryClient,m);ow(r,n,v.ou);const k=new pR(e,n,h);return r.hu.set(e,k),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),v.snapshot}async function wR(r,e,n){const i=Ce(r),o=i.hu.get(e),u=i.Pu.get(o.targetId);if(u.length>1)return i.Pu.set(o.targetId,u.filter(h=>!Hd(h,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Yp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Fm(i.remoteStore,o.targetId),Xp(i,o.targetId)}).catch(yo)):(Xp(i,o.targetId),await Yp(i.localStore,o.targetId,!0))}async function kR(r,e){const n=Ce(r),i=n.hu.get(e),o=n.Pu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Fm(n.remoteStore,i.targetId))}async function ER(r,e,n){const i=NR(r);try{const o=await function(u,h){const p=Ce(u),m=It.now(),v=h.reduce((C,D)=>C.add(D.key),De());let k,S;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let D=rs(),O=De();return p.Bs.getEntries(C,v).next(K=>{D=K,D.forEach((z,Q)=>{Q.isValidDocument()||(O=O.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,D)).next(K=>{k=K;const z=[];for(const Q of h){const F=zN(Q,k.get(Q.key).overlayedDocument);F!=null&&z.push(new ni(Q.key,F,s1(F.value.mapValue),Hn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,m,z,h)}).next(K=>{S=K;const z=K.applyToLocalDocumentSet(k,O);return p.documentOverlayCache.saveOverlays(C,K.batchId,z)})}).then(()=>({batchId:S.batchId,changes:m1(k)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,p){let m=u.Au[u.currentUser.toKey()];m||(m=new ot(_e)),m=m.insert(h,p),u.Au[u.currentUser.toKey()]=m}(i,o.batchId,n),await mu(i,o.changes),await Xd(i.remoteStore)}catch(o){const u=Hm(o,"Failed to persist write");n.reject(u)}}async function J1(r,e){const n=Ce(r);try{const i=await PA(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?$e(h.cu,14607):o.removedDocuments.size>0&&($e(h.cu,42227),h.cu=!1))}),await mu(n,i,e)}catch(i){await yo(i)}}function aw(r,e,n){const i=Ce(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.hu.forEach((u,h)=>{const p=h.view.Fa(e);p.snapshot&&o.push(p.snapshot)}),function(u,h){const p=Ce(u);p.onlineState=h;let m=!1;p.queries.forEach((v,k)=>{for(const S of k.Sa)S.Fa(h)&&(m=!0)}),m&&Km(p)}(i.eventManager,e),o.length&&i.lu.Y_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function SR(r,e,n){const i=Ce(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Eu.get(e),u=o&&o.key;if(u){let h=new ot(me.comparator);h=h.insert(u,Qt.newNoDocument(u,xe.min()));const p=De().add(u),m=new Yd(xe.min(),new Map,new ot(_e),h,p);await J1(i,m),i.Iu=i.Iu.remove(u),i.Eu.delete(e),qm(i)}else await Yp(i.localStore,e,!1).then(()=>Xp(i,e,n)).catch(yo)}async function xR(r,e){const n=Ce(r),i=e.batch.batchId;try{const o=await DA(n.localStore,e);eE(n,i,null),Z1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await mu(n,o)}catch(o){await yo(o)}}async function CR(r,e,n){const i=Ce(r);try{const o=await function(u,h){const p=Ce(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return p.mutationQueue.lookupMutationBatch(m,h).next(k=>($e(k!==null,37113),v=k.keys(),p.mutationQueue.removeMutationBatch(m,k))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>p.localDocuments.getDocuments(m,v))})}(i.localStore,e);eE(i,e,n),Z1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await mu(i,o)}catch(o){await yo(o)}}function Z1(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function eE(r,e,n){const i=Ce(r);let o=i.Au[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.Au[i.currentUser.toKey()]=o}}function Xp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Pu.get(e))r.hu.delete(i),n&&r.lu.gu(i,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(i=>{r.du.containsKey(i)||tE(r,i)})}function tE(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(Fm(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),qm(r))}function ow(r,e,n){for(const i of n)i instanceof Q1?(r.du.addReference(i.key,e),IR(r,i)):i instanceof G1?(ce(Wm,"Document no longer in limbo: "+i.key),r.du.removeReference(i.key,e),r.du.containsKey(i.key)||tE(r,i.key)):we(19791,{pu:i})}function IR(r,e){const n=e.key,i=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(i)||(ce(Wm,"New document in limbo: "+n),r.Tu.add(i),qm(r))}function qm(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new me(nt.fromString(e)),i=r.Vu.next();r.Eu.set(i,new mR(n)),r.Iu=r.Iu.insert(n,i),U1(r.remoteStore,new Us(vr(Nm(n.path)),i,"TargetPurposeLimboResolution",Vd.le))}}async function mu(r,e,n){const i=Ce(r),o=[],u=[],h=[];i.hu.isEmpty()||(i.hu.forEach((p,m)=>{h.push(i.fu(m,e,n).then(v=>{var k;if((v||n)&&i.isPrimaryClient){const S=v?!v.fromCache:(k=n==null?void 0:n.targetChanges.get(m.targetId))===null||k===void 0?void 0:k.current;i.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(v){o.push(v);const S=Mm.Rs(m.targetId,v);u.push(S)}}))}),await Promise.all(h),i.lu.Y_(o),await async function(p,m){const v=Ce(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>ee.forEach(m,S=>ee.forEach(S.ds,C=>v.persistence.referenceDelegate.addReference(k,S.targetId,C)).next(()=>ee.forEach(S.As,C=>v.persistence.referenceDelegate.removeReference(k,S.targetId,C)))))}catch(k){if(!bo(k))throw k;ce(zm,"Failed to update sequence numbers: "+k)}for(const k of m){const S=k.targetId;if(!k.fromCache){const C=v.xs.get(S),D=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(D);v.xs=v.xs.insert(S,O)}}}(i.localStore,u))}async function TR(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){ce(Wm,"User change. New user:",e.toKey());const i=await j1(n.localStore,e);n.currentUser=e,function(o,u){o.Ru.forEach(h=>{h.forEach(p=>{p.reject(new de(te.CANCELLED,u))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await mu(n,i.ks)}}function _R(r,e){const n=Ce(r),i=n.Eu.get(e);if(i&&i.cu)return De().add(i.key);{let o=De();const u=n.Pu.get(e);if(!u)return o;for(const h of u){const p=n.hu.get(h);o=o.unionWith(p.view.eu)}return o}}function nE(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=J1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_R.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SR.bind(null,e),e.lu.Y_=dR.bind(null,e.eventManager),e.lu.gu=hR.bind(null,e.eventManager),e}function NR(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CR.bind(null,e),e}class Id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return LA(this.persistence,new AA,e.initialUser,this.serializer)}Su(e){return new P1(jm.fi,this.serializer)}bu(e){return new UA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Id.provider={build:()=>new Id};class AR extends Id{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){$e(this.persistence.referenceDelegate instanceof xd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new mA(i,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new P1(i=>xd.fi(i,n),this.serializer)}}class Jp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>aw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=TR.bind(null,this.syncEngine),await lR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cR}()}createDatastore(e){const n=Qd(e.databaseInfo.databaseId),i=function(o){return new KA(o)}(e.databaseInfo);return function(o,u,h,p){return new QA(o,u,h,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(n,i,o,u,h){return new XA(n,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>aw(this.syncEngine,n,0),function(){return ew.C()?new ew:new VA}())}createSyncEngine(e,n){return function(i,o,u,h,p,m,v){const k=new gR(i,o,u,h,p,m);return v&&(k.mu=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ce(i);ce(Ki,"RemoteStore shutting down."),o.da.add(5),await pu(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jp.provider={build:()=>new Jp};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Js="FirestoreClient";class RR{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=Yk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{ce(Js,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ce(Js,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Hm(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function wp(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Js,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener(async o=>{i.isEqual(o)||(await j1(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function lw(r,e){r.asyncQueue.verifyOperationInProgress();const n=await OR(r);ce(Js,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(i=>nw(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>nw(e.remoteStore,o)),r._onlineComponents=e}async function OR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Js,"Using user provided OfflineComponentProvider");try{await wp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await wp(r,new Id)}}else ce(Js,"Using default OfflineComponentProvider"),await wp(r,new AR(void 0));return r._offlineComponents}async function sE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Js,"Using user provided OnlineComponentProvider"),await lw(r,r._uninitializedComponentsProvider._online)):(ce(Js,"Using default OnlineComponentProvider"),await lw(r,new Jp))),r._onlineComponents}function LR(r){return sE(r).then(e=>e.syncEngine)}async function iE(r){const e=await sE(r),n=e.eventManager;return n.onListen=vR.bind(null,e.syncEngine),n.onUnlisten=wR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kR.bind(null,e.syncEngine),n}function DR(r,e,n={}){const i=new Xr;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,h,p,m){const v=new rE({next:S=>{v.xu(),u.enqueueAndForget(()=>q1(o,k));const C=S.docs.has(h);!C&&S.fromCache?m.reject(new de(te.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&S.fromCache&&p&&p.source==="server"?m.reject(new de(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),k=new Y1(Nm(h.path),v,{includeMetadataChanges:!0,Qa:!0});return W1(o,k)}(await iE(r),r.asyncQueue,e,n,i)),i.promise}function PR(r,e,n={}){const i=new Xr;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,h,p,m){const v=new rE({next:S=>{v.xu(),u.enqueueAndForget(()=>q1(o,k)),S.fromCache&&p.source==="server"?m.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),k=new Y1(h,v,{includeMetadataChanges:!0,Qa:!0});return W1(o,k)}(await iE(r),r.asyncQueue,e,n,i)),i.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uw=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oE(r,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jR(r,e,n,i){if(e===!0&&i===!0)throw new de(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function cw(r){if(!me.isDocumentKey(r))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function dw(r){if(me.isDocumentKey(r))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Jd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function ss(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(r);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lE="firestore.googleapis.com",hw=!0;class fw{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lE,this.ssl=hw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=D1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fA)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zd{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new H_;switch(n.type){case"firstParty":return new Y_(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=uw.get(e);n&&(ce("ComponentProvider","Removing Datastore"),uw.delete(e),n.terminate())}(this),Promise.resolve()}}function MR(r,e,n,i={}){var o;r=ss(r,Zd);const u=Yi(e),h=r._getSettings(),p=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u&&(dm(`https://${m}`),hm("Firestore",!0)),h.host!==lE&&h.host!==m&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:m,ssl:u,emulatorOptions:i});if(!Ws(v,p)&&(r._setSettings(v),i.mockUserToken)){let k,S;if(typeof i.mockUserToken=="string")k=i.mockUserToken,S=Yt.MOCK_USER;else{k=n2(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=i.mockUserToken.sub||i.mockUserToken.user_id;if(!C)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Yt(C)}r._authCredentials=new K_(new Wk(k,S))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ko{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class ln{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Ks extends ko{constructor(e,n,i){super(e,n,Nm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new me(e))}withConverter(e){return new Ks(this.firestore,e,this._path)}}function pw(r,e,...n){if(r=dt(r),oE("collection","path",e),r instanceof Zd){const i=nt.fromString(e,...n);return dw(i),new Ks(r,null,i)}{if(!(r instanceof ln||r instanceof Ks))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(nt.fromString(e,...n));return dw(i),new Ks(r.firestore,null,i)}}function Td(r,e,...n){if(r=dt(r),arguments.length===1&&(e=Yk.newId()),oE("doc","path",e),r instanceof Zd){const i=nt.fromString(e,...n);return cw(i),new ln(r,null,new me(i))}{if(!(r instanceof ln||r instanceof Ks))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(nt.fromString(e,...n));return cw(i),new ln(r.firestore,r instanceof Ks?r.converter:null,new me(i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mw="AsyncQueue";class gw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new z1(this,"async_queue_retry"),this.rc=()=>{const i=bp();i&&ce(mw,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Xr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!bo(e))throw e;ce(mw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,ns("INTERNAL UNHANDLED ERROR: ",vw(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(e,n,i){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=$m.createAndSchedule(this,e,n,i,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&we(47125,{cc:vw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function vw(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Eo extends Zd{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new gw,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gw(e),this._firestoreClient=void 0,await e}}}function zR(r,e){const n=typeof r=="object"?r:jd(),i=typeof r=="string"?r:vd,o=Zs(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=Yw("firestore");u&&MR(o,...u)}return o}function Ym(r){if(r._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FR(r),r._firestoreClient}function FR(r){var e,n,i;const o=r._freezeSettings(),u=function(h,p,m,v){return new uN(h,p,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,aE(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new RR(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(r._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo($t.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new uo($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qm{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UR=/^__.*__$/;class VR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}class uE{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ic:r})}}class Jm{constructor(e,n,i,o,u,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Jm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:i,Rc:!1});return o.Vc(e),o}mc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:i,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return _d(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(cE(this.Ic)&&UR.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class BR{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Qd(e)}bc(e,n,i,o=!1){return new Jm({Ic:e,methodName:n,wc:i,path:Bt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zm(r){const e=r._freezeSettings(),n=Qd(r._databaseId);return new BR(r._databaseId,!!e.ignoreUndefinedProperties,n)}function $R(r,e,n,i,o,u={}){const h=r.bc(u.merge||u.mergeFields?2:0,e,n,o);eg("Data must be an object, but it was:",h,i);const p=dE(i,h);let m,v;if(u.merge)m=new bn(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const k=[];for(const S of u.mergeFields){const C=Zp(e,S,n);if(!h.contains(C))throw new de(te.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);fE(k,C)||k.push(C)}m=new bn(k),v=h.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,v=h.fieldTransforms;return new VR(new an(p),m,v)}class th extends Qm{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}function HR(r,e,n,i){const o=r.bc(1,e,n);eg("Data must be an object, but it was:",o,i);const u=[],h=an.empty();ti(i,(m,v)=>{const k=tg(e,m,n);v=dt(v);const S=o.mc(k);if(v instanceof th)u.push(k);else{const C=gu(v,S);C!=null&&(u.push(k),h.set(k,C))}});const p=new bn(u);return new uE(h,p,o.fieldTransforms)}function KR(r,e,n,i,o,u){const h=r.bc(1,e,n),p=[Zp(e,i,n)],m=[o];if(u.length%2!=0)throw new de(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)p.push(Zp(e,u[C])),m.push(u[C+1]);const v=[],k=an.empty();for(let C=p.length-1;C>=0;--C)if(!fE(v,p[C])){const D=p[C];let O=m[C];O=dt(O);const K=h.mc(D);if(O instanceof th)v.push(D);else{const z=gu(O,K);z!=null&&(v.push(D),k.set(D,z))}}const S=new bn(v);return new uE(k,S,h.fieldTransforms)}function WR(r,e,n,i=!1){return gu(n,r.bc(i?4:3,e))}function gu(r,e){if(hE(r=dt(r)))return eg("Unsupported field value:",e,r),dE(r,e);if(r instanceof Qm)return function(n,i){if(!cE(i.Ic))throw i.gc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(n,i){const o=[];let u=0;for(const h of n){let p=gu(h,i.fc(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=dt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ON(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=It.fromDate(n);return{timestampValue:Sd(i.serializer,o)}}if(n instanceof It){const o=new It(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Sd(i.serializer,o)}}if(n instanceof Gm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof uo)return{bytesValue:T1(i.serializer,n._byteString)};if(n instanceof ln){const o=i.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw i.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Dm(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Xm)return function(o,u){return{mapValue:{fields:{[n1]:{stringValue:r1},[yd]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw u.gc("VectorValues must only contain numeric values.");return Am(u.serializer,h)})}}}}}}(n,i);throw i.gc(`Unsupported field value: ${Jd(n)}`)}(r,e)}function dE(r,e){const n={};return Gk(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(r,(i,o)=>{const u=gu(o,e.Ac(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function hE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof It||r instanceof Gm||r instanceof uo||r instanceof ln||r instanceof Qm||r instanceof Xm)}function eg(r,e,n){if(!hE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=Jd(n);throw i==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+i)}}function Zp(r,e,n){if((e=dt(e))instanceof eh)return e._internalPath;if(typeof e=="string")return tg(r,e);throw _d("Field path arguments must be of type string or ",r,!1,void 0,n)}const qR=new RegExp("[~\\*/\\[\\]]");function tg(r,e,n){if(e.search(qR)>=0)throw _d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new eh(...e.split("."))._internalPath}catch{throw _d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function _d(r,e,n,i,o){const u=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${i}`),h&&(m+=` in document ${o}`),m+=")"),new de(te.INVALID_ARGUMENT,p+r+m)}function fE(r,e){return r.some(n=>n.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pE{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YR extends pE{data(){return super.data()}}function mE(r,e){return typeof e=="string"?tg(r,e):e instanceof eh?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function QR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class GR extends ng{}function XR(r,e,...n){let i=[];e instanceof ng&&i.push(e),i=i.concat(n),function(o){const u=o.filter(p=>p instanceof sg).length,h=o.filter(p=>p instanceof rg).length;if(u>1||u>0&&h>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)r=o._apply(r);return r}class rg extends GR{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new rg(e,n,i)}_apply(e){const n=this._parse(e);return gE(e._query,n),new ko(e.firestore,e.converter,Bp(e._query,n))}_parse(e){const n=Zm(e.firestore);return function(i,o,u,h,p,m,v){let k;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){bw(v,m);const S=[];for(const C of v)S.push(yw(h,i,C));k={arrayValue:{values:S}}}else k=yw(h,i,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||bw(v,m),k=WR(u,o,v,m==="in"||m==="not-in");return wt.create(p,m,k)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class sg extends ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const p of h)gE(u,p),u=Bp(u,p)}(e._query,n),new ko(e.firestore,e.converter,Bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yw(r,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d1(e)&&n.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(nt.fromString(n));if(!me.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ob(r,new me(i))}if(n instanceof ln)return Ob(r,n._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(n)}.`)}function bw(r,e){if(!Array.isArray(r)||r.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gE(r,e){const n=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JR{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ti(e,(o,u)=>{i[o]=this.convertValue(u,n)}),i}convertVectorValue(e){var n,i,o;const u=(o=(i=(n=e.fields)===null||n===void 0?void 0:n[yd].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>mt(h.doubleValue));return new Xm(u)}convertGeoPoint(e){return new Gm(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=$d(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=nt.fromString(e);$e(L1(i),9688,{name:e});const o=new tu(i.get(1),i.get(3)),u=new me(i.popFirst(5));return o.isEqual(n)||ns(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ZR(r,e,n){let i;return i=r?r.toFirestore(e):e,i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vE extends pE{constructor(e,n,i,o,u,h){super(e,n,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(mE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class id extends vE{data(e={}){return super.data(e)}}class eO{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new id(this._firestore,this._userDataWriter,i.key,i,new Ul(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const p=new id(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Ul(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const p=new id(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Ul(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:tO(h.type),doc:p,oldIndex:m,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nO(r){r=ss(r,ln);const e=ss(r.firestore,Eo);return DR(Ym(e),r._key).then(n=>oO(e,r,n))}class yE extends JR{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function rO(r){r=ss(r,ko);const e=ss(r.firestore,Eo),n=Ym(e),i=new yE(e);return QR(r._query),PR(n,r._query).then(o=>new eO(e,i,r,o))}function sO(r,e,n,...i){r=ss(r,ln);const o=ss(r.firestore,Eo),u=Zm(o);let h;return h=typeof(e=dt(e))=="string"||e instanceof eh?KR(u,"updateDoc",r._key,e,n,i):HR(u,"updateDoc",r._key,e),ig(o,[h.toMutation(r._key,Hn.exists(!0))])}function iO(r){return ig(ss(r.firestore,Eo),[new Rm(r._key,Hn.none())])}function aO(r,e){const n=ss(r.firestore,Eo),i=Td(r),o=ZR(r.converter,e);return ig(n,[$R(Zm(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,Hn.exists(!1))]).then(()=>i)}function ig(r,e){return function(n,i){const o=new Xr;return n.asyncQueue.enqueueAndForget(async()=>ER(await LR(n),i,o)),o.promise}(Ym(r),e)}function oO(r,e,n){const i=n.docs.get(e._key),o=new yE(r);return new vE(r,o,e._key,i,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(r,e=!0){(function(n){vo=n})(po),Wn(new jn("firestore",(n,{instanceIdentifier:i,options:o})=>{const u=n.getProvider("app").getImmediate(),h=new Eo(new W_(n.getProvider("auth-internal")),new Q_(u,n.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(p.options.projectId,m)}(u,i),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),on(wb,kb,r),on(wb,kb,"esm2017")})();var lO="firebase",uO="11.9.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/on(lO,uO,"app");/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bE="functions";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cO{constructor(e,n,i,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||i.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o==null||o.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:o}}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const em="us-central1";class dO{constructor(e,n,i,o,u=em,h=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=h,this.emulatorOrigin=null,this.contextProvider=new cO(e,n,i,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(u);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=em}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function hO(r,e,n){const i=Yi(e);r.emulatorOrigin=`http${i?"s":""}://${e}:${n}`,i&&(dm(r.emulatorOrigin),hm("Functions",!0))}const ww="@firebase/functions",kw="0.12.8";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fO="auth-internal",pO="app-check-internal",mO="messaging-internal";function gO(r){const e=(n,{instanceIdentifier:i})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(fO),h=n.getProvider(mO),p=n.getProvider(pO);return new dO(o,u,h,p,i)};Wn(new jn(bE,e,"PUBLIC").setMultipleInstances(!0)),on(ww,kw,r),on(ww,kw,"esm2017")}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vO(r=jd(),e=em){const n=Zs(dt(r),bE).getImmediate({identifier:e}),i=Yw("functions");return i&&yO(n,...i),n}function yO(r,e,n){hO(dt(r),e,n)}gO();const wE="@firebase/installations",ag="0.6.17";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kE=1e4,EE=`w:${ag}`,SE="FIS_v2",bO="https://firebaseinstallations.googleapis.com/v1",wO=60*60*1e3,kO="installations",EO="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wi=new Qi(kO,EO,SO);function xE(r){return r instanceof Gn&&r.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function CE({projectId:r}){return`${bO}/projects/${r}/installations`}function IE(r){return{token:r.token,requestStatus:2,expiresIn:CO(r.expiresIn),creationTime:Date.now()}}async function TE(r,e){const n=(await e.json()).error;return Wi.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function _E({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function xO(r,{refreshToken:e}){const n=_E(r);return n.append("Authorization",IO(e)),n}async function NE(r){const e=await r();return e.status>=500&&e.status<600?r():e}function CO(r){return Number(r.replace("s","000"))}function IO(r){return`${SE} ${r}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function TO({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const i=CE(r),o=_E(r),u=e.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const h={fid:n,authVersion:SE,appId:r.appId,sdkVersion:EE},p={method:"POST",headers:o,body:JSON.stringify(h)},m=await NE(()=>fetch(i,p));if(m.ok){const v=await m.json();return{fid:v.fid||n,registrationStatus:2,refreshToken:v.refreshToken,authToken:IE(v.authToken)}}else throw await TE("Create Installation",m)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function AE(r){return new Promise(e=>{setTimeout(e,r)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _O(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const NO=/^[cdef][\w-]{21}$/,tm="";function AO(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const e=RO(r);return NO.test(e)?e:tm}catch{return tm}}function RO(r){return _O(r).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nh(r){return`${r.appName}!${r.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const RE=new Map;function OE(r,e){const n=nh(r);LE(n,e),OO(n,e)}function LE(r,e){const n=RE.get(r);if(n)for(const i of n)i(e)}function OO(r,e){const n=LO();n&&n.postMessage({key:r,fid:e}),DO()}let Bi=null;function LO(){return!Bi&&"BroadcastChannel"in self&&(Bi=new BroadcastChannel("[Firebase] FID Change"),Bi.onmessage=r=>{LE(r.data.key,r.data.fid)}),Bi}function DO(){RE.size===0&&Bi&&(Bi.close(),Bi=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PO="firebase-installations-database",jO=1,qi="firebase-installations-store";let kp=null;function og(){return kp||(kp=nk(PO,jO,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(qi)}}})),kp}async function Nd(r,e){const n=nh(r),i=(await og()).transaction(qi,"readwrite"),o=i.objectStore(qi),u=await o.get(n);return await o.put(e,n),await i.done,(!u||u.fid!==e.fid)&&OE(r,e.fid),e}async function DE(r){const e=nh(r),n=(await og()).transaction(qi,"readwrite");await n.objectStore(qi).delete(e),await n.done}async function rh(r,e){const n=nh(r),i=(await og()).transaction(qi,"readwrite"),o=i.objectStore(qi),u=await o.get(n),h=e(u);return h===void 0?await o.delete(n):await o.put(h,n),await i.done,h&&(!u||u.fid!==h.fid)&&OE(r,h.fid),h}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function lg(r){let e;const n=await rh(r.appConfig,i=>{const o=MO(i),u=zO(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===tm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function MO(r){const e=r||{fid:AO(),registrationStatus:0};return PE(e)}function zO(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Wi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=FO(r,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UO(r)}:{installationEntry:e}}async function FO(r,e){try{const n=await TO(r,e);return Nd(r.appConfig,n)}catch(n){throw xE(n)&&n.customData.serverCode===409?await DE(r.appConfig):await Nd(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function UO(r){let e=await Ew(r.appConfig);for(;e.registrationStatus===1;)await AE(100),e=await Ew(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await lg(r);return i||n}return e}function Ew(r){return rh(r,e=>{if(!e)throw Wi.create("installation-not-found");return PE(e)})}function PE(r){return VO(r)?{fid:r.fid,registrationStatus:0}:r}function VO(r){return r.registrationStatus===1&&r.registrationTime+kE<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function BO({appConfig:r,heartbeatServiceProvider:e},n){const i=$O(r,n),o=xO(r,n),u=e.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const h={installation:{sdkVersion:EE,appId:r.appId}},p={method:"POST",headers:o,body:JSON.stringify(h)},m=await NE(()=>fetch(i,p));if(m.ok){const v=await m.json();return IE(v)}else throw await TE("Generate Auth Token",m)}function $O(r,{fid:e}){return`${CE(r)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ug(r,e=!1){let n;const i=await rh(r.appConfig,o=>{if(!jE(o))throw Wi.create("not-registered");const u=o.authToken;if(!e&&WO(u))return o;if(u.requestStatus===1)return n=HO(r,e),o;{if(!navigator.onLine)throw Wi.create("app-offline");const h=YO(o);return n=KO(r,h),h}});return n?await n:i.authToken}async function HO(r,e){let n=await Sw(r.appConfig);for(;n.authToken.requestStatus===1;)await AE(100),n=await Sw(r.appConfig);const i=n.authToken;return i.requestStatus===0?ug(r,e):i}function Sw(r){return rh(r,e=>{if(!jE(e))throw Wi.create("not-registered");const n=e.authToken;return QO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function KO(r,e){try{const n=await BO(r,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Nd(r.appConfig,i),n}catch(n){if(xE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await DE(r.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Nd(r.appConfig,i)}throw n}}function jE(r){return r!==void 0&&r.registrationStatus===2}function WO(r){return r.requestStatus===2&&!qO(r)}function qO(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+wO}function YO(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function QO(r){return r.requestStatus===1&&r.requestTime+kE<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function GO(r){const e=r,{installationEntry:n,registrationPromise:i}=await lg(e);return i?i.catch(console.error):ug(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function XO(r,e=!1){const n=r;return await JO(n),(await ug(n,e)).token}async function JO(r){const{registrationPromise:e}=await lg(r);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ZO(r){if(!r||!r.options)throw Ep("App Configuration");if(!r.name)throw Ep("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Ep(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Ep(r){return Wi.create("missing-app-config-values",{valueName:r})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ME="installations",e4="installations-internal",t4=r=>{const e=r.getProvider("app").getImmediate(),n=ZO(e),i=Zs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},n4=r=>{const e=r.getProvider("app").getImmediate(),n=Zs(e,ME).getImmediate();return{getId:()=>GO(n),getToken:i=>XO(n,i)}};function r4(){Wn(new jn(ME,t4,"PUBLIC")),Wn(new jn(e4,n4,"PRIVATE"))}r4();on(wE,ag);on(wE,ag,"esm2017");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ad="analytics",s4="firebase_id",i4="origin",a4=60*1e3,o4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cg="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const un=new Pd("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const l4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new Qi("analytics","Analytics",l4);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function u4(r){if(!r.startsWith(cg)){const e=wn.create("invalid-gtag-resource",{gtagURL:r});return un.warn(e.message),""}return r}function zE(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function c4(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function d4(r,e){const n=c4("firebase-js-sdk-policy",{createScriptURL:u4}),i=document.createElement("script"),o=`${cg}?l=${r}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function h4(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function f4(r,e,n,i,o,u){const h=i[o];try{if(h)await e[h];else{const p=(await zE(n)).find(m=>m.measurementId===o);p&&await e[p.appId]}}catch(p){un.error(p)}r("config",o,u)}async function p4(r,e,n,i,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const p=await zE(n);for(const m of h){const v=p.find(S=>S.measurementId===m),k=v&&e[v.appId];if(k)u.push(k);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",i,o||{})}catch(u){un.error(u)}}function m4(r,e,n,i){async function o(u,...h){try{if(u==="event"){const[p,m]=h;await p4(r,e,n,p,m)}else if(u==="config"){const[p,m]=h;await f4(r,e,n,i,p,m)}else if(u==="consent"){const[p,m]=h;r("consent",p,m)}else if(u==="get"){const[p,m,v]=h;r("get",p,m,v)}else if(u==="set"){const[p]=h;r("set",p)}else r(u,...h)}catch(p){un.error(p)}}return o}function g4(r,e,n,i,o){let u=function(...h){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=m4(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function v4(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(cg)&&n.src.includes(r))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const y4=30,b4=1e3;class w4{constructor(e={},n=b4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const FE=new w4;function k4(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function E4(r){var e;const{appId:n,apiKey:i}=r,o={method:"GET",headers:k4(i)},u=o4.replace("{app-id}",n),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let p="";try{const m=await h.json();!((e=m.error)===null||e===void 0)&&e.message&&(p=m.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:p})}return h.json()}async function S4(r,e=FE,n){const{appId:i,apiKey:o,measurementId:u}=r.options;if(!i)throw wn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:i};throw wn.create("no-api-key")}const h=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new I4;return setTimeout(async()=>{p.abort()},a4),UE({appId:i,apiKey:o,measurementId:u},h,p,e)}async function UE(r,{throttleEndTimeMillis:e,backoffCount:n},i,o=FE){var u;const{appId:h,measurementId:p}=r;try{await x4(i,e)}catch(m){if(p)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:h,measurementId:p};throw m}try{const m=await E4(r);return o.deleteThrottleMetadata(h),m}catch(m){const v=m;if(!C4(v)){if(o.deleteThrottleMetadata(h),p)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:h,measurementId:p};throw m}const k=Number((u=v==null?void 0:v.customData)===null||u===void 0?void 0:u.httpStatus)===503?H0(n,o.intervalMillis,y4):H0(n,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+k,backoffCount:n+1};return o.setThrottleMetadata(h,S),un.debug(`Calling attemptFetch again in ${k} millis`),UE(r,S,i,o)}}function x4(r,e){return new Promise((n,i)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),i(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function C4(r){if(!(r instanceof Gn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class I4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function T4(r,e,n,i,o){if(o&&o.global){r("event",n,i);return}else{const u=await e,h=Object.assign(Object.assign({},i),{send_to:u});r("event",n,h)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _4(){if(Jw())try{await Zw()}catch(r){return un.warn(wn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return un.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function N4(r,e,n,i,o,u,h){var p;const m=S4(r);m.then(D=>{n[D.measurementId]=D.appId,r.options.measurementId&&D.measurementId!==r.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>un.error(D)),e.push(m);const v=_4().then(D=>{if(D)return i.getId()}),[k,S]=await Promise.all([m,v]);v4(u)||d4(u,k.measurementId),o("js",new Date);const C=(p=h==null?void 0:h.config)!==null&&p!==void 0?p:{};return C[i4]="firebase",C.update=!0,S!=null&&(C[s4]=S),o("config",k.measurementId,C),k.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class A4{constructor(e){this.app=e}_delete(){return delete Yl[this.app.options.appId],Promise.resolve()}}let Yl={},xw=[];const Cw={};let Sp="dataLayer",R4="gtag",Iw,VE,Tw=!1;function O4(){const r=[];if(Xw()&&r.push("This is a browser extension environment."),d2()||r.push("Cookies are not available."),r.length>0){const e=r.map((i,o)=>`(${o+1}) ${i}`).join(" "),n=wn.create("invalid-analytics-context",{errorInfo:e});un.warn(n.message)}}function L4(r,e,n){O4();const i=r.options.appId;if(!i)throw wn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(Yl[i]!=null)throw wn.create("already-exists",{id:i});if(!Tw){h4(Sp);const{wrappedGtag:o,gtagCore:u}=g4(Yl,xw,Cw,Sp,R4);VE=o,Iw=u,Tw=!0}return Yl[i]=N4(r,xw,Cw,e,Iw,Sp,n),new A4(r)}function D4(r=jd()){r=dt(r);const e=Zs(r,Ad);return e.isInitialized()?e.getImmediate():P4(r)}function P4(r,e={}){const n=Zs(r,Ad);if(n.isInitialized()){const i=n.getImmediate();if(Ws(e,n.getOptions()))return i;throw wn.create("already-initialized")}return n.initialize({options:e})}function j4(r,e,n,i){r=dt(r),T4(VE,Yl[r.app.options.appId],e,n,i).catch(o=>un.error(o))}const _w="@firebase/analytics",Nw="0.10.16";function M4(){Wn(new jn(Ad,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return L4(i,o,n)},"PUBLIC")),Wn(new jn("analytics-internal",r,"PRIVATE")),on(_w,Nw),on(_w,Nw,"esm2017");function r(e){try{const n=e.getProvider(Ad).getImmediate();return{logEvent:(i,o,u)=>j4(n,i,o,u)}}catch(n){throw wn.create("interop-component-reg-failed",{reason:n})}}}M4();const z4={apiKey:"AIzaSyD77q26KDxXNRLtKBFg3WuiKiGiGiRGei0",authDomain:"welfare-management.firebaseapp.com",projectId:"welfare-management",storageBucket:"welfare-management.firebasestorage.app",messagingSenderId:"42926946509",appId:"1:42926946509:web:fc83fabfdcdd2ec44a1184",measurementId:"G-BC3SMBTT4C"},sh=rk(z4),xp=B_(sh),Vl=zR(sh);vO(sh);D4(sh);const BE=q.createContext(void 0),Zi=()=>{const r=q.useContext(BE);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},F4=({children:r})=>{const[e,n]=q.useState(null),[i,o]=q.useState(null),[u,h]=q.useState(!0);q.useEffect(()=>AT(xp,async m=>{if(n(m),m)try{const v=await nO(Td(Vl,"users",m.uid));v.exists()&&o(v.data())}catch(v){console.error("Error fetching user data:",v)}else o(null);h(!1)}),[]);const p={user:e,userData:i,loading:u,login:async(m,v)=>{await TT(xp,m,v)},logout:async()=>{await RT(xp)}};return y.jsx(BE.Provider,{value:p,children:r})},Wa=({children:r,requiredRole:e})=>{const{user:n,userData:i,loading:o}=Zi();return o?y.jsx("div",{children:"Loading..."}):!n||!i?y.jsx(od,{to:"/login",replace:!0}):e&&i.role!==e?y.jsx(od,{to:"/unauthorized",replace:!0}):y.jsx(y.Fragment,{children:r})},U4=()=>{const[r,e]=q.useState(""),[n,i]=q.useState(""),[o,u]=q.useState(""),[h,p]=q.useState(!1),{user:m,login:v}=Zi();if(m)return y.jsx(od,{to:"/dashboard",replace:!0});const k=async S=>{if(S.preventDefault(),u(""),p(!0),n.length<8){u("パスワードは8文字以上で入力してください"),p(!1);return}try{await v(r,n)}catch{u("ログインに失敗しました。メールアドレスとパスワードを確認してください。")}p(!1)};return y.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f5f5f5"},children:y.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",width:"100%",maxWidth:"400px"},children:[y.jsx("h1",{style:{textAlign:"center",marginBottom:"2rem"},children:"フランチャイズ実績管理システム"}),y.jsxs("form",{onSubmit:k,children:[y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"0.5rem"},children:"メールアドレス"}),y.jsx("input",{type:"email",id:"email",value:r,onChange:S=>e(S.target.value),required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}})]}),y.jsxs("div",{style:{marginBottom:"1.5rem"},children:[y.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"0.5rem"},children:"パスワード"}),y.jsx("input",{type:"password",id:"password",value:n,onChange:S=>i(S.target.value),required:!0,minLength:8,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}})]}),o&&y.jsx("div",{style:{color:"red",marginBottom:"1rem",textAlign:"center"},children:o}),y.jsx("button",{type:"submit",disabled:h,style:{width:"100%",padding:"0.75rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:h?"not-allowed":"pointer",opacity:h?.6:1},children:h?"ログイン中...":"ログイン"})]})]})})},Pn=({children:r})=>{const{userData:e,logout:n}=Zi(),i=Od(),o=is(),[u,h]=q.useState(!1),p=async()=>{try{await n()}catch(C){console.error("Logout error:",C)}},m=(e==null?void 0:e.role)==="HQ"?[{icon:"📊",label:"ダッシュボード",path:"/dashboard"},{icon:"🏢",label:"事業所管理",path:"/organizations"},{icon:"👥",label:"ユーザー管理",path:"/users"},{icon:"💰",label:"加算マスタ",path:"/addon-master"},{icon:"👶",label:"在籍児童",path:"/children"},{icon:"📝",label:"日次実績",path:"/daily-reports"},{icon:"📈",label:"レポート",path:"/reports"}]:[{icon:"📊",label:"ダッシュボード",path:"/dashboard"},{icon:"👶",label:"在籍児童",path:"/children"},{icon:"📝",label:"日次実績",path:"/daily-reports"},{icon:"📈",label:"レポート",path:"/reports"}],v={position:"fixed",left:0,top:0,height:"100vh",width:u?"80px":"280px",background:"linear-gradient(180deg, #1e40af 0%, #1d4ed8 50%, #2563eb 100%)",backdropFilter:"blur(20px)",borderRight:"1px solid rgba(255, 255, 255, 0.1)",transition:"all 350ms cubic-bezier(0.4, 0, 0.2, 1)",zIndex:1e3,overflow:"hidden"},k={marginLeft:u?"80px":"280px",minHeight:"100vh",transition:"margin-left 350ms cubic-bezier(0.4, 0, 0.2, 1)",background:"linear-gradient(135deg, #f9fafb 0%, #eff6ff 100%)"},S={height:"80px",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(229, 231, 235, 0.5)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 2rem",position:"sticky",top:0,zIndex:100};return y.jsxs("div",{style:{display:"flex",fontFamily:"var(--font-family-sans)"},children:[y.jsxs("div",{style:v,children:[y.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"12px"},children:[y.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #ffffff, #e0f2fe)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",flexShrink:0},children:"🏥"}),!u&&y.jsxs("div",{children:[y.jsx("h1",{style:{color:"white",fontSize:"1.25rem",fontWeight:"700",margin:0,lineHeight:1.2},children:"福祉管理"}),y.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.75rem",margin:0},children:"Management System"})]})]}),y.jsx("nav",{style:{padding:"1rem 0",flex:1},children:m.map(C=>{const D=o.pathname===C.path;return y.jsxs("button",{onClick:()=>i(C.path),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 24px",background:D?"linear-gradient(90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1))":"transparent",border:"none",color:"white",cursor:"pointer",transition:"all 200ms ease",borderRight:D?"3px solid white":"3px solid transparent",fontSize:"0.875rem",fontWeight:D?"600":"500",justifyContent:u?"center":"flex-start"},onMouseEnter:O=>{D||(O.currentTarget.style.background="rgba(255, 255, 255, 0.1)",O.currentTarget.style.transform="translateX(4px)")},onMouseLeave:O=>{D||(O.currentTarget.style.background="transparent",O.currentTarget.style.transform="translateX(0)")},children:[y.jsx("span",{style:{fontSize:"1.25rem",flexShrink:0},children:C.icon}),!u&&y.jsx("span",{children:C.label})]},C.path)})}),y.jsx("div",{style:{padding:"1rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:y.jsx("button",{onClick:()=>h(!u),style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"1.25rem",transition:"all 200ms ease"},onMouseEnter:C=>{C.currentTarget.style.background="rgba(255, 255, 255, 0.2)",C.currentTarget.style.transform="scale(1.05)"},onMouseLeave:C=>{C.currentTarget.style.background="rgba(255, 255, 255, 0.1)",C.currentTarget.style.transform="scale(1)"},children:u?"→":"←"})})]}),y.jsxs("div",{style:k,children:[y.jsxs("header",{style:S,children:[y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:y.jsx("div",{style:{padding:"8px 16px",background:"linear-gradient(135deg, #dbeafe, #bfdbfe)",borderRadius:"20px",fontSize:"0.875rem",fontWeight:"600",color:"#1d4ed8"},children:(e==null?void 0:e.role)==="HQ"?"HQ管理者":"FC管理者"})}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"rgba(107, 114, 128, 0.1)",borderRadius:"12px",fontSize:"0.875rem",color:"#4b5563"},children:[y.jsx("div",{style:{width:"8px",height:"8px",background:"#10b981",borderRadius:"50%"}}),e==null?void 0:e.email]}),y.jsx("button",{onClick:p,className:"btn btn-secondary",style:{padding:"8px 16px",fontSize:"0.875rem"},children:"ログアウト"})]})]}),y.jsx("main",{style:{padding:"2rem",minHeight:"calc(100vh - 80px)"},children:y.jsx("div",{className:"fade-in",children:r})})]})]})},V4=()=>{const{userData:r}=Zi();return y.jsx(Pn,{children:y.jsxs("div",{className:"slide-in",children:[y.jsxs("div",{style:{marginBottom:"var(--space-8)"},children:[y.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:"🏥 ダッシュボード"}),y.jsxs("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:[(r==null?void 0:r.role)==="HQ"?"HQ管理者":"FC管理者","として福祉管理システムにアクセスしています"]})]}),y.jsx("div",{style:{display:"grid",gap:"var(--space-8)"},children:y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"var(--space-6)"},children:[y.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[y.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--primary-500), var(--primary-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:"👥"}),y.jsxs("div",{children:[y.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:"12名"}),y.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:"今日の利用者数"})]})]})}),y.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[y.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--success-500), var(--success-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:"💰"}),y.jsxs("div",{children:[y.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:"¥45,600"}),y.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:"今日の売上"})]})]})}),y.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[y.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:"⏰"}),y.jsxs("div",{children:[y.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:"4.2h"}),y.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:"平均支援時間"})]})]})})]})})]})})},B4=()=>y.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f5f5f5"},children:y.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[y.jsx("h1",{style:{color:"#dc3545",marginBottom:"1rem"},children:"アクセス権限がありません"}),y.jsx("p",{style:{marginBottom:"2rem"},children:"このページにアクセスする権限がありません。"}),y.jsx(cm,{to:"/dashboard",style:{display:"inline-block",padding:"0.75rem 1.5rem",backgroundColor:"#007bff",color:"white",textDecoration:"none",borderRadius:"4px"},children:"ダッシュボードに戻る"})]})}),Jr=r=>{const[e,n]=q.useState([]),[i,o]=q.useState(!0),[u,h]=q.useState(null),p=async(S=[])=>{try{o(!0);const C=pw(Vl,r),D=S.length>0?XR(C,...S):C,O=(await rO(D)).docs.map(K=>({id:K.id,...K.data()}));n(O),h(null)}catch(C){h(C instanceof Error?C.message:"データの取得に失敗しました")}finally{o(!1)}},m=async S=>{try{const C=pw(Vl,r),D=await aO(C,S),O={id:D.id,...S};return n(K=>[...K,O]),D.id}catch(C){throw h(C instanceof Error?C.message:"データの追加に失敗しました"),C}},v=async(S,C)=>{try{const D=Td(Vl,r,S);await sO(D,C),n(O=>O.map(K=>K.id===S?{...K,...C}:K))}catch(D){throw h(D instanceof Error?D.message:"データの更新に失敗しました"),D}},k=async S=>{try{const C=Td(Vl,r,S);await iO(C),n(D=>D.filter(O=>O.id!==S))}catch(C){throw h(C instanceof Error?C.message:"データの削除に失敗しました"),C}};return q.useEffect(()=>{p()},[r]),{data:e,loading:i,error:u,fetchData:p,addData:m,updateData:v,deleteData:k,refetch:p}},Cp=({children:r,title:e})=>{const{userData:n,logout:i}=Zi(),o=Od(),u=async()=>{try{await i()}catch(h){console.error("Logout error:",h)}};return y.jsxs("div",{style:{padding:"2rem"},children:[y.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",borderBottom:"1px solid #eee",paddingBottom:"1rem"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[y.jsx("button",{onClick:()=>o("/dashboard"),style:{padding:"0.5rem 1rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"← ダッシュボード"}),y.jsx("h1",{children:e})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[y.jsxs("span",{children:[(n==null?void 0:n.role)==="HQ"?"HQ管理者":"FC管理者"," - ",n==null?void 0:n.email]}),y.jsx("button",{onClick:u,style:{padding:"0.5rem 1rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"ログアウト"})]})]}),r]})},$4=()=>{const{data:r,loading:e,error:n,addData:i,updateData:o,deleteData:u}=Jr("organizations"),[h,p]=q.useState(!1),[m,v]=q.useState(null),[k,S]=q.useState({name:"",prefecture:"",address:"",facilityType:"児発",startDate:"",endDate:""}),C=async z=>{z.preventDefault();try{const Q={...k,startDate:new Date(k.startDate),endDate:k.endDate?new Date(k.endDate):void 0};m?await o(m.id,Q):await i(Q),K()}catch(Q){console.error("事業所の保存に失敗しました:",Q)}},D=z=>{v(z),S({name:z.name,prefecture:z.prefecture,address:z.address,facilityType:z.facilityType,startDate:z.startDate instanceof Date?z.startDate.toISOString().split("T")[0]:"",endDate:z.endDate instanceof Date?z.endDate.toISOString().split("T")[0]:""}),p(!0)},O=async z=>{if(window.confirm("この事業所を削除してもよろしいですか？"))try{await u(z)}catch(Q){console.error("事業所の削除に失敗しました:",Q)}},K=()=>{p(!1),v(null),S({name:"",prefecture:"",address:"",facilityType:"児発",startDate:"",endDate:""})};return e?y.jsx(Cp,{title:"事業所管理",children:y.jsx("div",{children:"読み込み中..."})}):n?y.jsx(Cp,{title:"事業所管理",children:y.jsxs("div",{style:{color:"red"},children:["エラー: ",n]})}):y.jsxs(Cp,{title:"事業所管理",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[y.jsx("div",{}),y.jsx("button",{onClick:()=>p(!0),style:{padding:"0.75rem 1.5rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"新規事業所追加"})]}),y.jsx("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{backgroundColor:"#f8f9fa"},children:[y.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:"事業所名"}),y.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:"都道府県"}),y.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:"施設種別"}),y.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:"開始日"}),y.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:"操作"})]})}),y.jsx("tbody",{children:r.map(z=>y.jsxs("tr",{children:[y.jsx("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:z.name}),y.jsx("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:z.prefecture}),y.jsx("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:z.facilityType}),y.jsx("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:z.startDate instanceof Date?z.startDate.toLocaleDateString():z.startDate}),y.jsxs("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:[y.jsx("button",{onClick:()=>D(z),style:{padding:"0.25rem 0.75rem",backgroundColor:"#ffc107",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"0.5rem"},children:"編集"}),y.jsx("button",{onClick:()=>O(z.id),style:{padding:"0.25rem 0.75rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"削除"})]})]},z.id))})]})}),h&&y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:y.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",width:"500px",maxHeight:"80vh",overflowY:"auto"},children:[y.jsx("h2",{children:m?"事業所編集":"新規事業所追加"}),y.jsxs("form",{onSubmit:C,children:[y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"事業所名"}),y.jsx("input",{type:"text",value:k.name,onChange:z=>S({...k,name:z.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"都道府県"}),y.jsx("input",{type:"text",value:k.prefecture,onChange:z=>S({...k,prefecture:z.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"住所"}),y.jsx("input",{type:"text",value:k.address,onChange:z=>S({...k,address:z.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"施設種別"}),y.jsxs("select",{value:k.facilityType,onChange:z=>S({...k,facilityType:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[y.jsx("option",{value:"児発",children:"児童発達支援"}),y.jsx("option",{value:"放デイ",children:"放課後等デイサービス"}),y.jsx("option",{value:"就労B",children:"就労支援B型"})]})]}),y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"開始日"}),y.jsx("input",{type:"date",value:k.startDate,onChange:z=>S({...k,startDate:z.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"終了日（任意）"}),y.jsx("input",{type:"date",value:k.endDate,onChange:z=>S({...k,endDate:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[y.jsx("button",{type:"button",onClick:K,style:{padding:"0.75rem 1.5rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"キャンセル"}),y.jsx("button",{type:"submit",style:{padding:"0.75rem 1.5rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:m?"更新":"追加"})]})]})]})})]})},H4=()=>{const{data:r,loading:e,error:n,addData:i,updateData:o,deleteData:u}=Jr("users"),{data:h}=Jr("organizations"),[p,m]=q.useState(!1),[v,k]=q.useState(null),[S,C]=q.useState({email:"",orgId:"",role:"FC",isActive:!0}),D=async F=>{F.preventDefault();try{const ie={...S,uid:(v==null?void 0:v.uid)||`user_${Date.now()}`};v?await o(v.uid,ie):await i(ie),z()}catch(ie){console.error("ユーザーの保存に失敗しました:",ie)}},O=F=>{k(F),C({email:F.email,orgId:F.orgId,role:F.role,isActive:F.isActive}),m(!0)},K=async F=>{if(window.confirm("このユーザーを削除してもよろしいですか？"))try{await u(F)}catch(ie){console.error("ユーザーの削除に失敗しました:",ie)}},z=()=>{m(!1),k(null),C({email:"",orgId:"",role:"FC",isActive:!0})},Q=F=>{const ie=h.find(re=>re.id===F||re.orgId===F);return(ie==null?void 0:ie.name)||"不明"};return e?y.jsx(Pn,{children:y.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:y.jsx("div",{className:"loading-spinner"})})}):n?y.jsx(Pn,{children:y.jsxs("div",{className:"card",style:{padding:"2rem",background:"linear-gradient(135deg, var(--error-50), var(--error-100))",border:"1px solid var(--error-200)",color:"var(--error-700)"},children:[y.jsx("h2",{children:"⚠️ エラーが発生しました"}),y.jsx("p",{children:n})]})}):y.jsx(Pn,{children:y.jsxs("div",{className:"slide-in",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-8)"},children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:"ユーザー管理"}),y.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:"システムユーザーの追加・編集・削除を行います"})]}),y.jsxs("button",{onClick:()=>m(!0),className:"btn btn-primary bounce-in",style:{padding:"var(--space-4) var(--space-6)",fontSize:"var(--font-size-base)",fontWeight:"600"},children:[y.jsx("span",{style:{fontSize:"1.25rem"},children:"👤"}),"新規ユーザー追加"]})]}),y.jsxs("div",{className:"card-glass",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)"},children:[y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:"登録ユーザー一覧"}),y.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),r.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"var(--space-12)",color:"var(--neutral-500)"},children:[y.jsx("div",{style:{fontSize:"4rem",marginBottom:"var(--space-4)"},children:"👥"}),y.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:"ユーザーが登録されていません"}),y.jsx("p",{children:"「新規ユーザー追加」ボタンから最初のユーザーを追加してください。"})]}):y.jsx("div",{style:{overflowX:"auto"},children:y.jsxs("table",{className:"table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"メールアドレス"}),y.jsx("th",{children:"所属事業所"}),y.jsx("th",{children:"権限"}),y.jsx("th",{children:"ステータス"}),y.jsx("th",{style:{width:"150px"},children:"操作"})]})}),y.jsx("tbody",{children:r.map(F=>y.jsxs("tr",{className:"fade-in",children:[y.jsx("td",{children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)"},children:[y.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, var(--primary-100), var(--primary-200))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem"},children:"👤"}),y.jsxs("div",{children:[y.jsx("div",{style:{fontWeight:"600",color:"var(--neutral-900)"},children:F.email}),y.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--neutral-500)"},children:["ID: ",F.uid]})]})]})}),y.jsx("td",{children:Q(F.orgId)}),y.jsx("td",{children:y.jsx("span",{style:{padding:"var(--space-1) var(--space-3)",borderRadius:"var(--radius-lg)",fontSize:"var(--font-size-sm)",fontWeight:"600",background:F.role==="HQ"?"linear-gradient(135deg, var(--primary-100), var(--primary-200))":"linear-gradient(135deg, var(--success-100), var(--success-200))",color:F.role==="HQ"?"var(--primary-700)":"var(--success-700)"},children:F.role==="HQ"?"HQ管理者":"FC管理者"})}),y.jsx("td",{children:y.jsx("span",{style:{padding:"var(--space-1) var(--space-3)",borderRadius:"var(--radius-lg)",fontSize:"var(--font-size-sm)",fontWeight:"600",background:F.isActive?"linear-gradient(135deg, var(--success-100), var(--success-200))":"linear-gradient(135deg, var(--neutral-100), var(--neutral-200))",color:F.isActive?"var(--success-700)":"var(--neutral-600)"},children:F.isActive?"有効":"無効"})}),y.jsx("td",{children:y.jsxs("div",{style:{display:"flex",gap:"var(--space-2)"},children:[y.jsx("button",{onClick:()=>O(F),className:"btn",style:{padding:"var(--space-2) var(--space-3)",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",color:"white",fontSize:"var(--font-size-sm)"},children:"✏️"}),y.jsx("button",{onClick:()=>K(F.uid),className:"btn btn-danger",style:{padding:"var(--space-2) var(--space-3)",fontSize:"var(--font-size-sm)"},children:"🗑️"})]})})]},F.uid))})]})})]}),p&&y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"var(--space-4)"},children:y.jsxs("div",{className:"card bounce-in",style:{width:"100%",maxWidth:"500px",padding:"var(--space-8)",borderRadius:"var(--radius-3xl)",background:"white",boxShadow:"var(--shadow-2xl)"},children:[y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-2)"},children:v?"ユーザー編集":"新規ユーザー追加"}),y.jsx("div",{style:{width:"40px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),y.jsxs("form",{onSubmit:D,children:[y.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[y.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"メールアドレス"}),y.jsx("input",{type:"email",value:S.email,onChange:F=>C({...S,email:F.target.value}),required:!0,className:"input",placeholder:"user@example.com"})]}),y.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[y.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"所属事業所"}),y.jsxs("select",{value:S.orgId,onChange:F=>C({...S,orgId:F.target.value}),required:!0,className:"input",children:[y.jsx("option",{value:"",children:"事業所を選択してください"}),h.map(F=>y.jsx("option",{value:F.id||F.orgId,children:F.name},F.id||F.orgId))]})]}),y.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[y.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"権限"}),y.jsxs("select",{value:S.role,onChange:F=>C({...S,role:F.target.value}),className:"input",children:[y.jsx("option",{value:"FC",children:"FC管理者"}),y.jsx("option",{value:"HQ",children:"HQ管理者"})]})]}),y.jsx("div",{style:{marginBottom:"var(--space-6)"},children:y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:S.isActive,onChange:F=>C({...S,isActive:F.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--primary-500)"}}),y.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"アクティブユーザー"})]})}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-4)"},children:[y.jsx("button",{type:"button",onClick:z,className:"btn btn-secondary",children:"キャンセル"}),y.jsx("button",{type:"submit",className:"btn btn-primary",children:v?"更新":"追加"})]})]})]})})]})})},K4=()=>{const{data:r,loading:e,error:n,addData:i,updateData:o,deleteData:u}=Jr("addOnMaster"),[h,p]=q.useState(!1),[m,v]=q.useState(null),[k,S]=q.useState({name:"",unitValue:0,isBasic:!1}),C=async F=>{F.preventDefault();try{const ie={...k,addOnId:(m==null?void 0:m.addOnId)||`addon_${Date.now()}`};m?await o(m.addOnId,ie):await i(ie),K()}catch(ie){console.error("加算の保存に失敗しました:",ie)}},D=F=>{v(F),S({name:F.name,unitValue:F.unitValue,isBasic:F.isBasic}),p(!0)},O=async F=>{if(window.confirm("この加算を削除してもよろしいですか？"))try{await u(F)}catch(ie){console.error("加算の削除に失敗しました:",ie)}},K=()=>{p(!1),v(null),S({name:"",unitValue:0,isBasic:!1})};if(e)return y.jsx(Pn,{children:y.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:y.jsx("div",{className:"loading-spinner"})})});if(n)return y.jsx(Pn,{children:y.jsxs("div",{className:"card",style:{padding:"2rem",background:"linear-gradient(135deg, var(--error-50), var(--error-100))",border:"1px solid var(--error-200)",color:"var(--error-700)"},children:[y.jsx("h2",{children:"⚠️ エラーが発生しました"}),y.jsx("p",{children:n})]})});const z=r.filter(F=>F.isBasic),Q=r.filter(F=>!F.isBasic);return y.jsx(Pn,{children:y.jsxs("div",{className:"slide-in",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-8)"},children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:"加算マスタ管理"}),y.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:"基本加算と随時加算の設定・管理を行います"})]}),y.jsxs("button",{onClick:()=>p(!0),className:"btn btn-primary bounce-in",style:{padding:"var(--space-4) var(--space-6)",fontSize:"var(--font-size-base)",fontWeight:"600"},children:[y.jsx("span",{style:{fontSize:"1.25rem"},children:"💰"}),"新規加算追加"]})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"var(--space-6)",marginBottom:"var(--space-8)"},children:[y.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[y.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--primary-500), var(--primary-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:"🏷️"}),y.jsxs("div",{children:[y.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:z.length}),y.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:"基本加算"})]})]})}),y.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[y.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--success-500), var(--success-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:"⭐"}),y.jsxs("div",{children:[y.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:Q.length}),y.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:"随時加算"})]})]})})]}),y.jsxs("div",{className:"card-glass slide-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)",marginBottom:"var(--space-6)"},children:[y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:"🏷️ 基本加算"}),y.jsx("p",{style:{color:"var(--neutral-600)",marginBottom:"var(--space-4)"},children:"常時適用される基本的な加算項目"}),y.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),z.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"var(--space-8)",color:"var(--neutral-500)"},children:[y.jsx("div",{style:{fontSize:"3rem",marginBottom:"var(--space-4)"},children:"🏷️"}),y.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:"基本加算が登録されていません"}),y.jsx("p",{children:"新規加算を追加して基本加算を設定してください。"})]}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"var(--space-4)"},children:z.map(F=>y.jsxs("div",{className:"card fade-in",style:{padding:"var(--space-5)",border:"2px solid var(--primary-200)",borderRadius:"var(--radius-xl)"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"var(--space-4)"},children:[y.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"600",color:"var(--neutral-900)"},children:F.name}),y.jsx("span",{style:{padding:"var(--space-1) var(--space-2)",background:"var(--primary-100)",color:"var(--primary-700)",borderRadius:"var(--radius-md)",fontSize:"var(--font-size-xs)",fontWeight:"600"},children:"基本"})]}),y.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--primary-600)",marginBottom:"var(--space-4)"},children:[F.unitValue.toLocaleString(),"単位"]}),y.jsxs("div",{style:{display:"flex",gap:"var(--space-2)"},children:[y.jsx("button",{onClick:()=>D(F),className:"btn",style:{padding:"var(--space-2) var(--space-3)",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",color:"white",fontSize:"var(--font-size-sm)",flex:1},children:"編集"}),y.jsx("button",{onClick:()=>O(F.addOnId),className:"btn btn-danger",style:{padding:"var(--space-2) var(--space-3)",fontSize:"var(--font-size-sm)",flex:1},children:"削除"})]})]},F.addOnId))})]}),y.jsxs("div",{className:"card-glass slide-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)"},children:[y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:"⭐ 随時加算"}),y.jsx("p",{style:{color:"var(--neutral-600)",marginBottom:"var(--space-4)"},children:"児童ごとに個別に選択する加算項目"}),y.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--success-500), var(--success-300))",borderRadius:"2px"}})]}),Q.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"var(--space-8)",color:"var(--neutral-500)"},children:[y.jsx("div",{style:{fontSize:"3rem",marginBottom:"var(--space-4)"},children:"⭐"}),y.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:"随時加算が登録されていません"}),y.jsx("p",{children:"新規加算を追加して随時加算を設定してください。"})]}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"var(--space-4)"},children:Q.map(F=>y.jsxs("div",{className:"card fade-in",style:{padding:"var(--space-5)",border:"2px solid var(--success-200)",borderRadius:"var(--radius-xl)"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"var(--space-4)"},children:[y.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"600",color:"var(--neutral-900)"},children:F.name}),y.jsx("span",{style:{padding:"var(--space-1) var(--space-2)",background:"var(--success-100)",color:"var(--success-700)",borderRadius:"var(--radius-md)",fontSize:"var(--font-size-xs)",fontWeight:"600"},children:"随時"})]}),y.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--success-600)",marginBottom:"var(--space-4)"},children:[F.unitValue.toLocaleString(),"単位"]}),y.jsxs("div",{style:{display:"flex",gap:"var(--space-2)"},children:[y.jsx("button",{onClick:()=>D(F),className:"btn",style:{padding:"var(--space-2) var(--space-3)",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",color:"white",fontSize:"var(--font-size-sm)",flex:1},children:"編集"}),y.jsx("button",{onClick:()=>O(F.addOnId),className:"btn btn-danger",style:{padding:"var(--space-2) var(--space-3)",fontSize:"var(--font-size-sm)",flex:1},children:"削除"})]})]},F.addOnId))})]}),h&&y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"var(--space-4)"},children:y.jsxs("div",{className:"card bounce-in",style:{width:"100%",maxWidth:"500px",padding:"var(--space-8)",borderRadius:"var(--radius-3xl)",background:"white",boxShadow:"var(--shadow-2xl)"},children:[y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-2)"},children:m?"加算編集":"新規加算追加"}),y.jsx("div",{style:{width:"40px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),y.jsxs("form",{onSubmit:C,children:[y.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[y.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"加算名"}),y.jsx("input",{type:"text",value:k.name,onChange:F=>S({...k,name:F.target.value}),required:!0,className:"input",placeholder:"例：療育支援加算"})]}),y.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[y.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"単位数"}),y.jsx("input",{type:"number",value:k.unitValue,onChange:F=>S({...k,unitValue:parseInt(F.target.value)||0}),required:!0,min:"0",className:"input",placeholder:"100"})]}),y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer"},children:[y.jsx("input",{type:"checkbox",checked:k.isBasic,onChange:F=>S({...k,isBasic:F.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--primary-500)"}}),y.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"基本加算（常時適用）"})]}),y.jsx("p",{style:{marginTop:"var(--space-2)",fontSize:"var(--font-size-xs)",color:"var(--neutral-500)"},children:"チェックを外すと随時加算として設定されます"})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-4)"},children:[y.jsx("button",{type:"button",onClick:K,className:"btn btn-secondary",children:"キャンセル"}),y.jsx("button",{type:"submit",className:"btn btn-primary",children:m?"更新":"追加"})]})]})]})})]})})},W4=()=>{const{userData:r}=Zi(),{data:e,loading:n,error:i,addData:o,updateData:u,deleteData:h}=Jr("children"),{data:p}=Jr("organizations"),[m,v]=q.useState(!1),[k,S]=q.useState(null),[C,D]=q.useState({name:"",orgId:(r==null?void 0:r.orgId)||"",defaultPickup:!1,defaultDrop:!1}),O=(r==null?void 0:r.role)==="HQ"?e:e.filter(re=>re.orgId===(r==null?void 0:r.orgId)),K=async re=>{re.preventDefault();try{const ue={...C,childId:(k==null?void 0:k.childId)||`child_${Date.now()}`,orgId:(r==null?void 0:r.role)==="HQ"?C.orgId:(r==null?void 0:r.orgId)||""};k?await u(k.childId,ue):await o(ue),F()}catch(ue){console.error("児童の保存に失敗しました:",ue)}},z=re=>{S(re),D({name:re.name,orgId:re.orgId,defaultPickup:re.defaultPickup,defaultDrop:re.defaultDrop}),v(!0)},Q=async re=>{if(window.confirm("この児童を削除してもよろしいですか？"))try{await h(re)}catch(ue){console.error("児童の削除に失敗しました:",ue)}},F=()=>{v(!1),S(null),D({name:"",orgId:(r==null?void 0:r.orgId)||"",defaultPickup:!1,defaultDrop:!1})},ie=re=>{const ue=p.find(ke=>ke.id===re||ke.orgId===re);return(ue==null?void 0:ue.name)||"不明"};return n?y.jsx(Pn,{children:y.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:y.jsx("div",{className:"loading-spinner"})})}):i?y.jsx(Pn,{children:y.jsxs("div",{className:"card",style:{padding:"2rem",background:"linear-gradient(135deg, var(--error-50), var(--error-100))",border:"1px solid var(--error-200)",color:"var(--error-700)"},children:[y.jsx("h2",{children:"⚠️ エラーが発生しました"}),y.jsx("p",{children:i})]})}):y.jsx(Pn,{children:y.jsxs("div",{className:"slide-in",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-8)"},children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:"在籍児童管理"}),y.jsxs("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:[(r==null?void 0:r.role)==="HQ"?"全事業所の":"所属事業所の","在籍児童の管理を行います"]})]}),y.jsxs("button",{onClick:()=>v(!0),className:"btn btn-primary bounce-in",style:{padding:"var(--space-4) var(--space-6)",fontSize:"var(--font-size-base)",fontWeight:"600"},children:[y.jsx("span",{style:{fontSize:"1.25rem"},children:"👶"}),"新規児童追加"]})]}),y.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)",marginBottom:"var(--space-8)"},children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[y.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--success-500), var(--success-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:"👶"}),y.jsxs("div",{children:[y.jsxs("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:[O.length,"名"]}),y.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:"在籍児童数"})]})]})}),y.jsxs("div",{className:"card-glass slide-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)"},children:[y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:"在籍児童一覧"}),y.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--success-500), var(--success-300))",borderRadius:"2px"}})]}),O.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"var(--space-12)",color:"var(--neutral-500)"},children:[y.jsx("div",{style:{fontSize:"4rem",marginBottom:"var(--space-4)"},children:"👶"}),y.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:"児童が登録されていません"}),y.jsx("p",{children:"「新規児童追加」ボタンから最初の児童を追加してください。"})]}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"var(--space-6)"},children:O.map(re=>y.jsxs("div",{className:"card fade-in",style:{padding:"var(--space-5)",borderRadius:"var(--radius-xl)",border:"2px solid var(--success-200)",transition:"all var(--transition-normal)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",marginBottom:"var(--space-4)"},children:[y.jsx("div",{style:{width:"50px",height:"50px",background:"linear-gradient(135deg, var(--success-200), var(--success-100))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:"👶"}),y.jsxs("div",{style:{flex:1},children:[y.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:re.name}),(r==null?void 0:r.role)==="HQ"&&y.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--neutral-600)"},children:ie(re.orgId)})]})]}),y.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[y.jsx("h4",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)",marginBottom:"var(--space-3)"},children:"送迎設定"}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-3)"},children:[y.jsxs("div",{style:{padding:"var(--space-3)",background:re.defaultPickup?"var(--success-50)":"var(--neutral-50)",borderRadius:"var(--radius-lg)",textAlign:"center",border:`2px solid ${re.defaultPickup?"var(--success-200)":"var(--neutral-200)"}`},children:[y.jsx("div",{style:{fontSize:"1.25rem",marginBottom:"var(--space-1)"},children:re.defaultPickup?"🚐":"🚫"}),y.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"600",color:re.defaultPickup?"var(--success-700)":"var(--neutral-600)"},children:"行き送迎"})]}),y.jsxs("div",{style:{padding:"var(--space-3)",background:re.defaultDrop?"var(--success-50)":"var(--neutral-50)",borderRadius:"var(--radius-lg)",textAlign:"center",border:`2px solid ${re.defaultDrop?"var(--success-200)":"var(--neutral-200)"}`},children:[y.jsx("div",{style:{fontSize:"1.25rem",marginBottom:"var(--space-1)"},children:re.defaultDrop?"🏠":"🚫"}),y.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"600",color:re.defaultDrop?"var(--success-700)":"var(--neutral-600)"},children:"帰り送迎"})]})]})]}),y.jsxs("div",{style:{display:"flex",gap:"var(--space-3)"},children:[y.jsx("button",{onClick:()=>z(re),className:"btn",style:{padding:"var(--space-3) var(--space-4)",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",color:"white",fontSize:"var(--font-size-sm)",flex:1},children:"✏️ 編集"}),y.jsx("button",{onClick:()=>Q(re.childId),className:"btn btn-danger",style:{padding:"var(--space-3) var(--space-4)",fontSize:"var(--font-size-sm)",flex:1},children:"🗑️ 削除"})]})]},re.childId))})]}),m&&y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"var(--space-4)"},children:y.jsxs("div",{className:"card bounce-in",style:{width:"100%",maxWidth:"500px",padding:"var(--space-8)",borderRadius:"var(--radius-3xl)",background:"white",boxShadow:"var(--shadow-2xl)"},children:[y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-2)"},children:k?"児童情報編集":"新規児童追加"}),y.jsx("div",{style:{width:"40px",height:"4px",background:"linear-gradient(90deg, var(--success-500), var(--success-300))",borderRadius:"2px"}})]}),y.jsxs("form",{onSubmit:K,children:[y.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[y.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"児童名"}),y.jsx("input",{type:"text",value:C.name,onChange:re=>D({...C,name:re.target.value}),required:!0,className:"input",placeholder:"山田 太郎"})]}),(r==null?void 0:r.role)==="HQ"&&y.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[y.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"所属事業所"}),y.jsxs("select",{value:C.orgId,onChange:re=>D({...C,orgId:re.target.value}),required:!0,className:"input",children:[y.jsx("option",{value:"",children:"事業所を選択してください"}),p.map(re=>y.jsx("option",{value:re.id||re.orgId,children:re.name},re.id||re.orgId))]})]}),y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsx("h3",{style:{fontSize:"var(--font-size-base)",fontWeight:"600",color:"var(--neutral-700)",marginBottom:"var(--space-4)"},children:"デフォルト送迎設定"}),y.jsx("div",{style:{marginBottom:"var(--space-4)"},children:y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-3)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)",transition:"all var(--transition-fast)"},children:[y.jsx("input",{type:"checkbox",checked:C.defaultPickup,onChange:re=>D({...C,defaultPickup:re.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--success-500)"}}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[y.jsx("span",{style:{fontSize:"1.25rem"},children:"🚐"}),y.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"行き送迎を行う"})]})]})}),y.jsx("div",{children:y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-3)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)",transition:"all var(--transition-fast)"},children:[y.jsx("input",{type:"checkbox",checked:C.defaultDrop,onChange:re=>D({...C,defaultDrop:re.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--success-500)"}}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[y.jsx("span",{style:{fontSize:"1.25rem"},children:"🏠"}),y.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"帰り送迎を行う"})]})]})})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-4)"},children:[y.jsx("button",{type:"button",onClick:F,className:"btn btn-secondary",children:"キャンセル"}),y.jsx("button",{type:"submit",className:"btn btn-success",children:k?"更新":"追加"})]})]})]})})]})})},q4=()=>{const{userData:r}=Zi(),{data:e,loading:n,addData:i,updateData:o}=Jr("dailyReports"),{data:u}=Jr("children"),{data:h}=Jr("addOnMaster"),[p,m]=q.useState(new Date().toISOString().split("T")[0]),[v,k]=q.useState([]),[S,C]=q.useState(!1),[D,O]=q.useState(null),[K,z]=q.useState({childId:"",arrival:"",departure:"",pickup:!1,drop:!1,addOns:[]}),Q=(r==null?void 0:r.role)==="HQ"?u:u.filter(T=>T.orgId===(r==null?void 0:r.orgId)),F=e.find(T=>T.date===p&&((r==null?void 0:r.role)==="HQ"||T.orgId===(r==null?void 0:r.orgId)));q.useEffect(()=>{k(F?F.children:Q.map(T=>({childId:T.childId,arrival:"",departure:"",pickup:T.defaultPickup,drop:T.defaultDrop,addOns:[]})))},[p,F,Q]);const ie=T=>{const R=v.find(N=>N.childId===T.childId);O(T),z(R||{childId:T.childId,arrival:"",departure:"",pickup:T.defaultPickup,drop:T.defaultDrop,addOns:[]}),C(!0)},re=()=>{k(T=>[...T.filter(R=>R.childId!==K.childId),K]),C(!1)},ue=async()=>{try{const T={reportId:`${r==null?void 0:r.orgId}_${p}`,orgId:(r==null?void 0:r.orgId)||"",date:p,children:v.filter(R=>R.arrival||R.departure)};F?await o(F.reportId,T):await i(T),alert("日次実績を保存しました！")}catch(T){console.error("日次実績の保存に失敗しました:",T),alert("保存に失敗しました。")}},ke=(T,R)=>{if(!T||!R)return 0;const N=new Date(`2000-01-01T${T}`),Je=new Date(`2000-01-01T${R}`).getTime()-N.getTime();return Math.max(0,Je/(1e3*60*60))},j=T=>v.find(R=>R.childId===T),I=v.filter(T=>T.arrival||T.departure).length,_=v.reduce((T,R)=>T+ke(R.arrival,R.departure),0),M=I>0?_/I:0;return n?y.jsx(Pn,{children:y.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:y.jsx("div",{className:"loading-spinner"})})}):y.jsx(Pn,{children:y.jsxs("div",{className:"slide-in",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-8)"},children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:"日次実績入力"}),y.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:"児童の出欠・到着退室時刻・加算の管理を行います"})]}),y.jsxs("div",{style:{display:"flex",gap:"var(--space-4)",alignItems:"center"},children:[y.jsx("input",{type:"date",value:p,onChange:T=>m(T.target.value),className:"input",style:{width:"auto",padding:"var(--space-3) var(--space-4)"}}),y.jsx("button",{onClick:ue,className:"btn btn-primary",style:{padding:"var(--space-4) var(--space-6)",fontSize:"var(--font-size-base)",fontWeight:"600"},children:"💾 実績保存"})]})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"var(--space-6)",marginBottom:"var(--space-8)"},children:[y.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[y.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--primary-500), var(--primary-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:"👥"}),y.jsxs("div",{children:[y.jsxs("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:[I,"名"]}),y.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:"今日の利用者数"})]})]})}),y.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[y.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--success-500), var(--success-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:"⏰"}),y.jsxs("div",{children:[y.jsxs("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:[M.toFixed(1),"h"]}),y.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:"平均支援時間"})]})]})})]}),y.jsxs("div",{className:"card-glass slide-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)"},children:[y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:"児童出欠管理"}),y.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),Q.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"var(--space-12)",color:"var(--neutral-500)"},children:[y.jsx("div",{style:{fontSize:"4rem",marginBottom:"var(--space-4)"},children:"👶"}),y.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:"在籍児童がいません"}),y.jsx("p",{children:"先に児童管理から児童を登録してください。"})]}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"var(--space-4)"},children:Q.map(T=>{const R=j(T.childId),N=ke(R==null?void 0:R.arrival,R==null?void 0:R.departure),Je=!!(R!=null&&R.arrival||R!=null&&R.departure);return y.jsxs("div",{className:"card fade-in",style:{padding:"var(--space-5)",borderRadius:"var(--radius-xl)",border:Je?"2px solid var(--success-300)":"2px solid var(--neutral-200)",cursor:"pointer",transition:"all var(--transition-normal)",background:Je?"linear-gradient(135deg, var(--success-50), white)":"white"},onClick:()=>ie(T),onMouseEnter:qe=>{qe.currentTarget.style.transform="translateY(-2px)",qe.currentTarget.style.boxShadow="var(--shadow-xl)"},onMouseLeave:qe=>{qe.currentTarget.style.transform="translateY(0)",qe.currentTarget.style.boxShadow="var(--shadow-lg)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",marginBottom:"var(--space-4)"},children:[y.jsx("div",{style:{width:"50px",height:"50px",background:Je?"linear-gradient(135deg, var(--success-400), var(--success-300))":"linear-gradient(135deg, var(--neutral-300), var(--neutral-200))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:Je?"✅":"👶"}),y.jsxs("div",{style:{flex:1},children:[y.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:T.name}),y.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:Je?"var(--success-600)":"var(--neutral-500)",fontWeight:"600"},children:Je?"出席":"未入力"})]})]}),Je&&y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-3)",marginBottom:"var(--space-4)"},children:[y.jsxs("div",{style:{padding:"var(--space-2)",background:"var(--primary-50)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--primary-600)",fontWeight:"600",marginBottom:"var(--space-1)"},children:"到着"}),y.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"700",color:"var(--primary-700)"},children:(R==null?void 0:R.arrival)||"--:--"})]}),y.jsxs("div",{style:{padding:"var(--space-2)",background:"var(--warning-50)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--warning-600)",fontWeight:"600",marginBottom:"var(--space-1)"},children:"退室"}),y.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"700",color:"var(--warning-700)"},children:(R==null?void 0:R.departure)||"--:--"})]})]}),N>0&&y.jsxs("div",{style:{padding:"var(--space-3)",background:"var(--success-100)",borderRadius:"var(--radius-lg)",textAlign:"center",marginBottom:"var(--space-4)"},children:[y.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"700",color:"var(--success-700)"},children:[N.toFixed(1),"時間"]}),y.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--success-600)"},children:"支援時間"})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-2)"},children:[y.jsxs("div",{style:{padding:"var(--space-2)",background:R!=null&&R.pickup?"var(--primary-50)":"var(--neutral-50)",borderRadius:"var(--radius-md)",textAlign:"center",border:`1px solid ${R!=null&&R.pickup?"var(--primary-200)":"var(--neutral-200)"}`},children:[y.jsx("div",{style:{fontSize:"1rem",marginBottom:"var(--space-1)"},children:R!=null&&R.pickup?"🚐":"🚫"}),y.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"600",color:R!=null&&R.pickup?"var(--primary-600)":"var(--neutral-500)"},children:"行き"})]}),y.jsxs("div",{style:{padding:"var(--space-2)",background:R!=null&&R.drop?"var(--primary-50)":"var(--neutral-50)",borderRadius:"var(--radius-md)",textAlign:"center",border:`1px solid ${R!=null&&R.drop?"var(--primary-200)":"var(--neutral-200)"}`},children:[y.jsx("div",{style:{fontSize:"1rem",marginBottom:"var(--space-1)"},children:R!=null&&R.drop?"🏠":"🚫"}),y.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"600",color:R!=null&&R.drop?"var(--primary-600)":"var(--neutral-500)"},children:"帰り"})]})]})]},T.childId)})})]}),S&&D&&y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"var(--space-4)"},children:y.jsxs("div",{className:"card bounce-in",style:{width:"100%",maxWidth:"600px",padding:"var(--space-8)",borderRadius:"var(--radius-3xl)",background:"white",boxShadow:"var(--shadow-2xl)",maxHeight:"90vh",overflowY:"auto"},children:[y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsxs("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-2)"},children:[D.name," - 実績入力"]}),y.jsx("div",{style:{width:"40px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-4)",marginBottom:"var(--space-6)"},children:[y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"到着時刻"}),y.jsx("input",{type:"time",value:K.arrival,onChange:T=>z({...K,arrival:T.target.value}),className:"input"})]}),y.jsxs("div",{children:[y.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"退室時刻"}),y.jsx("input",{type:"time",value:K.departure,onChange:T=>z({...K,departure:T.target.value}),className:"input"})]})]}),y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsx("h3",{style:{fontSize:"var(--font-size-base)",fontWeight:"600",color:"var(--neutral-700)",marginBottom:"var(--space-4)"},children:"送迎設定"}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-4)"},children:[y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-4)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)"},children:[y.jsx("input",{type:"checkbox",checked:K.pickup,onChange:T=>z({...K,pickup:T.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--primary-500)"}}),y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:"1.25rem"},children:"🚐"}),y.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"行き送迎"})]})]}),y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-4)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)"},children:[y.jsx("input",{type:"checkbox",checked:K.drop,onChange:T=>z({...K,drop:T.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--primary-500)"}}),y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:"1.25rem"},children:"🏠"}),y.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:"帰り送迎"})]})]})]})]}),y.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[y.jsx("h3",{style:{fontSize:"var(--font-size-base)",fontWeight:"600",color:"var(--neutral-700)",marginBottom:"var(--space-4)"},children:"随時加算"}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"var(--space-3)"},children:h.filter(T=>!T.isBasic).map(T=>y.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-3)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)"},children:[y.jsx("input",{type:"checkbox",checked:K.addOns.includes(T.addOnId),onChange:R=>{R.target.checked?z({...K,addOns:[...K.addOns,T.addOnId]}):z({...K,addOns:K.addOns.filter(N=>N!==T.addOnId)})},style:{width:"20px",height:"20px",accentColor:"var(--success-500)"}}),y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:T.name}),y.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--neutral-500)"},children:[T.unitValue,"単位"]})]})]},T.addOnId))})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-4)"},children:[y.jsx("button",{onClick:()=>C(!1),className:"btn btn-secondary",children:"キャンセル"}),y.jsx("button",{onClick:re,className:"btn btn-primary",children:"保存"})]})]})})]})})};function Y4(){return y.jsx(F4,{children:y.jsx(MC,{children:y.jsxs(fC,{children:[y.jsx(fr,{path:"/login",element:y.jsx(U4,{})}),y.jsx(fr,{path:"/unauthorized",element:y.jsx(B4,{})}),y.jsx(fr,{path:"/dashboard",element:y.jsx(Wa,{children:y.jsx(V4,{})})}),y.jsx(fr,{path:"/organizations",element:y.jsx(Wa,{requiredRole:"HQ",children:y.jsx($4,{})})}),y.jsx(fr,{path:"/users",element:y.jsx(Wa,{requiredRole:"HQ",children:y.jsx(H4,{})})}),y.jsx(fr,{path:"/addon-master",element:y.jsx(Wa,{requiredRole:"HQ",children:y.jsx(K4,{})})}),y.jsx(fr,{path:"/children",element:y.jsx(Wa,{children:y.jsx(W4,{})})}),y.jsx(fr,{path:"/daily-reports",element:y.jsx(Wa,{children:y.jsx(q4,{})})}),y.jsx(fr,{path:"/",element:y.jsx(od,{to:"/dashboard",replace:!0})})]})})})}Ex.createRoot(document.getElementById("root")).render(y.jsx(q.StrictMode,{children:y.jsx(Y4,{})}));
