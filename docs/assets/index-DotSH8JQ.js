(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Wf={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function $1(){if(m0)return xl;m0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var g0;function K1(){return g0||(g0=1,Wf.exports=$1()),Wf.exports}var v=K1(),Zf={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function Y1(){if(y0)return Re;y0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,H={};function L(k,re,le){this.props=k,this.context=re,this.refs=H,this.updater=le||O}L.prototype.isReactComponent={},L.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},L.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Y(){}Y.prototype=L.prototype;function U(k,re,le){this.props=k,this.context=re,this.refs=H,this.updater=le||O}var ne=U.prototype=new Y;ne.constructor=U,M(ne,L.prototype),ne.isPureReactComponent=!0;var ie=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},Ee=Object.prototype.hasOwnProperty;function j(k,re,le,ae,ge,Ce){return le=Ce.ref,{$$typeof:r,type:k,key:re,ref:le!==void 0?le:null,props:Ce}}function R(k,re){return j(k.type,re,void 0,void 0,void 0,k.props)}function x(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function V(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return re[le]})}var I=/\/+/g;function N(k,re){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):re.toString(36)}function C(){}function Je(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(C,C):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function qe(k,re,le,ae,ge){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var Se=!1;if(k===null)Se=!0;else switch(Ce){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(k.$$typeof){case r:case e:Se=!0;break;case T:return Se=k._init,qe(Se(k._payload),re,le,ae,ge)}}if(Se)return ge=ge(k),Se=ae===""?"."+N(k,0):ae,ie(ge)?(le="",Se!=null&&(le=Se.replace(I,"$&/")+"/"),qe(ge,re,le,"",function(Xn){return Xn})):ge!=null&&(x(ge)&&(ge=R(ge,le+(ge.key==null||k&&k.key===ge.key?"":(""+ge.key).replace(I,"$&/")+"/")+Se)),re.push(ge)),1;Se=0;var Ct=ae===""?".":ae+":";if(ie(k))for(var et=0;et<k.length;et++)ae=k[et],Ce=Ct+N(ae,et),Se+=qe(ae,re,le,Ce,ge);else if(et=b(k),typeof et=="function")for(k=et.call(k),et=0;!(ae=k.next()).done;)ae=ae.value,Ce=Ct+N(ae,et++),Se+=qe(ae,re,le,Ce,ge);else if(Ce==="object"){if(typeof k.then=="function")return qe(Je(k),re,le,ae,ge);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Se}function X(k,re,le){if(k==null)return k;var ae=[],ge=0;return qe(k,ae,"","",function(Ce){return re.call(le,Ce,ge++)}),ae}function oe(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ze(){}return Re.Children={map:X,forEach:function(k,re,le){X(k,function(){re.apply(this,arguments)},le)},count:function(k){var re=0;return X(k,function(){re++}),re},toArray:function(k){return X(k,function(re){return re})||[]},only:function(k){if(!x(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Re.Component=L,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=U,Re.StrictMode=a,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Re.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ue.H.useMemoCache(k)}},Re.cache=function(k){return function(){return k.apply(null,arguments)}},Re.cloneElement=function(k,re,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ae=M({},k.props),ge=k.key,Ce=void 0;if(re!=null)for(Se in re.ref!==void 0&&(Ce=void 0),re.key!==void 0&&(ge=""+re.key),re)!Ee.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(ae[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)ae.children=le;else if(1<Se){for(var Ct=Array(Se),et=0;et<Se;et++)Ct[et]=arguments[et+2];ae.children=Ct}return j(k.type,ge,void 0,void 0,Ce,ae)},Re.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Re.createElement=function(k,re,le){var ae,ge={},Ce=null;if(re!=null)for(ae in re.key!==void 0&&(Ce=""+re.key),re)Ee.call(re,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ge[ae]=re[ae]);var Se=arguments.length-2;if(Se===1)ge.children=le;else if(1<Se){for(var Ct=Array(Se),et=0;et<Se;et++)Ct[et]=arguments[et+2];ge.children=Ct}if(k&&k.defaultProps)for(ae in Se=k.defaultProps,Se)ge[ae]===void 0&&(ge[ae]=Se[ae]);return j(k,Ce,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:p,render:k}},Re.isValidElement=x,Re.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:oe}},Re.memo=function(k,re){return{$$typeof:g,type:k,compare:re===void 0?null:re}},Re.startTransition=function(k){var re=ue.T,le={};ue.T=le;try{var ae=k(),ge=ue.S;ge!==null&&ge(le,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ze,pe)}catch(Ce){pe(Ce)}finally{ue.T=re}},Re.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Re.use=function(k){return ue.H.use(k)},Re.useActionState=function(k,re,le){return ue.H.useActionState(k,re,le)},Re.useCallback=function(k,re){return ue.H.useCallback(k,re)},Re.useContext=function(k){return ue.H.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k,re){return ue.H.useDeferredValue(k,re)},Re.useEffect=function(k,re,le){var ae=ue.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(k,re)},Re.useId=function(){return ue.H.useId()},Re.useImperativeHandle=function(k,re,le){return ue.H.useImperativeHandle(k,re,le)},Re.useInsertionEffect=function(k,re){return ue.H.useInsertionEffect(k,re)},Re.useLayoutEffect=function(k,re){return ue.H.useLayoutEffect(k,re)},Re.useMemo=function(k,re){return ue.H.useMemo(k,re)},Re.useOptimistic=function(k,re){return ue.H.useOptimistic(k,re)},Re.useReducer=function(k,re,le){return ue.H.useReducer(k,re,le)},Re.useRef=function(k){return ue.H.useRef(k)},Re.useState=function(k){return ue.H.useState(k)},Re.useSyncExternalStore=function(k,re,le){return ue.H.useSyncExternalStore(k,re,le)},Re.useTransition=function(){return ue.H.useTransition()},Re.version="19.1.0",Re}var v0;function Wp(){return v0||(v0=1,Zf.exports=Y1()),Zf.exports}var $=Wp(),Jf={exports:{}},Il={},ep={exports:{}},tp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function X1(){return _0||(_0=1,function(r){function e(X,oe){var pe=X.length;X.push(oe);e:for(;0<pe;){var ze=pe-1>>>1,k=X[ze];if(0<o(k,oe))X[ze]=oe,X[pe]=k,pe=ze;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var oe=X[0],pe=X.pop();if(pe!==oe){X[0]=pe;e:for(var ze=0,k=X.length,re=k>>>1;ze<re;){var le=2*(ze+1)-1,ae=X[le],ge=le+1,Ce=X[ge];if(0>o(ae,pe))ge<k&&0>o(Ce,ae)?(X[ze]=Ce,X[ge]=pe,ze=ge):(X[ze]=ae,X[le]=pe,ze=le);else if(ge<k&&0>o(Ce,pe))X[ze]=Ce,X[ge]=pe,ze=ge;else break e}}return oe}function o(X,oe){var pe=X.sortIndex-oe.sortIndex;return pe!==0?pe:X.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var m=[],g=[],T=1,A=null,b=3,O=!1,M=!1,H=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ie(X){for(var oe=n(g);oe!==null;){if(oe.callback===null)a(g);else if(oe.startTime<=X)a(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(g)}}function ue(X){if(H=!1,ie(X),!M)if(n(m)!==null)M=!0,Ee||(Ee=!0,N());else{var oe=n(g);oe!==null&&qe(ue,oe.startTime-X)}}var Ee=!1,j=-1,R=5,x=-1;function V(){return L?!0:!(r.unstable_now()-x<R)}function I(){if(L=!1,Ee){var X=r.unstable_now();x=X;var oe=!0;try{e:{M=!1,H&&(H=!1,U(j),j=-1),O=!0;var pe=b;try{t:{for(ie(X),A=n(m);A!==null&&!(A.expirationTime>X&&V());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,b=A.priorityLevel;var k=ze(A.expirationTime<=X);if(X=r.unstable_now(),typeof k=="function"){A.callback=k,ie(X),oe=!0;break t}A===n(m)&&a(m),ie(X)}else a(m);A=n(m)}if(A!==null)oe=!0;else{var re=n(g);re!==null&&qe(ue,re.startTime-X),oe=!1}}break e}finally{A=null,b=pe,O=!1}oe=void 0}}finally{oe?N():Ee=!1}}}var N;if(typeof ne=="function")N=function(){ne(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Je=C.port2;C.port1.onmessage=I,N=function(){Je.postMessage(null)}}else N=function(){Y(I,0)};function qe(X,oe){j=Y(function(){X(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(X){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var pe=b;b=oe;try{return X()}finally{b=pe}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=b;b=X;try{return oe()}finally{b=pe}},r.unstable_scheduleCallback=function(X,oe,pe){var ze=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,X){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=pe+k,X={id:T++,callback:oe,priorityLevel:X,startTime:pe,expirationTime:k,sortIndex:-1},pe>ze?(X.sortIndex=pe,e(g,X),n(m)===null&&X===n(g)&&(H?(U(j),j=-1):H=!0,qe(ue,pe-ze))):(X.sortIndex=k,e(m,X),M||O||(M=!0,Ee||(Ee=!0,N()))),X},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(X){var oe=b;return function(){var pe=b;b=oe;try{return X.apply(this,arguments)}finally{b=pe}}}}(tp)),tp}var E0;function W1(){return E0||(E0=1,ep.exports=X1()),ep.exports}var np={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function Z1(){if(T0)return Qt;T0=1;var r=Wp();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:m,containerInfo:g,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qt.createPortal=function(m,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,T)},Qt.flushSync=function(m){var g=d.T,T=a.p;try{if(d.T=null,a.p=2,m)return m()}finally{d.T=g,a.p=T,a.d.f()}},Qt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},Qt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Qt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var T=g.as,A=p(T,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:O}):T==="script"&&a.d.X(m,{crossOrigin:A,integrity:b,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},Qt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,A=p(T,g.crossOrigin);a.d.L(m,T,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(m,g){if(typeof m=="string")if(g){var T=p(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},Qt.requestFormReset=function(m){a.d.r(m)},Qt.unstable_batchedUpdates=function(m,g){return m(g)},Qt.useFormState=function(m,g,T){return d.H.useFormState(m,g,T)},Qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var b0;function J1(){if(b0)return np.exports;b0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),np.exports=Z1(),np.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function eA(){if(S0)return Il;S0=1;var r=W1(),e=Wp(),n=J1();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),t;if(f===l)return p(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var E=!1,S=h.child;S;){if(S===s){E=!0,s=h,l=f;break}if(S===l){E=!0,l=h,s=f;break}S=S.sibling}if(!E){for(S=f.child;S;){if(S===s){E=!0,s=f,l=h;break}if(S===l){E=!0,l=f,s=h;break}S=S.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case L:return"Profiler";case H:return"StrictMode";case ue:return"Suspense";case Ee:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case U:return(t._context.displayName||"Context")+".Consumer";case ie:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return i=t.displayName||null,i!==null?i:Je(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Je(t(i))}catch{}}return null}var qe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],k=-1;function re(t){return{current:t}}function le(t){0>k||(t.current=ze[k],ze[k]=null,k--)}function ae(t,i){k++,ze[k]=t.current,t.current=i}var ge=re(null),Ce=re(null),Se=re(null),Ct=re(null);function et(t,i){switch(ae(Se,i),ae(Ce,t),ae(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Hv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Hv(i),t=Fv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ge),ae(ge,t)}function Xn(){le(ge),le(Ce),le(Se)}function rr(t){t.memoizedState!==null&&ae(Ct,t);var i=ge.current,s=Fv(i,t.type);i!==s&&(ae(Ce,t),ae(ge,s))}function Ti(t){Ce.current===t&&(le(ge),le(Ce)),Ct.current===t&&(le(Ct),bl._currentValue=pe)}var ea=Object.prototype.hasOwnProperty,ta=r.unstable_scheduleCallback,na=r.unstable_cancelCallback,_o=r.unstable_shouldYield,uu=r.unstable_requestPaint,Tn=r.unstable_now,Xh=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,Za=r.unstable_UserBlockingPriority,ia=r.unstable_NormalPriority,Wh=r.unstable_LowPriority,Ja=r.unstable_IdlePriority,To=r.log,cu=r.unstable_setDisableYieldValue,lt=null,Ge=null;function un(t){if(typeof To=="function"&&cu(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(lt,t)}catch{}}var Ft=Math.clz32?Math.clz32:ra,hu=Math.log,Zh=Math.LN2;function ra(t){return t>>>=0,t===0?32:31-(hu(t)/Zh|0)|0}var aa=256,sa=4194304;function Pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function es(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?h=Pn(l):(E&=S,E!==0?h=Pn(E):s||(s=S&~t,s!==0&&(h=Pn(s))))):(S=l&~f,S!==0?h=Pn(S):E!==0?h=Pn(E):s||(s=l&~t,s!==0&&(h=Pn(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function oa(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function bo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=aa;return aa<<=1,(aa&4194048)===0&&(aa=256),t}function Ao(){var t=sa;return sa<<=1,(sa&62914560)===0&&(sa=4194304),t}function bi(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Si(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wo(t,i,s,l,h,f){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,F=t.hiddenUpdates;for(s=E&~s;0<s;){var W=31-Ft(s),J=1<<W;S[W]=0,D[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var Q=G[W];Q!==null&&(Q.lane&=-536870913)}s&=~J}l!==0&&Wn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(E&~i))}function Wn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Ro(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Ft(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ts(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function sr(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:u0(t.type))}function du(t,i){var s=oe.p;try{return oe.p=t,i()}finally{oe.p=s}}var it=Math.random().toString(36).slice(2),Tt="__reactFiber$"+it,mt="__reactProps$"+it,bn="__reactContainer$"+it,xo="__reactEvents$"+it,Jh="__reactListeners$"+it,or="__reactHandles$"+it,fu="__reactResources$"+it,la="__reactMarker$"+it;function lr(t){delete t[Tt],delete t[mt],delete t[xo],delete t[Jh],delete t[or]}function Ai(t){var i=t[Tt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[bn]||s[Tt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Kv(t);t!==null;){if(s=t[Tt])return s;t=Kv(t)}return i}t=s,s=t.parentNode}return null}function Zn(t){if(t=t[Tt]||t[bn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Jn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Wt(t){var i=t[fu];return i||(i=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[la]=!0}var Io=new Set,ns={};function jn(t,i){wi(t,i),wi(t+"Capture",i)}function wi(t,i){for(ns[t]=i,t=0;t<i.length;t++)Io.add(i[t])}var pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mu={},ua={};function gu(t){return ea.call(ua,t)?!0:ea.call(mu,t)?!1:pu.test(t)?ua[t]=!0:(mu[t]=!0,!1)}function ur(t,i,s){if(gu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function ei(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Pt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var ca,yu;function Ri(t){if(ca===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);ca=i&&i[1]||"",yu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ca+t+yu}var is=!1;function rs(t,i){if(!t||is)return"";is=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var G=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){G=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){G=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],S=f[1];if(E&&S){var D=E.split(`
`),F=S.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===F.length)for(l=D.length-1,h=F.length-1;1<=l&&0<=h&&D[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==F[h]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{is=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ri(s):""}function Co(t){switch(t.tag){case 26:case 27:case 5:return Ri(t.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return rs(t.type,!1);case 11:return rs(t.type.render,!1);case 1:return rs(t.type,!0);case 31:return Ri("Activity");default:return""}}function as(t){try{var i="";do i+=Co(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Do(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ed(t){var i=Do(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,f.call(this,E)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ss(t){t._valueTracker||(t._valueTracker=ed(t))}function No(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Do(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function ha(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var td=/[\n"\\]/g;function gt(t){return t.replace(td,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(t,i,s,l,h,f,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?cr(t,E,Zt(i)):s!=null?cr(t,E,Zt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Zt(S):t.removeAttribute("name")}function da(t,i,s,l,h,f,E,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;s=s!=null?""+Zt(s):"",i=i!=null?""+Zt(i):s,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function cr(t,i,s){i==="number"&&ha(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function xi(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Zt(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ke(t,i,s){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Zt(s):""}function fa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(qe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Zt(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Sn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var pa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||pa.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Oo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&vu(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&vu(t,f,i[f])}function Mo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),id=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(t){return id.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ii=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Di=null;function ko(t){var i=Zn(t);if(i&&(t=i.stateNode)){var s=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(cn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+gt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(a(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&No(l)}break e;case"textarea":Ke(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&xi(t,!!s.multiple,i,!1)}}}var ti=!1;function _u(t,i,s){if(ti)return t(i,s);ti=!0;try{var l=t(i);return l}finally{if(ti=!1,(Ci!==null||Di!==null)&&(dc(),Ci&&(i=Ci,t=Di,Di=Ci=null,ko(i),t)))for(i=0;i<t.length;i++)ko(t[i])}}function ma(t,i){var s=t.stateNode;if(s===null)return null;var l=s[mt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wn=!1;if(Ln)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){wn=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{wn=!1}var ni=null,hr=null,Ni=null;function Vo(){if(Ni)return Ni;var t,i=hr,s=i.length,l,h="value"in ni?ni.value:ni.textContent,f=h.length;for(t=0;t<s&&i[t]===h[t];t++);var E=s-t;for(l=1;l<=E&&i[s-l]===h[f-l];l++);return Ni=h.slice(t,1<l?1-l:void 0)}function ii(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function Po(){return!1}function Dt(t){function i(s,l,h,f,E){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ri:Po,this.isPropagationStopped=Po,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Dt(He),ya=T({},He,{view:0,detail:0}),Eu=Dt(ya),us,cs,ai,va=T({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(us=t.screenX-ai.screenX,cs=t.screenY-ai.screenY):cs=us=0,ai=t),us)},movementY:function(t){return"movementY"in t?t.movementY:cs}}),Rn=Dt(va),Tu=T({},va,{dataTransfer:0}),rd=Dt(Tu),_a=T({},ya,{relatedTarget:0}),hs=Dt(_a),jo=T({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),ds=Dt(jo),bu=T({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fs=Dt(bu),ad=T({},He,{data:0}),Lo=Dt(ad),Ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Au[t])?!!i[t]:!1}function Ta(){return Uo}var wu=T({},ya,{key:function(t){if(t.key){var i=Ea[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(t){return t.type==="keypress"?ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ps=Dt(wu),Ru=T({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zo=Dt(Ru),Oi=T({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),xu=Dt(Oi),Iu=T({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cu=Dt(Iu),Du=T({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ms=Dt(Du),Jt=T({},He,{newState:0,oldState:0}),Nu=Dt(Jt),Ou=[9,13,27,32],si=Ln&&"CompositionEvent"in window,c=null;Ln&&"documentMode"in document&&(c=document.documentMode);var y=Ln&&"TextEvent"in window&&!c,_=Ln&&(!si||c&&8<c&&11>=c),w=" ",B=!1;function K(t,i){switch(t){case"keyup":return Ou.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function bt(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(B=!0,w);case"textInput":return t=i.data,t===w&&B?null:t;default:return null}}function Pe(t,i){if(Ve)return t==="compositionend"||!si&&K(t,i)?(t=Vo(),Ni=hr=ni=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Nt[t.type]:i==="textarea"}function Mi(t,i,s,l){Ci?Di?Di.push(l):Di=[l]:Ci=l,i=vc(i,"onChange"),0<i.length&&(s=new ls("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var jt=null,oi=null;function Bo(t){Lv(t,0)}function Mu(t){var i=Jn(t);if(No(i))return t}function ag(t,i){if(t==="change")return i}var sg=!1;if(Ln){var sd;if(Ln){var od="oninput"in document;if(!od){var og=document.createElement("div");og.setAttribute("oninput","return;"),od=typeof og.oninput=="function"}sd=od}else sd=!1;sg=sd&&(!document.documentMode||9<document.documentMode)}function lg(){jt&&(jt.detachEvent("onpropertychange",ug),oi=jt=null)}function ug(t){if(t.propertyName==="value"&&Mu(oi)){var i=[];Mi(i,oi,t,An(t)),_u(Bo,i)}}function SS(t,i,s){t==="focusin"?(lg(),jt=i,oi=s,jt.attachEvent("onpropertychange",ug)):t==="focusout"&&lg()}function AS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(oi)}function wS(t,i){if(t==="click")return Mu(i)}function RS(t,i){if(t==="input"||t==="change")return Mu(i)}function xS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hn=typeof Object.is=="function"?Object.is:xS;function qo(t,i){if(hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ea.call(i,h)||!hn(t[h],i[h]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hg(t,i){var s=cg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cg(s)}}function dg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?dg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function fg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ha(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ha(t.document)}return i}function ld(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var IS=Ln&&"documentMode"in document&&11>=document.documentMode,gs=null,ud=null,Ho=null,cd=!1;function pg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;cd||gs==null||gs!==ha(l)||(l=gs,"selectionStart"in l&&ld(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&qo(Ho,l)||(Ho=l,l=vc(ud,"onSelect"),0<l.length&&(i=new ls("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=gs)))}function ba(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var ys={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},hd={},mg={};Ln&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Sa(t){if(hd[t])return hd[t];if(!ys[t])return t;var i=ys[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in mg)return hd[t]=i[s];return t}var gg=Sa("animationend"),yg=Sa("animationiteration"),vg=Sa("animationstart"),CS=Sa("transitionrun"),DS=Sa("transitionstart"),NS=Sa("transitioncancel"),_g=Sa("transitionend"),Eg=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function Un(t,i){Eg.set(t,i),jn(i,[t])}var Tg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var s=Tg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:as(i)},Tg.set(t,i),i)}return{value:t,source:i,stack:as(i)}}var In=[],vs=0,fd=0;function ku(){for(var t=vs,i=fd=vs=0;i<t;){var s=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var f=In[i];if(In[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}f!==0&&bg(s,h,f)}}function Vu(t,i,s,l){In[vs++]=t,In[vs++]=i,In[vs++]=s,In[vs++]=l,fd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function pd(t,i,s,l){return Vu(t,i,s,l),Pu(t)}function _s(t,i){return Vu(t,null,null,i),Pu(t)}function bg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-Ft(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),f):null}function Pu(t){if(50<pl)throw pl=0,Tf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Es={};function OS(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,i,s,l){return new OS(t,i,s,l)}function md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,i){var s=t.alternate;return s===null?(s=dn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Sg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ju(t,i,s,l,h,f){var E=0;if(l=t,typeof t=="function")md(t)&&(E=1);else if(typeof t=="string")E=k1(t,s,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=dn(31,s,i,h),t.elementType=x,t.lanes=f,t;case M:return Aa(s.children,h,f,i);case H:E=8,h|=24;break;case L:return t=dn(12,s,i,h|2),t.elementType=L,t.lanes=f,t;case ue:return t=dn(13,s,i,h),t.elementType=ue,t.lanes=f,t;case Ee:return t=dn(19,s,i,h),t.elementType=Ee,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case ne:E=10;break e;case U:E=9;break e;case ie:E=11;break e;case j:E=14;break e;case R:E=16,l=null;break e}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=dn(E,s,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function Aa(t,i,s,l){return t=dn(7,t,l,i),t.lanes=s,t}function gd(t,i,s){return t=dn(6,t,null,i),t.lanes=s,t}function yd(t,i,s){return i=dn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ts=[],bs=0,Lu=null,Uu=0,Cn=[],Dn=0,wa=null,Vi=1,Pi="";function Ra(t,i){Ts[bs++]=Uu,Ts[bs++]=Lu,Lu=t,Uu=i}function Ag(t,i,s){Cn[Dn++]=Vi,Cn[Dn++]=Pi,Cn[Dn++]=wa,wa=t;var l=Vi;t=Pi;var h=32-Ft(l)-1;l&=~(1<<h),s+=1;var f=32-Ft(i)+h;if(30<f){var E=h-h%5;f=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Vi=1<<32-Ft(i)+h|s<<h|l,Pi=f+t}else Vi=1<<f|s<<h|l,Pi=t}function vd(t){t.return!==null&&(Ra(t,1),Ag(t,1,0))}function _d(t){for(;t===Lu;)Lu=Ts[--bs],Ts[bs]=null,Uu=Ts[--bs],Ts[bs]=null;for(;t===wa;)wa=Cn[--Dn],Cn[Dn]=null,Pi=Cn[--Dn],Cn[Dn]=null,Vi=Cn[--Dn],Cn[Dn]=null}var en=null,ut=null,Be=!1,xa=null,li=!1,Ed=Error(a(519));function Ia(t){var i=Error(a(418,""));throw Qo(xn(i,t)),Ed}function wg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[mt]=l,s){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(s=0;s<gl.length;s++)Oe(gl[s],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),da(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ss(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),fa(i,l.value,l.defaultValue,l.children),ss(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||qv(i.textContent,s)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=_c),i=!0):i=!1,i||Ia(t)}function Rg(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:en=en.return}}function Fo(t){if(t!==en)return!1;if(!Be)return Rg(t),Be=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||jf(t.type,t.memoizedProps)),s=!s),s&&ut&&Ia(t),Rg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){ut=Bn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,xr(t.type)?(t=Bf,Bf=null,ut=t):ut=i):ut=en?Bn(t.stateNode.nextSibling):null;return!0}function Go(){ut=en=null,Be=!1}function xg(){var t=xa;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),xa=null),t}function Qo(t){xa===null?xa=[t]:xa.push(t)}var Td=re(null),Ca=null,ji=null;function dr(t,i,s){ae(Td,i._currentValue),i._currentValue=s}function Li(t){t._currentValue=Td.current,le(Td)}function bd(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Sd(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var E=h.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=h;for(var D=0;D<i.length;D++)if(S.context===i[D]){f.lanes|=s,S=f.alternate,S!==null&&(S.lanes|=s),bd(f.return,s,t),l||(E=null);break e}f=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=s,f=E.alternate,f!==null&&(f.lanes|=s),bd(E,s,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function $o(t,i,s,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var S=h.type;hn(h.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ct.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&Sd(i,t,s,l),i.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Da(t){Ca=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Ig(Ca,t)}function Bu(t,i){return Ca===null&&Da(t),Ig(t,i)}function Ig(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},ji===null){if(t===null)throw Error(a(308));ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ji=ji.next=i;return s}var MS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},kS=r.unstable_scheduleCallback,VS=r.unstable_NormalPriority,At={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new MS,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&kS(VS,function(){t.controller.abort()})}var Yo=null,wd=0,Ss=0,As=null;function PS(t,i){if(Yo===null){var s=Yo=[];wd=0,Ss=If(),As={status:"pending",value:void 0,then:function(l){s.push(l)}}}return wd++,i.then(Cg,Cg),i}function Cg(){if(--wd===0&&Yo!==null){As!==null&&(As.status="fulfilled");var t=Yo;Yo=null,Ss=0,As=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function jS(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Dg=X.S;X.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&PS(t,i),Dg!==null&&Dg(t,i)};var Na=re(null);function Rd(){var t=Na.current;return t!==null?t:tt.pooledCache}function qu(t,i){i===null?ae(Na,Na.current):ae(Na,i.pool)}function Ng(){var t=Rd();return t===null?null:{parent:At._currentValue,pool:t}}var Xo=Error(a(460)),Og=Error(a(474)),Hu=Error(a(542)),xd={then:function(){}};function Mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fu(){}function kg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Fu,Fu),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t;default:if(typeof i.status=="string")i.then(Fu,Fu);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t}throw Wo=i,Xo}}var Wo=null;function Vg(){if(Wo===null)throw Error(a(459));var t=Wo;return Wo=null,t}function Pg(t){if(t===Xo||t===Hu)throw Error(a(483))}var fr=!1;function Id(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mr(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Pu(t),bg(t,null,s),i}return Vu(t,l,i,s),Pu(t)}function Zo(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Ro(t,s)}}function Dd(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=E:f=f.next=E,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Nd=!1;function Jo(){if(Nd){var t=As;if(t!==null)throw t}}function el(t,i,s,l){Nd=!1;var h=t.updateQueue;fr=!1;var f=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var D=S,F=D.next;D.next=null,E===null?f=F:E.next=F,E=D;var W=t.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==E&&(S===null?W.firstBaseUpdate=F:S.next=F,W.lastBaseUpdate=D))}if(f!==null){var J=h.baseState;E=0,W=F=D=null,S=f;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?(je&G)===G:(l&G)===G){G!==0&&G===Ss&&(Nd=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Te=t,ye=S;G=i;var We=s;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){J=Te.call(We,J,G);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,G=typeof Te=="function"?Te.call(We,J,G):Te,G==null)break e;J=T({},J,G);break e;case 2:fr=!0}}G=S.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(F=W=Q,D=J):W=W.next=Q,E|=G;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);W===null&&(D=J),h.baseState=D,h.firstBaseUpdate=F,h.lastBaseUpdate=W,f===null&&(h.shared.lanes=0),Sr|=E,t.lanes=E,t.memoizedState=J}}function jg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Lg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)jg(s[t],i)}var ws=re(null),Gu=re(0);function Ug(t,i){t=Gi,ae(Gu,t),ae(ws,i),Gi=t|i.baseLanes}function Od(){ae(Gu,Gi),ae(ws,ws.current)}function Md(){Gi=Gu.current,le(ws),le(Gu)}var gr=0,xe=null,Ye=null,yt=null,Qu=!1,Rs=!1,Oa=!1,$u=0,tl=0,xs=null,LS=0;function dt(){throw Error(a(321))}function kd(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!hn(t[s],i[s]))return!1;return!0}function Vd(t,i,s,l,h,f){return gr=f,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?by:Sy,Oa=!1,f=s(l,h),Oa=!1,Rs&&(f=Bg(i,s,l,h)),zg(t),f}function zg(t){X.H=Ju;var i=Ye!==null&&Ye.next!==null;if(gr=0,yt=Ye=xe=null,Qu=!1,tl=0,xs=null,i)throw Error(a(300));t===null||Ot||(t=t.dependencies,t!==null&&zu(t)&&(Ot=!0))}function Bg(t,i,s,l){xe=t;var h=0;do{if(Rs&&(xs=null),tl=0,Rs=!1,25<=h)throw Error(a(301));if(h+=1,yt=Ye=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=GS,f=i(s,l)}while(Rs);return f}function US(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?nl(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(xe.flags|=1024),i}function Pd(){var t=$u!==0;return $u=0,t}function jd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Ld(t){if(Qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Qu=!1}gr=0,yt=Ye=xe=null,Rs=!1,tl=$u=0,xs=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?xe.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if(Ye===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=yt===null?xe.memoizedState:yt.next;if(i!==null)yt=i,Ye=t;else{if(t===null)throw xe.alternate===null?Error(a(467)):Error(a(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?xe.memoizedState=yt=t:yt=yt.next=t}return yt}function Ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var i=tl;return tl+=1,xs===null&&(xs=[]),t=kg(xs,t,i),i=xe,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?by:Sy),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===ne)return Gt(t)}throw Error(a(438,String(t)))}function zd(t){var i=null,s=xe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Ud(),xe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=V;return i.index++,s}function Ui(t,i){return typeof i=="function"?i(t):i}function Yu(t){var i=vt();return Bd(i,Ye,t)}function Bd(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var E=h.next;h.next=f.next,f.next=E}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var S=E=null,D=null,F=i,W=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(je&J)===J:(gr&J)===J){var G=F.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===Ss&&(W=!0);else if((gr&G)===G){F=F.next,G===Ss&&(W=!0);continue}else J={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(S=D=J,E=f):D=D.next=J,xe.lanes|=G,Sr|=G;J=F.action,Oa&&s(f,J),f=F.hasEagerState?F.eagerState:s(f,J)}else G={lane:J,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(S=D=G,E=f):D=D.next=G,xe.lanes|=J,Sr|=J;F=F.next}while(F!==null&&F!==i);if(D===null?E=f:D.next=S,!hn(f,t.memoizedState)&&(Ot=!0,W&&(s=As,s!==null)))throw s;t.memoizedState=f,t.baseState=E,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qd(t){var i=vt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do f=t(f,E.action),E=E.next;while(E!==h);hn(f,i.memoizedState)||(Ot=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,l]}function qg(t,i,s){var l=xe,h=vt(),f=Be;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!hn((Ye||h).memoizedState,s);E&&(h.memoizedState=s,Ot=!0),h=h.queue;var S=Gg.bind(null,l,h,t);if(il(2048,8,S,[t]),h.getSnapshot!==i||E||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Is(9,Xu(),Fg.bind(null,l,h,s,i),null),tt===null)throw Error(a(349));f||(gr&124)!==0||Hg(l,i,s)}return s}function Hg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=xe.updateQueue,i===null?(i=Ud(),xe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Fg(t,i,s,l){i.value=s,i.getSnapshot=l,Qg(i)&&$g(t)}function Gg(t,i,s){return s(function(){Qg(i)&&$g(t)})}function Qg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!hn(t,s)}catch{return!0}}function $g(t){var i=_s(t,2);i!==null&&yn(i,t,2)}function Hd(t){var i=tn();if(typeof t=="function"){var s=t;if(t=s(),Oa){un(!0);try{s()}finally{un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function Kg(t,i,s,l){return t.baseState=s,Bd(t,Ye,typeof l=="function"?l:Ui)}function zS(t,i,s,l,h){if(Zu(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};X.T!==null?s(!0):f.isTransition=!1,l(f),s=i.pending,s===null?(f.next=i.pending=f,Yg(i,f)):(f.next=s.next,i.pending=s.next=f)}}function Yg(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=X.T,E={};X.T=E;try{var S=s(h,l),D=X.S;D!==null&&D(E,S),Xg(t,i,S)}catch(F){Fd(t,i,F)}finally{X.T=f}}else try{f=s(h,l),Xg(t,i,f)}catch(F){Fd(t,i,F)}}function Xg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Wg(t,i,l)},function(l){return Fd(t,i,l)}):Wg(t,i,s)}function Wg(t,i,s){i.status="fulfilled",i.value=s,Zg(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Yg(t,s)))}function Fd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Zg(i),i=i.next;while(i!==l)}t.action=null}function Zg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Jg(t,i){return i}function ey(t,i){if(Be){var s=tt.formState;if(s!==null){e:{var l=xe;if(Be){if(ut){t:{for(var h=ut,f=li;h.nodeType!==8;){if(!f){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Bn(h.nextSibling),l=h.data==="F!";break e}}Ia(l)}l=!1}l&&(i=s[0])}}return s=tn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:i},s.queue=l,s=_y.bind(null,xe,l),l.dispatch=s,l=Hd(!1),f=Yd.bind(null,xe,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=zS.bind(null,xe,h,f,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function ty(t){var i=vt();return ny(i,Ye,t)}function ny(t,i,s){if(i=Bd(t,i,Jg)[0],t=Yu(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nl(i)}catch(E){throw E===Xo?Hu:E}else l=i;i=vt();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(xe.flags|=2048,Is(9,Xu(),BS.bind(null,h,s),null)),[l,f,t]}function BS(t,i){t.action=i}function iy(t){var i=vt(),s=Ye;if(s!==null)return ny(i,s,t);vt(),i=i.memoizedState,s=vt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Is(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=xe.updateQueue,i===null&&(i=Ud(),xe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Xu(){return{destroy:void 0,resource:void 0}}function ry(){return vt().memoizedState}function Wu(t,i,s,l){var h=tn();l=l===void 0?null:l,xe.flags|=t,h.memoizedState=Is(1|i,Xu(),s,l)}function il(t,i,s,l){var h=vt();l=l===void 0?null:l;var f=h.memoizedState.inst;Ye!==null&&l!==null&&kd(l,Ye.memoizedState.deps)?h.memoizedState=Is(i,f,s,l):(xe.flags|=t,h.memoizedState=Is(1|i,f,s,l))}function ay(t,i){Wu(8390656,8,t,i)}function sy(t,i){il(2048,8,t,i)}function oy(t,i){return il(4,2,t,i)}function ly(t,i){return il(4,4,t,i)}function uy(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function cy(t,i,s){s=s!=null?s.concat([t]):null,il(4,4,uy.bind(null,i,t),s)}function Gd(){}function hy(t,i){var s=vt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&kd(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function dy(t,i){var s=vt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&kd(i,l[1]))return l[0];if(l=t(),Oa){un(!0);try{t()}finally{un(!1)}}return s.memoizedState=[l,i],l}function Qd(t,i,s){return s===void 0||(gr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=mv(),xe.lanes|=t,Sr|=t,s)}function fy(t,i,s,l){return hn(s,i)?s:ws.current!==null?(t=Qd(t,s,l),hn(t,i)||(Ot=!0),t):(gr&42)===0?(Ot=!0,t.memoizedState=s):(t=mv(),xe.lanes|=t,Sr|=t,i)}function py(t,i,s,l,h){var f=oe.p;oe.p=f!==0&&8>f?f:8;var E=X.T,S={};X.T=S,Yd(t,!1,i,s);try{var D=h(),F=X.S;if(F!==null&&F(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=jS(D,l);rl(t,i,W,gn(t))}else rl(t,i,l,gn(t))}catch(J){rl(t,i,{then:function(){},status:"rejected",reason:J},gn())}finally{oe.p=f,X.T=E}}function qS(){}function $d(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=my(t).queue;py(t,h,i,pe,s===null?qS:function(){return gy(t),s(l)})}function my(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:pe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function gy(t){var i=my(t).next.queue;rl(t,i,{},gn())}function Kd(){return Gt(bl)}function yy(){return vt().memoizedState}function vy(){return vt().memoizedState}function HS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=gn();t=pr(s);var l=mr(i,t,s);l!==null&&(yn(l,i,s),Zo(l,i,s)),i={cache:Ad()},t.payload=i;return}i=i.return}}function FS(t,i,s){var l=gn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Zu(t)?Ey(i,s):(s=pd(t,i,s,l),s!==null&&(yn(s,t,l),Ty(s,i,l)))}function _y(t,i,s){var l=gn();rl(t,i,s,l)}function rl(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))Ey(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var E=i.lastRenderedState,S=f(E,s);if(h.hasEagerState=!0,h.eagerState=S,hn(S,E))return Vu(t,i,h,0),tt===null&&ku(),!1}catch{}finally{}if(s=pd(t,i,h,l),s!==null)return yn(s,t,l),Ty(s,i,l),!0}return!1}function Yd(t,i,s,l){if(l={lane:2,revertLane:If(),action:l,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(i)throw Error(a(479))}else i=pd(t,s,l,2),i!==null&&yn(i,t,2)}function Zu(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function Ey(t,i){Rs=Qu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Ty(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Ro(t,s)}}var Ju={readContext:Gt,use:Ku,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},by={readContext:Gt,use:Ku,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:ay,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Wu(4194308,4,uy.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Wu(4194308,4,t,i)},useInsertionEffect:function(t,i){Wu(4,2,t,i)},useMemo:function(t,i){var s=tn();i=i===void 0?null:i;var l=t();if(Oa){un(!0);try{t()}finally{un(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=tn();if(s!==void 0){var h=s(i);if(Oa){un(!0);try{s(i)}finally{un(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=FS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=Hd(t);var i=t.queue,s=_y.bind(null,xe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Gd,useDeferredValue:function(t,i){var s=tn();return Qd(s,t,i)},useTransition:function(){var t=Hd(!1);return t=py.bind(null,xe,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=xe,h=tn();if(Be){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),tt===null)throw Error(a(349));(je&124)!==0||Hg(l,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,ay(Gg.bind(null,l,f,t),[t]),l.flags|=2048,Is(9,Xu(),Fg.bind(null,l,f,s,i),null),s},useId:function(){var t=tn(),i=tt.identifierPrefix;if(Be){var s=Pi,l=Vi;s=(l&~(1<<32-Ft(l)-1)).toString(32)+s,i=""+i+"R"+s,s=$u++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=LS++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Kd,useFormState:ey,useActionState:ey,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Yd.bind(null,xe,!0,s),s.dispatch=i,[t,i]},useMemoCache:zd,useCacheRefresh:function(){return tn().memoizedState=HS.bind(null,xe)}},Sy={readContext:Gt,use:Ku,useCallback:hy,useContext:Gt,useEffect:sy,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:dy,useReducer:Yu,useRef:ry,useState:function(){return Yu(Ui)},useDebugValue:Gd,useDeferredValue:function(t,i){var s=vt();return fy(s,Ye.memoizedState,t,i)},useTransition:function(){var t=Yu(Ui)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:qg,useId:yy,useHostTransitionStatus:Kd,useFormState:ty,useActionState:ty,useOptimistic:function(t,i){var s=vt();return Kg(s,Ye,t,i)},useMemoCache:zd,useCacheRefresh:vy},GS={readContext:Gt,use:Ku,useCallback:hy,useContext:Gt,useEffect:sy,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:dy,useReducer:qd,useRef:ry,useState:function(){return qd(Ui)},useDebugValue:Gd,useDeferredValue:function(t,i){var s=vt();return Ye===null?Qd(s,t,i):fy(s,Ye.memoizedState,t,i)},useTransition:function(){var t=qd(Ui)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:qg,useId:yy,useHostTransitionStatus:Kd,useFormState:iy,useActionState:iy,useOptimistic:function(t,i){var s=vt();return Ye!==null?Kg(s,Ye,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:zd,useCacheRefresh:vy},Cs=null,al=0;function ec(t){var i=al;return al+=1,Cs===null&&(Cs=[]),kg(Cs,t,i)}function sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function tc(t,i){throw i.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ay(t){var i=t._init;return i(t._payload)}function wy(t){function i(z,P){if(t){var q=z.deletions;q===null?(z.deletions=[P],z.flags|=16):q.push(P)}}function s(z,P){if(!t)return null;for(;P!==null;)i(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function h(z,P){return z=ki(z,P),z.index=0,z.sibling=null,z}function f(z,P,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<P?(z.flags|=67108866,P):q):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function E(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function S(z,P,q,Z){return P===null||P.tag!==6?(P=gd(q,z.mode,Z),P.return=z,P):(P=h(P,q),P.return=z,P)}function D(z,P,q,Z){var he=q.type;return he===M?W(z,P,q.props.children,Z,q.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Ay(he)===P.type)?(P=h(P,q.props),sl(P,q),P.return=z,P):(P=ju(q.type,q.key,q.props,null,z.mode,Z),sl(P,q),P.return=z,P)}function F(z,P,q,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=yd(q,z.mode,Z),P.return=z,P):(P=h(P,q.children||[]),P.return=z,P)}function W(z,P,q,Z,he){return P===null||P.tag!==7?(P=Aa(q,z.mode,Z,he),P.return=z,P):(P=h(P,q),P.return=z,P)}function J(z,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=gd(""+P,z.mode,q),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return q=ju(P.type,P.key,P.props,null,z.mode,q),sl(q,P),q.return=z,q;case O:return P=yd(P,z.mode,q),P.return=z,P;case R:var Z=P._init;return P=Z(P._payload),J(z,P,q)}if(qe(P)||N(P))return P=Aa(P,z.mode,q,null),P.return=z,P;if(typeof P.then=="function")return J(z,ec(P),q);if(P.$$typeof===ne)return J(z,Bu(z,P),q);tc(z,P)}return null}function G(z,P,q,Z){var he=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:S(z,P,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===he?D(z,P,q,Z):null;case O:return q.key===he?F(z,P,q,Z):null;case R:return he=q._init,q=he(q._payload),G(z,P,q,Z)}if(qe(q)||N(q))return he!==null?null:W(z,P,q,Z,null);if(typeof q.then=="function")return G(z,P,ec(q),Z);if(q.$$typeof===ne)return G(z,P,Bu(z,q),Z);tc(z,q)}return null}function Q(z,P,q,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(q)||null,S(P,z,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return z=z.get(Z.key===null?q:Z.key)||null,D(P,z,Z,he);case O:return z=z.get(Z.key===null?q:Z.key)||null,F(P,z,Z,he);case R:var De=Z._init;return Z=De(Z._payload),Q(z,P,q,Z,he)}if(qe(Z)||N(Z))return z=z.get(q)||null,W(P,z,Z,he,null);if(typeof Z.then=="function")return Q(z,P,q,ec(Z),he);if(Z.$$typeof===ne)return Q(z,P,q,Bu(P,Z),he);tc(P,Z)}return null}function Te(z,P,q,Z){for(var he=null,De=null,fe=P,ve=P=0,kt=null;fe!==null&&ve<q.length;ve++){fe.index>ve?(kt=fe,fe=null):kt=fe.sibling;var Ue=G(z,fe,q[ve],Z);if(Ue===null){fe===null&&(fe=kt);break}t&&fe&&Ue.alternate===null&&i(z,fe),P=f(Ue,P,ve),De===null?he=Ue:De.sibling=Ue,De=Ue,fe=kt}if(ve===q.length)return s(z,fe),Be&&Ra(z,ve),he;if(fe===null){for(;ve<q.length;ve++)fe=J(z,q[ve],Z),fe!==null&&(P=f(fe,P,ve),De===null?he=fe:De.sibling=fe,De=fe);return Be&&Ra(z,ve),he}for(fe=l(fe);ve<q.length;ve++)kt=Q(fe,z,ve,q[ve],Z),kt!==null&&(t&&kt.alternate!==null&&fe.delete(kt.key===null?ve:kt.key),P=f(kt,P,ve),De===null?he=kt:De.sibling=kt,De=kt);return t&&fe.forEach(function(Or){return i(z,Or)}),Be&&Ra(z,ve),he}function ye(z,P,q,Z){if(q==null)throw Error(a(151));for(var he=null,De=null,fe=P,ve=P=0,kt=null,Ue=q.next();fe!==null&&!Ue.done;ve++,Ue=q.next()){fe.index>ve?(kt=fe,fe=null):kt=fe.sibling;var Or=G(z,fe,Ue.value,Z);if(Or===null){fe===null&&(fe=kt);break}t&&fe&&Or.alternate===null&&i(z,fe),P=f(Or,P,ve),De===null?he=Or:De.sibling=Or,De=Or,fe=kt}if(Ue.done)return s(z,fe),Be&&Ra(z,ve),he;if(fe===null){for(;!Ue.done;ve++,Ue=q.next())Ue=J(z,Ue.value,Z),Ue!==null&&(P=f(Ue,P,ve),De===null?he=Ue:De.sibling=Ue,De=Ue);return Be&&Ra(z,ve),he}for(fe=l(fe);!Ue.done;ve++,Ue=q.next())Ue=Q(fe,z,ve,Ue.value,Z),Ue!==null&&(t&&Ue.alternate!==null&&fe.delete(Ue.key===null?ve:Ue.key),P=f(Ue,P,ve),De===null?he=Ue:De.sibling=Ue,De=Ue);return t&&fe.forEach(function(Q1){return i(z,Q1)}),Be&&Ra(z,ve),he}function We(z,P,q,Z){if(typeof q=="object"&&q!==null&&q.type===M&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:e:{for(var he=q.key;P!==null;){if(P.key===he){if(he=q.type,he===M){if(P.tag===7){s(z,P.sibling),Z=h(P,q.props.children),Z.return=z,z=Z;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Ay(he)===P.type){s(z,P.sibling),Z=h(P,q.props),sl(Z,q),Z.return=z,z=Z;break e}s(z,P);break}else i(z,P);P=P.sibling}q.type===M?(Z=Aa(q.props.children,z.mode,Z,q.key),Z.return=z,z=Z):(Z=ju(q.type,q.key,q.props,null,z.mode,Z),sl(Z,q),Z.return=z,z=Z)}return E(z);case O:e:{for(he=q.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){s(z,P.sibling),Z=h(P,q.children||[]),Z.return=z,z=Z;break e}else{s(z,P);break}else i(z,P);P=P.sibling}Z=yd(q,z.mode,Z),Z.return=z,z=Z}return E(z);case R:return he=q._init,q=he(q._payload),We(z,P,q,Z)}if(qe(q))return Te(z,P,q,Z);if(N(q)){if(he=N(q),typeof he!="function")throw Error(a(150));return q=he.call(q),ye(z,P,q,Z)}if(typeof q.then=="function")return We(z,P,ec(q),Z);if(q.$$typeof===ne)return We(z,P,Bu(z,q),Z);tc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(s(z,P.sibling),Z=h(P,q),Z.return=z,z=Z):(s(z,P),Z=gd(q,z.mode,Z),Z.return=z,z=Z),E(z)):s(z,P)}return function(z,P,q,Z){try{al=0;var he=We(z,P,q,Z);return Cs=null,he}catch(fe){if(fe===Xo||fe===Hu)throw fe;var De=dn(29,fe,null,z.mode);return De.lanes=Z,De.return=z,De}finally{}}}var Ds=wy(!0),Ry=wy(!1),Nn=re(null),ui=null;function yr(t){var i=t.alternate;ae(wt,wt.current&1),ae(Nn,t),ui===null&&(i===null||ws.current!==null||i.memoizedState!==null)&&(ui=t)}function xy(t){if(t.tag===22){if(ae(wt,wt.current),ae(Nn,t),ui===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ui=t)}}else vr()}function vr(){ae(wt,wt.current),ae(Nn,Nn.current)}function zi(t){le(Nn),ui===t&&(ui=null),le(wt)}var wt=re(0);function nc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||zf(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Xd(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:T({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Wd={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=gn(),h=pr(l);h.payload=i,s!=null&&(h.callback=s),i=mr(t,h,l),i!==null&&(yn(i,t,l),Zo(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=gn(),h=pr(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=mr(t,h,l),i!==null&&(yn(i,t,l),Zo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=gn(),l=pr(s);l.tag=2,i!=null&&(l.callback=i),i=mr(t,l,s),i!==null&&(yn(i,t,s),Zo(i,t,s))}};function Iy(t,i,s,l,h,f,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,E):i.prototype&&i.prototype.isPureReactComponent?!qo(s,l)||!qo(h,f):!0}function Cy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Wd.enqueueReplaceState(i,i.state,null)}function Ma(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=T({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Dy(t){ic(t)}function Ny(t){console.error(t)}function Oy(t){ic(t)}function rc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function My(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zd(t,i,s){return s=pr(s),s.tag=3,s.payload={element:null},s.callback=function(){rc(t,i)},s}function ky(t){return t=pr(t),t.tag=3,t}function Vy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){My(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){My(i,s,l),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function QS(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&$o(i,s,h,!0),s=Nn.current,s!==null){switch(s.tag){case 13:return ui===null?Sf():s.alternate===null&&ct===0&&(ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===xd?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),wf(t,l,h)),!1;case 22:return s.flags|=65536,l===xd?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),wf(t,l,h)),!1}throw Error(a(435,s.tag))}return wf(t,l,h),Sf(),!1}if(Be)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Ed&&(t=Error(a(422),{cause:l}),Qo(xn(t,s)))):(l!==Ed&&(i=Error(a(423),{cause:l}),Qo(xn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,s),h=Zd(t.stateNode,l,h),Dd(t,h),ct!==4&&(ct=2)),!1;var f=Error(a(520),{cause:l});if(f=xn(f,s),fl===null?fl=[f]:fl.push(f),ct!==4&&(ct=2),i===null)return!0;l=xn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Zd(s.stateNode,l,t),Dd(s,t),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ar===null||!Ar.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ky(h),Vy(h,t,s,l),Dd(s,h),!1}s=s.return}while(s!==null);return!1}var Py=Error(a(461)),Ot=!1;function Lt(t,i,s,l){i.child=t===null?Ry(i,null,s,l):Ds(i,t.child,s,l)}function jy(t,i,s,l,h){s=s.render;var f=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Da(i),l=Vd(t,i,s,E,f,h),S=Pd(),t!==null&&!Ot?(jd(t,i,h),Bi(t,i,h)):(Be&&S&&vd(i),i.flags|=1,Lt(t,i,l,h),i.child)}function Ly(t,i,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!md(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,Uy(t,i,f,l,h)):(t=ju(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!of(t,h)){var E=f.memoizedProps;if(s=s.compare,s=s!==null?s:qo,s(E,l)&&t.ref===i.ref)return Bi(t,i,h)}return i.flags|=1,t=ki(f,l),t.ref=i.ref,t.return=i,i.child=t}function Uy(t,i,s,l,h){if(t!==null){var f=t.memoizedProps;if(qo(f,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=f,of(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,Bi(t,i,h)}return Jd(t,i,s,l,h)}function zy(t,i,s){var l=i.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return By(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(i,f!==null?f.cachePool:null),f!==null?Ug(i,f):Od(),xy(i);else return i.lanes=i.childLanes=536870912,By(t,i,f!==null?f.baseLanes|s:s,s)}else f!==null?(qu(i,f.cachePool),Ug(i,f),vr(),i.memoizedState=null):(t!==null&&qu(i,null),Od(),vr());return Lt(t,i,h,s),i.child}function By(t,i,s,l){var h=Rd();return h=h===null?null:{parent:At._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&qu(i,null),Od(),xy(i),t!==null&&$o(t,i,l,!0),null}function ac(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Jd(t,i,s,l,h){return Da(i),s=Vd(t,i,s,l,void 0,h),l=Pd(),t!==null&&!Ot?(jd(t,i,h),Bi(t,i,h)):(Be&&l&&vd(i),i.flags|=1,Lt(t,i,s,h),i.child)}function qy(t,i,s,l,h,f){return Da(i),i.updateQueue=null,s=Bg(i,l,s,h),zg(t),l=Pd(),t!==null&&!Ot?(jd(t,i,f),Bi(t,i,f)):(Be&&l&&vd(i),i.flags|=1,Lt(t,i,s,f),i.child)}function Hy(t,i,s,l,h){if(Da(i),i.stateNode===null){var f=Es,E=s.contextType;typeof E=="object"&&E!==null&&(f=Gt(E)),f=new s(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wd,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Id(i),E=s.contextType,f.context=typeof E=="object"&&E!==null?Gt(E):Es,f.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Xd(i,s,E,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&Wd.enqueueReplaceState(f,f.state,null),el(i,l,f,h),Jo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,D=Ma(s,S);f.props=D;var F=f.context,W=s.contextType;E=Es,typeof W=="object"&&W!==null&&(E=Gt(W));var J=s.getDerivedStateFromProps;W=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||F!==E)&&Cy(i,f,l,E),fr=!1;var G=i.memoizedState;f.state=G,el(i,l,f,h),Jo(),F=i.memoizedState,S||G!==F||fr?(typeof J=="function"&&(Xd(i,s,J,l),F=i.memoizedState),(D=fr||Iy(i,s,D,l,G,F,E))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),f.props=l,f.state=F,f.context=E,l=D):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Cd(t,i),E=i.memoizedProps,W=Ma(s,E),f.props=W,J=i.pendingProps,G=f.context,F=s.contextType,D=Es,typeof F=="object"&&F!==null&&(D=Gt(F)),S=s.getDerivedStateFromProps,(F=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==J||G!==D)&&Cy(i,f,l,D),fr=!1,G=i.memoizedState,f.state=G,el(i,l,f,h),Jo();var Q=i.memoizedState;E!==J||G!==Q||fr||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof S=="function"&&(Xd(i,s,S,l),Q=i.memoizedState),(W=fr||Iy(i,s,W,l,G,Q,D)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,D)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),f.props=l,f.state=Q,f.context=D,l=W):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,ac(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=Ds(i,t.child,null,h),i.child=Ds(i,null,s,h)):Lt(t,i,s,h),i.memoizedState=f.state,t=i.child):t=Bi(t,i,h),t}function Fy(t,i,s,l){return Go(),i.flags|=256,Lt(t,i,s,l),i.child}var ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tf(t){return{baseLanes:t,cachePool:Ng()}}function nf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=On),t}function Gy(t,i,s){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,E;if((E=f)||(E=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?yr(i):vr(),Be){var S=ut,D;if(D=S){e:{for(D=S,S=li;D.nodeType!==8;){if(!S){S=null;break e}if(D=Bn(D.nextSibling),D===null){S=null;break e}}S=D}S!==null?(i.memoizedState={dehydrated:S,treeContext:wa!==null?{id:Vi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},D=dn(18,null,null,0),D.stateNode=S,D.return=i,i.child=D,en=i,ut=null,D=!0):D=!1}D||Ia(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return zf(S)?i.lanes=32:i.lanes=536870912,null;zi(i)}return S=l.children,l=l.fallback,h?(vr(),h=i.mode,S=sc({mode:"hidden",children:S},h),l=Aa(l,h,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=tf(s),h.childLanes=nf(t,E,s),i.memoizedState=ef,l):(yr(i),rf(i,S))}if(D=t.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(f)i.flags&256?(yr(i),i.flags&=-257,i=af(t,i,s)):i.memoizedState!==null?(vr(),i.child=t.child,i.flags|=128,i=null):(vr(),h=l.fallback,S=i.mode,l=sc({mode:"visible",children:l.children},S),h=Aa(h,S,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ds(i,t.child,null,s),l=i.child,l.memoizedState=tf(s),l.childLanes=nf(t,E,s),i.memoizedState=ef,i=h);else if(yr(i),zf(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(a(419)),l.stack="",l.digest=E,Qo({value:l,source:null,stack:null}),i=af(t,i,s)}else if(Ot||$o(t,i,s,!1),E=(s&t.childLanes)!==0,Ot||E){if(E=tt,E!==null&&(l=s&-s,l=(l&42)!==0?1:ar(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,_s(t,l),yn(E,t,l),Py;S.data==="$?"||Sf(),i=af(t,i,s)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,ut=Bn(S.nextSibling),en=i,Be=!0,xa=null,li=!1,t!==null&&(Cn[Dn++]=Vi,Cn[Dn++]=Pi,Cn[Dn++]=wa,Vi=t.id,Pi=t.overflow,wa=i),i=rf(i,l.children),i.flags|=4096);return i}return h?(vr(),h=l.fallback,S=i.mode,D=t.child,F=D.sibling,l=ki(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?h=ki(F,h):(h=Aa(h,S,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=tf(s):(D=S.cachePool,D!==null?(F=At._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=Ng(),S={baseLanes:S.baseLanes|s,cachePool:D}),h.memoizedState=S,h.childLanes=nf(t,E,s),i.memoizedState=ef,l):(yr(i),s=t.child,t=s.sibling,s=ki(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=s,i.memoizedState=null,s)}function rf(t,i){return i=sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function sc(t,i){return t=dn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function af(t,i,s){return Ds(i,t.child,null,s),t=rf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Qy(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),bd(t.return,i,s)}function sf(t,i,s,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=h)}function $y(t,i,s){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(Lt(t,i,l.children,s),l=wt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qy(t,s,i);else if(t.tag===19)Qy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ae(wt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&nc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),sf(i,!1,h,s,f);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&nc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}sf(i,!0,s,null,f);break;case"together":sf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Bi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Sr|=i.lanes,(s&i.childLanes)===0)if(t!==null){if($o(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=ki(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=ki(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function of(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function $S(t,i,s){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),dr(i,At,t.memoizedState.cache),Go();break;case 27:case 5:rr(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:dr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Gy(t,i,s):(yr(i),t=Bi(t,i,s),t!==null?t.sibling:null);yr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||($o(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return $y(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(wt,wt.current),l)break;return null;case 22:case 23:return i.lanes=0,zy(t,i,s);case 24:dr(i,At,t.memoizedState.cache)}return Bi(t,i,s)}function Ky(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!of(t,s)&&(i.flags&128)===0)return Ot=!1,$S(t,i,s);Ot=(t.flags&131072)!==0}else Ot=!1,Be&&(i.flags&1048576)!==0&&Ag(i,Uu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")md(l)?(t=Ma(l,t),i.tag=1,i=Hy(null,i,l,t,s)):(i.tag=0,i=Jd(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===ie){i.tag=11,i=jy(null,i,l,t,s);break e}else if(h===j){i.tag=14,i=Ly(null,i,l,t,s);break e}}throw i=Je(l)||l,Error(a(306,i,""))}}return i;case 0:return Jd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Ma(l,i.pendingProps),Hy(t,i,l,h,s);case 3:e:{if(et(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,Cd(t,i),el(i,l,null,s);var E=i.memoizedState;if(l=E.cache,dr(i,At,l),l!==f.cache&&Sd(i,[At],s,!0),Jo(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Fy(t,i,l,s);break e}else if(l!==h){h=xn(Error(a(424)),i),Qo(h),i=Fy(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Bn(t.firstChild),en=i,Be=!0,xa=null,li=!0,s=Ry(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Go(),l===h){i=Bi(t,i,s);break e}Lt(t,i,l,s)}i=i.child}return i;case 26:return ac(t,i),t===null?(s=Zv(i.type,null,i.pendingProps,null))?i.memoizedState=s:Be||(s=i.type,t=i.pendingProps,l=Ec(Se.current).createElement(s),l[Tt]=i,l[mt]=t,zt(l,s,t),ht(l),i.stateNode=l):i.memoizedState=Zv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return rr(i),t===null&&Be&&(l=i.stateNode=Yv(i.type,i.pendingProps,Se.current),en=i,li=!0,h=ut,xr(i.type)?(Bf=h,ut=Bn(l.firstChild)):ut=h),Lt(t,i,i.pendingProps.children,s),ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ut)&&(l=T1(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,en=i,ut=Bn(l.firstChild),li=!1,h=!0):h=!1),h||Ia(i)),rr(i),h=i.type,f=i.pendingProps,E=t!==null?t.memoizedProps:null,l=f.children,jf(h,f)?l=null:E!==null&&jf(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Vd(t,i,US,null,null,s),bl._currentValue=h),ac(t,i),Lt(t,i,l,s),i.child;case 6:return t===null&&Be&&((t=s=ut)&&(s=b1(s,i.pendingProps,li),s!==null?(i.stateNode=s,en=i,ut=null,t=!0):t=!1),t||Ia(i)),null;case 13:return Gy(t,i,s);case 4:return et(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ds(i,null,l,s):Lt(t,i,l,s),i.child;case 11:return jy(t,i,i.type,i.pendingProps,s);case 7:return Lt(t,i,i.pendingProps,s),i.child;case 8:return Lt(t,i,i.pendingProps.children,s),i.child;case 12:return Lt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,dr(i,i.type,l.value),Lt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Da(i),h=Gt(h),l=l(h),i.flags|=1,Lt(t,i,l,s),i.child;case 14:return Ly(t,i,i.type,i.pendingProps,s);case 15:return Uy(t,i,i.type,i.pendingProps,s);case 19:return $y(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=sc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=ki(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return zy(t,i,s);case 24:return Da(i),l=Gt(At),t===null?(h=Rd(),h===null&&(h=tt,f=Ad(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:l,cache:h},Id(i),dr(i,At,h)):((t.lanes&s)!==0&&(Cd(t,i),el(i,null,null,s),Jo()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),dr(i,At,l)):(l=f.cache,dr(i,At,l),l!==h.cache&&Sd(i,[At],s,!0))),Lt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function qi(t){t.flags|=4}function Yy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!i0(i)){if(i=Nn.current,i!==null&&((je&4194048)===je?ui!==null:(je&62914560)!==je&&(je&536870912)===0||i!==ui))throw Wo=xd,Og;t.flags|=8192}}function oc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ao():536870912,t.lanes|=i,ks|=i)}function ol(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function KS(t,i,s){var l=i.pendingProps;switch(_d(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Li(At),Xn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Fo(i)?qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xg())),st(i),null;case 26:return s=i.memoizedState,t===null?(qi(i),s!==null?(st(i),Yy(i,s)):(st(i),i.flags&=-16777217)):s?s!==t.memoizedState?(qi(i),st(i),Yy(i,s)):(st(i),i.flags&=-16777217):(t.memoizedProps!==l&&qi(i),st(i),i.flags&=-16777217),null;case 27:Ti(i),s=Se.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return st(i),null}t=ge.current,Fo(i)?wg(i):(t=Yv(h,l,s),i.stateNode=t,qi(i))}return st(i),null;case 5:if(Ti(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return st(i),null}if(t=ge.current,Fo(i))wg(i);else{switch(h=Ec(Se.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[Tt]=i,t[mt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&qi(i)}}return st(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Se.current,Fo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||qv(t.nodeValue,s)),t||Ia(i)}else t=Ec(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Fo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Tt]=i}else Go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=xg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(zi(i),i):(zi(i),null)}if(zi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),oc(i,i.updateQueue),st(i),null;case 4:return Xn(),t===null&&Of(i.stateNode.containerInfo),st(i),null;case 10:return Li(i.type),st(i),null;case 19:if(le(wt),h=i.memoizedState,h===null)return st(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)ol(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=nc(t),f!==null){for(i.flags|=128,ol(h,!1),t=f.updateQueue,i.updateQueue=t,oc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Sg(s,t),s=s.sibling;return ae(wt,wt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Tn()>cc&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304)}else{if(!l)if(t=nc(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,oc(i,t),ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Be)return st(i),null}else 2*Tn()-h.renderingStartTime>cc&&s!==536870912&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Tn(),i.sibling=null,t=wt.current,ae(wt,l?t&1|2:t&1),i):(st(i),null);case 22:case 23:return zi(i),Md(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),s=i.updateQueue,s!==null&&oc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&le(Na),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Li(At),st(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function YS(t,i){switch(_d(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Li(At),Xn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ti(i),null;case 13:if(zi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Go()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(wt),null;case 4:return Xn(),null;case 10:return Li(i.type),null;case 22:case 23:return zi(i),Md(),t!==null&&le(Na),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Li(At),null;case 25:return null;default:return null}}function Xy(t,i){switch(_d(i),i.tag){case 3:Li(At),Xn();break;case 26:case 27:case 5:Ti(i);break;case 4:Xn();break;case 13:zi(i);break;case 19:le(wt);break;case 10:Li(i.type);break;case 22:case 23:zi(i),Md(),t!==null&&le(Na);break;case 24:Li(At)}}function ll(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,E=s.inst;l=f(),E.destroy=l}s=s.next}while(s!==h)}}catch(S){Ze(i,i.return,S)}}function _r(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=i;var D=s,F=S;try{F()}catch(W){Ze(h,D,W)}}}l=l.next}while(l!==f)}}catch(W){Ze(i,i.return,W)}}function Wy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Lg(i,s)}catch(l){Ze(t,t.return,l)}}}function Zy(t,i,s){s.props=Ma(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ze(t,i,l)}}function ul(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ze(t,i,h)}}function ci(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ze(t,i,h)}else s.current=null}function Jy(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ze(t,t.return,h)}}function lf(t,i,s){try{var l=t.stateNode;g1(l,t.type,s,i),l[mt]=i}catch(h){Ze(t,t.return,h)}}function ev(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xr(t.type)||t.tag===4}function uf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ev(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cf(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=_c));else if(l!==4&&(l===27&&xr(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(cf(t,i,s),t=t.sibling;t!==null;)cf(t,i,s),t=t.sibling}function lc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&xr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(lc(t,i,s),t=t.sibling;t!==null;)lc(t,i,s),t=t.sibling}function tv(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zt(i,l,s),i[Tt]=t,i[mt]=s}catch(f){Ze(t,t.return,f)}}var Hi=!1,ft=!1,hf=!1,nv=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function XS(t,i){if(t=t.containerInfo,Vf=Rc,t=fg(t),ld(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var E=0,S=-1,D=-1,F=0,W=0,J=t,G=null;t:for(;;){for(var Q;J!==s||h!==0&&J.nodeType!==3||(S=E+h),J!==f||l!==0&&J.nodeType!==3||(D=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(Q=J.firstChild)!==null;)G=J,J=Q;for(;;){if(J===t)break t;if(G===s&&++F===h&&(S=E),G===f&&++W===l&&(D=E),(Q=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=Q}s=S===-1||D===-1?null:{start:S,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Pf={focusedElem:t,selectionRange:s},Rc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Te=Ma(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Te,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ze(s,s.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Uf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Uf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}}function iv(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Er(t,s),l&4&&ll(5,s);break;case 1:if(Er(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(E){Ze(s,s.return,E)}else{var h=Ma(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(s,s.return,E)}}l&64&&Wy(s),l&512&&ul(s,s.return);break;case 3:if(Er(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Lg(t,i)}catch(E){Ze(s,s.return,E)}}break;case 27:i===null&&l&4&&tv(s);case 26:case 5:Er(t,s),i===null&&l&4&&Jy(s),l&512&&ul(s,s.return);break;case 12:Er(t,s);break;case 13:Er(t,s),l&4&&sv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=a1.bind(null,s),S1(t,s))));break;case 22:if(l=s.memoizedState!==null||Hi,!l){i=i!==null&&i.memoizedState!==null||ft,h=Hi;var f=ft;Hi=l,(ft=i)&&!f?Tr(t,s,(s.subtreeFlags&8772)!==0):Er(t,s),Hi=h,ft=f}break;case 30:break;default:Er(t,s)}}function rv(t){var i=t.alternate;i!==null&&(t.alternate=null,rv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&lr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,nn=!1;function Fi(t,i,s){for(s=s.child;s!==null;)av(t,i,s),s=s.sibling}function av(t,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(lt,s)}catch{}switch(s.tag){case 26:ft||ci(s,i),Fi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ft||ci(s,i);var l=rt,h=nn;xr(s.type)&&(rt=s.stateNode,nn=!1),Fi(t,i,s),vl(s.stateNode),rt=l,nn=h;break;case 5:ft||ci(s,i);case 6:if(l=rt,h=nn,rt=null,Fi(t,i,s),rt=l,nn=h,rt!==null)if(nn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(s.stateNode)}catch(f){Ze(s,i,f)}else try{rt.removeChild(s.stateNode)}catch(f){Ze(s,i,f)}break;case 18:rt!==null&&(nn?(t=rt,$v(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Rl(t)):$v(rt,s.stateNode));break;case 4:l=rt,h=nn,rt=s.stateNode.containerInfo,nn=!0,Fi(t,i,s),rt=l,nn=h;break;case 0:case 11:case 14:case 15:ft||_r(2,s,i),ft||_r(4,s,i),Fi(t,i,s);break;case 1:ft||(ci(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Zy(s,i,l)),Fi(t,i,s);break;case 21:Fi(t,i,s);break;case 22:ft=(l=ft)||s.memoizedState!==null,Fi(t,i,s),ft=l;break;default:Fi(t,i,s)}}function sv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(s){Ze(i,i.return,s)}}function WS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new nv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new nv),i;default:throw Error(a(435,t.tag))}}function df(t,i){var s=WS(t);i.forEach(function(l){var h=s1.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function fn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(xr(S.type)){rt=S.stateNode,nn=!1;break e}break;case 5:rt=S.stateNode,nn=!1;break e;case 3:case 4:rt=S.stateNode.containerInfo,nn=!0;break e}S=S.return}if(rt===null)throw Error(a(160));av(f,E,h),rt=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ov(i,t),i=i.sibling}var zn=null;function ov(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),pn(t),l&4&&(_r(3,t,t.return),ll(3,t),_r(5,t,t.return));break;case 1:fn(i,t),pn(t),l&512&&(ft||s===null||ci(s,s.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=zn;if(fn(i,t),pn(t),l&512&&(ft||s===null||ci(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[la]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),zt(f,l,s),f[Tt]=t,ht(f),l=f;break e;case"link":var E=t0("link","href",h).get(l+(s.href||""));if(E){for(var S=0;S<E.length;S++)if(f=E[S],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(S,1);break t}}f=h.createElement(l),zt(f,l,s),h.head.appendChild(f);break;case"meta":if(E=t0("meta","content",h).get(l+(s.content||""))){for(S=0;S<E.length;S++)if(f=E[S],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(S,1);break t}}f=h.createElement(l),zt(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Tt]=t,ht(f),l=f}t.stateNode=l}else n0(h,t.type,t.stateNode);else t.stateNode=e0(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?n0(h,t.type,t.stateNode):e0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&lf(t,t.memoizedProps,s.memoizedProps)}break;case 27:fn(i,t),pn(t),l&512&&(ft||s===null||ci(s,s.return)),s!==null&&l&4&&lf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(fn(i,t),pn(t),l&512&&(ft||s===null||ci(s,s.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(Q){Ze(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,lf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(hf=!0);break;case 6:if(fn(i,t),pn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Q){Ze(t,t.return,Q)}}break;case 3:if(Sc=null,h=zn,zn=Tc(i.containerInfo),fn(i,t),zn=h,pn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Rl(i.containerInfo)}catch(Q){Ze(t,t.return,Q)}hf&&(hf=!1,lv(t));break;case 4:l=zn,zn=Tc(t.stateNode.containerInfo),fn(i,t),pn(t),zn=l;break;case 12:fn(i,t),pn(t);break;case 13:fn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(vf=Tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,df(t,l)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,F=Hi,W=ft;if(Hi=F||h,ft=W||D,fn(i,t),ft=W,Hi=F,pn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||D||Hi||ft||ka(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){D=s=i;try{if(f=D.stateNode,h)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=D.stateNode;var J=D.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){Ze(D,D.return,Q)}}}else if(i.tag===6){if(s===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(Q){Ze(D,D.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,df(t,s))));break;case 19:fn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,df(t,l)));break;case 30:break;case 21:break;default:fn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(ev(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=uf(t);lc(t,f,h);break;case 5:var E=s.stateNode;s.flags&32&&(Sn(E,""),s.flags&=-33);var S=uf(t);lc(t,S,E);break;case 3:case 4:var D=s.stateNode.containerInfo,F=uf(t);cf(t,F,D);break;default:throw Error(a(161))}}catch(W){Ze(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function lv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;lv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Er(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)iv(t,i.alternate,i),i=i.sibling}function ka(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:_r(4,i,i.return),ka(i);break;case 1:ci(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Zy(i,i.return,s),ka(i);break;case 27:vl(i.stateNode);case 26:case 5:ci(i,i.return),ka(i);break;case 22:i.memoizedState===null&&ka(i);break;case 30:ka(i);break;default:ka(i)}t=t.sibling}}function Tr(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,E=f.flags;switch(f.tag){case 0:case 11:case 15:Tr(h,f,s),ll(4,f);break;case 1:if(Tr(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Ze(l,l.return,F)}if(l=f,h=l.updateQueue,h!==null){var S=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)jg(D[h],S)}catch(F){Ze(l,l.return,F)}}s&&E&64&&Wy(f),ul(f,f.return);break;case 27:tv(f);case 26:case 5:Tr(h,f,s),s&&l===null&&E&4&&Jy(f),ul(f,f.return);break;case 12:Tr(h,f,s);break;case 13:Tr(h,f,s),s&&E&4&&sv(h,f);break;case 22:f.memoizedState===null&&Tr(h,f,s),ul(f,f.return);break;case 30:break;default:Tr(h,f,s)}i=i.sibling}}function ff(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ko(s))}function pf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ko(t))}function hi(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uv(t,i,s,l),i=i.sibling}function uv(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:hi(t,i,s,l),h&2048&&ll(9,i);break;case 1:hi(t,i,s,l);break;case 3:hi(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ko(t)));break;case 12:if(h&2048){hi(t,i,s,l),t=i.stateNode;try{var f=i.memoizedProps,E=f.id,S=f.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ze(i,i.return,D)}}else hi(t,i,s,l);break;case 13:hi(t,i,s,l);break;case 23:break;case 22:f=i.stateNode,E=i.alternate,i.memoizedState!==null?f._visibility&2?hi(t,i,s,l):cl(t,i):f._visibility&2?hi(t,i,s,l):(f._visibility|=2,Ns(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&ff(E,i);break;case 24:hi(t,i,s,l),h&2048&&pf(i.alternate,i);break;default:hi(t,i,s,l)}}function Ns(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,E=i,S=s,D=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Ns(f,E,S,D,h),ll(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Ns(f,E,S,D,h):cl(f,E):(W._visibility|=2,Ns(f,E,S,D,h)),h&&F&2048&&ff(E.alternate,E);break;case 24:Ns(f,E,S,D,h),h&&F&2048&&pf(E.alternate,E);break;default:Ns(f,E,S,D,h)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:cl(s,l),h&2048&&ff(l.alternate,l);break;case 24:cl(s,l),h&2048&&pf(l.alternate,l);break;default:cl(s,l)}i=i.sibling}}var hl=8192;function Os(t){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)cv(t),t=t.sibling}function cv(t){switch(t.tag){case 26:Os(t),t.flags&hl&&t.memoizedState!==null&&P1(zn,t.memoizedState,t.memoizedProps);break;case 5:Os(t);break;case 3:case 4:var i=zn;zn=Tc(t.stateNode.containerInfo),Os(t),zn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=hl,hl=16777216,Os(t),hl=i):Os(t));break;default:Os(t)}}function hv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function dl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Mt=l,fv(l,t)}hv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dv(t),t=t.sibling}function dv(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&_r(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,uc(t)):dl(t);break;default:dl(t)}}function uc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Mt=l,fv(l,t)}hv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:_r(8,i,i.return),uc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,uc(i));break;default:uc(i)}t=t.sibling}}function fv(t,i){for(;Mt!==null;){var s=Mt;switch(s.tag){case 0:case 11:case 15:_r(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Mt=l;else e:for(s=t;Mt!==null;){l=Mt;var h=l.sibling,f=l.return;if(rv(l),l===s){Mt=null;break e}if(h!==null){h.return=f,Mt=h;break e}Mt=f}}}var ZS={getCacheForType:function(t){var i=Gt(At),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},JS=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,Ne=null,je=0,$e=0,mn=null,br=!1,Ms=!1,mf=!1,Gi=0,ct=0,Sr=0,Va=0,gf=0,On=0,ks=0,fl=null,rn=null,yf=!1,vf=0,cc=1/0,hc=null,Ar=null,Ut=0,wr=null,Vs=null,Ps=0,_f=0,Ef=null,pv=null,pl=0,Tf=null;function gn(){if((Qe&2)!==0&&je!==0)return je&-je;if(X.T!==null){var t=Ss;return t!==0?t:If()}return sr()}function mv(){On===0&&(On=(je&536870912)===0||Be?So():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),On}function yn(t,i,s){(t===tt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(js(t,0),Rr(t,je,On,!1)),Si(t,s),((Qe&2)===0||t!==tt)&&(t===tt&&((Qe&2)===0&&(Va|=s),ct===4&&Rr(t,je,On,!1)),di(t))}function gv(t,i,s){if((Qe&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||oa(t,i),h=l?n1(t,i):Af(t,i,!0),f=l;do{if(h===0){Ms&&!l&&Rr(t,i,0,!1);break}else{if(s=t.current.alternate,f&&!e1(s)){h=Af(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=t;h=fl;var D=S.current.memoizedState.isDehydrated;if(D&&(js(S,E).flags|=256),E=Af(S,E,!1),E!==2){if(mf&&!D){S.errorRecoveryDisabledLanes|=f,Va|=f,h=4;break e}f=rn,rn=h,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}h=E}if(f=!1,h!==2)continue}}if(h===1){js(t,0),Rr(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Rr(l,i,On,!br);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=vf+300-Tn(),10<h)){if(Rr(l,i,On,!br),es(l,0,!0)!==0)break e;l.timeoutHandle=Gv(yv.bind(null,l,s,rn,hc,yf,i,On,Va,ks,br,f,2,-0,0),h);break e}yv(l,s,rn,hc,yf,i,On,Va,ks,br,f,0,-0,0)}}break}while(!0);di(t)}function yv(t,i,s,l,h,f,E,S,D,F,W,J,G,Q){if(t.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:V1},cv(i),J=j1(),J!==null)){t.cancelPendingCommit=J(Av.bind(null,t,i,f,s,l,h,E,S,D,W,1,G,Q)),Rr(t,f,E,!F);return}Av(t,i,f,s,l,h,E,S,D)}function e1(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!hn(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(t,i,s,l){i&=~gf,i&=~Va,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-Ft(h),E=1<<f;l[f]=-1,h&=~E}s!==0&&Wn(t,s,i)}function dc(){return(Qe&6)===0?(ml(0),!1):!0}function bf(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,ji=Ca=null,Ld(t),Cs=null,al=0,t=Ne;for(;t!==null;)Xy(t.alternate,t),t=t.return;Ne=null}}function js(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,v1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),bf(),tt=t,Ne=s=ki(t.current,null),je=i,$e=0,mn=null,br=!1,Ms=oa(t,i),mf=!1,ks=On=gf=Va=Sr=ct=0,rn=fl=null,yf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Ft(l),f=1<<h;i|=t[h],l&=~f}return Gi=i,ku(),s}function vv(t,i){xe=null,X.H=Ju,i===Xo||i===Hu?(i=Vg(),$e=3):i===Og?(i=Vg(),$e=4):$e=i===Py?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Ne===null&&(ct=1,rc(t,xn(i,t.current)))}function _v(){var t=X.H;return X.H=Ju,t===null?Ju:t}function Ev(){var t=X.A;return X.A=ZS,t}function Sf(){ct=4,br||(je&4194048)!==je&&Nn.current!==null||(Ms=!0),(Sr&134217727)===0&&(Va&134217727)===0||tt===null||Rr(tt,je,On,!1)}function Af(t,i,s){var l=Qe;Qe|=2;var h=_v(),f=Ev();(tt!==t||je!==i)&&(hc=null,js(t,i)),i=!1;var E=ct;e:do try{if($e!==0&&Ne!==null){var S=Ne,D=mn;switch($e){case 8:bf(),E=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(i=!0);var F=$e;if($e=0,mn=null,Ls(t,S,D,F),s&&Ms){E=0;break e}break;default:F=$e,$e=0,mn=null,Ls(t,S,D,F)}}t1(),E=ct;break}catch(W){vv(t,W)}while(!0);return i&&t.shellSuspendCounter++,ji=Ca=null,Qe=l,X.H=h,X.A=f,Ne===null&&(tt=null,je=0,ku()),E}function t1(){for(;Ne!==null;)Tv(Ne)}function n1(t,i){var s=Qe;Qe|=2;var l=_v(),h=Ev();tt!==t||je!==i?(hc=null,cc=Tn()+500,js(t,i)):Ms=oa(t,i);e:do try{if($e!==0&&Ne!==null){i=Ne;var f=mn;t:switch($e){case 1:$e=0,mn=null,Ls(t,i,f,1);break;case 2:case 9:if(Mg(f)){$e=0,mn=null,bv(i);break}i=function(){$e!==2&&$e!==9||tt!==t||($e=7),di(t)},f.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Mg(f)?($e=0,mn=null,bv(i)):($e=0,mn=null,Ls(t,i,f,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var S=Ne;if(!E||i0(E)){$e=0,mn=null;var D=S.sibling;if(D!==null)Ne=D;else{var F=S.return;F!==null?(Ne=F,fc(F)):Ne=null}break t}}$e=0,mn=null,Ls(t,i,f,5);break;case 6:$e=0,mn=null,Ls(t,i,f,6);break;case 8:bf(),ct=6;break e;default:throw Error(a(462))}}i1();break}catch(W){vv(t,W)}while(!0);return ji=Ca=null,X.H=l,X.A=h,Qe=s,Ne!==null?0:(tt=null,je=0,ku(),ct)}function i1(){for(;Ne!==null&&!_o();)Tv(Ne)}function Tv(t){var i=Ky(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,i===null?fc(t):Ne=i}function bv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=qy(s,i,i.pendingProps,i.type,void 0,je);break;case 11:i=qy(s,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Ld(i);default:Xy(s,i),i=Ne=Sg(i,Gi),i=Ky(s,i,Gi)}t.memoizedProps=t.pendingProps,i===null?fc(t):Ne=i}function Ls(t,i,s,l){ji=Ca=null,Ld(i),Cs=null,al=0;var h=i.return;try{if(QS(t,h,i,s,je)){ct=1,rc(t,xn(s,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;ct=1,rc(t,xn(s,t.current)),Ne=null;return}i.flags&32768?(Be||l===1?t=!0:Ms||(je&536870912)!==0?t=!1:(br=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sv(i,t)):fc(i)}function fc(t){var i=t;do{if((i.flags&32768)!==0){Sv(i,br);return}t=i.return;var s=KS(i.alternate,i,Gi);if(s!==null){Ne=s;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ct===0&&(ct=5)}function Sv(t,i){do{var s=YS(t.alternate,t);if(s!==null){s.flags&=32767,Ne=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=s}while(t!==null);ct=6,Ne=null}function Av(t,i,s,l,h,f,E,S,D){t.cancelPendingCommit=null;do pc();while(Ut!==0);if((Qe&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=fd,wo(t,s,f,E,S,D),t===tt&&(Ne=tt=null,je=0),Vs=i,wr=t,Ps=s,_f=f,Ef=h,pv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,o1(ia,function(){return Cv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=oe.p,oe.p=2,E=Qe,Qe|=4;try{XS(t,i,s)}finally{Qe=E,oe.p=h,X.T=l}}Ut=1,wv(),Rv(),xv()}}function wv(){if(Ut===1){Ut=0;var t=wr,i=Vs,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=oe.p;oe.p=2;var h=Qe;Qe|=4;try{ov(i,t);var f=Pf,E=fg(t.containerInfo),S=f.focusedElem,D=f.selectionRange;if(E!==S&&S&&S.ownerDocument&&dg(S.ownerDocument.documentElement,S)){if(D!==null&&ld(S)){var F=D.start,W=D.end;if(W===void 0&&(W=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(W,S.value.length);else{var J=S.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var Q=G.getSelection(),Te=S.textContent.length,ye=Math.min(D.start,Te),We=D.end===void 0?ye:Math.min(D.end,Te);!Q.extend&&ye>We&&(E=We,We=ye,ye=E);var z=hg(S,ye),P=hg(S,We);if(z&&P&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var q=J.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),ye>We?(Q.addRange(q),Q.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),Q.addRange(q))}}}}for(J=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var Z=J[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Rc=!!Vf,Pf=Vf=null}finally{Qe=h,oe.p=l,X.T=s}}t.current=i,Ut=2}}function Rv(){if(Ut===2){Ut=0;var t=wr,i=Vs,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=oe.p;oe.p=2;var h=Qe;Qe|=4;try{iv(t,i.alternate,i)}finally{Qe=h,oe.p=l,X.T=s}}Ut=3}}function xv(){if(Ut===4||Ut===3){Ut=0,uu();var t=wr,i=Vs,s=Ps,l=pv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,Vs=wr=null,Iv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ar=null),ts(s),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=oe.p,oe.p=2,X.T=null;try{for(var f=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];f(S.value,{componentStack:S.stack})}}finally{X.T=i,oe.p=h}}(Ps&3)!==0&&pc(),di(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Tf?pl++:(pl=0,Tf=t):pl=0,ml(0)}}function Iv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ko(i)))}function pc(t){return wv(),Rv(),xv(),Cv()}function Cv(){if(Ut!==5)return!1;var t=wr,i=_f;_f=0;var s=ts(Ps),l=X.T,h=oe.p;try{oe.p=32>s?32:s,X.T=null,s=Ef,Ef=null;var f=wr,E=Ps;if(Ut=0,Vs=wr=null,Ps=0,(Qe&6)!==0)throw Error(a(331));var S=Qe;if(Qe|=4,dv(f.current),uv(f,f.current,E,s),Qe=S,ml(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(lt,f)}catch{}return!0}finally{oe.p=h,X.T=l,Iv(t,i)}}function Dv(t,i,s){i=xn(s,i),i=Zd(t.stateNode,i,2),t=mr(t,i,2),t!==null&&(Si(t,2),di(t))}function Ze(t,i,s){if(t.tag===3)Dv(t,t,s);else for(;i!==null;){if(i.tag===3){Dv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ar===null||!Ar.has(l))){t=xn(s,t),s=ky(2),l=mr(i,s,2),l!==null&&(Vy(s,l,i,t),Si(l,2),di(l));break}}i=i.return}}function wf(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new JS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(mf=!0,h.add(s),t=r1.bind(null,t,i,s),i.then(t,t))}function r1(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,tt===t&&(je&s)===s&&(ct===4||ct===3&&(je&62914560)===je&&300>Tn()-vf?(Qe&2)===0&&js(t,0):gf|=s,ks===je&&(ks=0)),di(t)}function Nv(t,i){i===0&&(i=Ao()),t=_s(t,i),t!==null&&(Si(t,i),di(t))}function a1(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Nv(t,s)}function s1(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Nv(t,s)}function o1(t,i){return ta(t,i)}var mc=null,Us=null,Rf=!1,gc=!1,xf=!1,Pa=0;function di(t){t!==Us&&t.next===null&&(Us===null?mc=Us=t:Us=Us.next=t),gc=!0,Rf||(Rf=!0,u1())}function ml(t,i){if(!xf&&gc){xf=!0;do for(var s=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var E=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Ft(42|t)+1)-1,f&=h&~(E&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Vv(l,f))}else f=je,f=es(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||oa(l,f)||(s=!0,Vv(l,f));l=l.next}while(s);xf=!1}}function l1(){Ov()}function Ov(){gc=Rf=!1;var t=0;Pa!==0&&(y1()&&(t=Pa),Pa=0);for(var i=Tn(),s=null,l=mc;l!==null;){var h=l.next,f=Mv(l,i);f===0?(l.next=null,s===null?mc=h:s.next=h,h===null&&(Us=s)):(s=l,(t!==0||(f&3)!==0)&&(gc=!0)),l=h}ml(t)}function Mv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var E=31-Ft(f),S=1<<E,D=h[E];D===-1?((S&s)===0||(S&l)!==0)&&(h[E]=bo(S,i)):D<=i&&(t.expiredLanes|=S),f&=~S}if(i=tt,s=je,s=es(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&na(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||oa(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&na(l),ts(s)){case 2:case 8:s=Za;break;case 32:s=ia;break;case 268435456:s=Ja;break;default:s=ia}return l=kv.bind(null,t),s=ta(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&na(l),t.callbackPriority=2,t.callbackNode=null,2}function kv(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(pc()&&t.callbackNode!==s)return null;var l=je;return l=es(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(gv(t,l,i),Mv(t,Tn()),t.callbackNode!=null&&t.callbackNode===s?kv.bind(null,t):null)}function Vv(t,i){if(pc())return null;gv(t,i,!0)}function u1(){_1(function(){(Qe&6)!==0?ta(Eo,l1):Ov()})}function If(){return Pa===0&&(Pa=So()),Pa}function Pv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:os(""+t)}function jv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function c1(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var f=Pv((h[mt]||null).action),E=l.submitter;E&&(i=(i=E[mt]||null)?Pv(i.formAction):E.getAttribute("formAction"),i!==null&&(f=i,E=null));var S=new ls("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pa!==0){var D=E?jv(h,E):new FormData(h);$d(s,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(S.preventDefault(),D=E?jv(h,E):new FormData(h),$d(s,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Cf=0;Cf<dd.length;Cf++){var Df=dd[Cf],h1=Df.toLowerCase(),d1=Df[0].toUpperCase()+Df.slice(1);Un(h1,"on"+d1)}Un(gg,"onAnimationEnd"),Un(yg,"onAnimationIteration"),Un(vg,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(CS,"onTransitionRun"),Un(DS,"onTransitionStart"),Un(NS,"onTransitionCancel"),Un(_g,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function Lv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],D=S.instance,F=S.currentTarget;if(S=S.listener,D!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=F;try{f(h)}catch(W){ic(W)}h.currentTarget=null,f=D}else for(E=0;E<l.length;E++){if(S=l[E],D=S.instance,F=S.currentTarget,S=S.listener,D!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=F;try{f(h)}catch(W){ic(W)}h.currentTarget=null,f=D}}}}function Oe(t,i){var s=i[xo];s===void 0&&(s=i[xo]=new Set);var l=t+"__bubble";s.has(l)||(Uv(i,t,2,!1),s.add(l))}function Nf(t,i,s){var l=0;i&&(l|=4),Uv(s,t,l,i)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[yc]){t[yc]=!0,Io.forEach(function(s){s!=="selectionchange"&&(f1.has(s)||Nf(s,!1,t),Nf(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[yc]||(i[yc]=!0,Nf("selectionchange",!1,i))}}function Uv(t,i,s,l){switch(u0(i)){case 2:var h=z1;break;case 8:h=B1;break;default:h=Qf}s=h.bind(null,i,s,t),h=void 0,!wn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Mf(t,i,s,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Ai(S),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=f=E;continue e}S=S.parentNode}}l=l.return}_u(function(){var F=f,W=An(s),J=[];e:{var G=Eg.get(t);if(G!==void 0){var Q=ls,Te=t;switch(t){case"keypress":if(ii(s)===0)break e;case"keydown":case"keyup":Q=ps;break;case"focusin":Te="focus",Q=hs;break;case"focusout":Te="blur",Q=hs;break;case"beforeblur":case"afterblur":Q=hs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=rd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=xu;break;case gg:case yg:case vg:Q=ds;break;case _g:Q=Cu;break;case"scroll":case"scrollend":Q=Eu;break;case"wheel":Q=ms;break;case"copy":case"cut":case"paste":Q=fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=zo;break;case"toggle":case"beforetoggle":Q=Nu}var ye=(i&4)!==0,We=!ye&&(t==="scroll"||t==="scrollend"),z=ye?G!==null?G+"Capture":null:G;ye=[];for(var P=F,q;P!==null;){var Z=P;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||z===null||(Z=ma(P,z),Z!=null&&ye.push(yl(P,Z,q))),We)break;P=P.return}0<ye.length&&(G=new Q(G,Te,null,s,W),J.push({event:G,listeners:ye}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&s!==Ii&&(Te=s.relatedTarget||s.fromElement)&&(Ai(Te)||Te[bn]))break e;if((Q||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(Te=s.relatedTarget||s.toElement,Q=F,Te=Te?Ai(Te):null,Te!==null&&(We=u(Te),ye=Te.tag,Te!==We||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(Q=null,Te=F),Q!==Te)){if(ye=Rn,Z="onMouseLeave",z="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ye=zo,Z="onPointerLeave",z="onPointerEnter",P="pointer"),We=Q==null?G:Jn(Q),q=Te==null?G:Jn(Te),G=new ye(Z,P+"leave",Q,s,W),G.target=We,G.relatedTarget=q,Z=null,Ai(W)===F&&(ye=new ye(z,P+"enter",Te,s,W),ye.target=q,ye.relatedTarget=We,Z=ye),We=Z,Q&&Te)t:{for(ye=Q,z=Te,P=0,q=ye;q;q=zs(q))P++;for(q=0,Z=z;Z;Z=zs(Z))q++;for(;0<P-q;)ye=zs(ye),P--;for(;0<q-P;)z=zs(z),q--;for(;P--;){if(ye===z||z!==null&&ye===z.alternate)break t;ye=zs(ye),z=zs(z)}ye=null}else ye=null;Q!==null&&zv(J,G,Q,ye,!1),Te!==null&&We!==null&&zv(J,We,Te,ye,!0)}}e:{if(G=F?Jn(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var he=ag;else if(St(G))if(sg)he=RS;else{he=AS;var De=SS}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Mo(F.elementType)&&(he=ag):he=wS;if(he&&(he=he(t,F))){Mi(J,he,s,W);break e}De&&De(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&cr(G,"number",G.value)}switch(De=F?Jn(F):window,t){case"focusin":(St(De)||De.contentEditable==="true")&&(gs=De,ud=F,Ho=null);break;case"focusout":Ho=ud=gs=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,pg(J,s,W);break;case"selectionchange":if(IS)break;case"keydown":case"keyup":pg(J,s,W)}var fe;if(si)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?K(t,s)&&(ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(_&&s.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(fe=Vo()):(ni=W,hr="value"in ni?ni.value:ni.textContent,Ve=!0)),De=vc(F,ve),0<De.length&&(ve=new Lo(ve,t,null,s,W),J.push({event:ve,listeners:De}),fe?ve.data=fe:(fe=se(s),fe!==null&&(ve.data=fe)))),(fe=y?bt(t,s):Pe(t,s))&&(ve=vc(F,"onBeforeInput"),0<ve.length&&(De=new Lo("onBeforeInput","beforeinput",null,s,W),J.push({event:De,listeners:ve}),De.data=fe)),c1(J,t,F,s,W)}Lv(J,i)})}function yl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function vc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ma(t,s),h!=null&&l.unshift(yl(t,h,f)),h=ma(t,i),h!=null&&l.push(yl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zv(t,i,s,l,h){for(var f=i._reactName,E=[];s!==null&&s!==l;){var S=s,D=S.alternate,F=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||F===null||(D=F,h?(F=ma(s,f),F!=null&&E.unshift(yl(s,F,D))):h||(F=ma(s,f),F!=null&&E.push(yl(s,F,D)))),s=s.return}E.length!==0&&t.push({event:i,listeners:E})}var p1=/\r\n?/g,m1=/\u0000|\uFFFD/g;function Bv(t){return(typeof t=="string"?t:""+t).replace(p1,`
`).replace(m1,"")}function qv(t,i){return i=Bv(i),Bv(t)===i}function _c(){}function Xe(t,i,s,l,h,f){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(t,""+l);break;case"className":ei(t,"class",l);break;case"tabIndex":ei(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(t,s,l);break;case"style":Oo(t,l,f);break;case"data":if(i!=="object"){ei(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=os(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=os(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=_c);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=os(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ur(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=nd.get(s)||s,ur(t,s,l))}}function kf(t,i,s,l,h,f){switch(s){case"style":Oo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ns.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=t[mt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ur(t,s,l)}}}function zt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var E=s[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xe(t,i,f,E,s,null)}}h&&Xe(t,i,"srcSet",s.srcSet,s,null),l&&Xe(t,i,"src",s.src,s,null);return;case"input":Oe("invalid",t);var S=f=E=h=null,D=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":h=W;break;case"type":E=W;break;case"checked":D=W;break;case"defaultChecked":F=W;break;case"value":f=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:Xe(t,i,l,W,s,null)}}da(t,f,S,D,F,E,h,!1),ss(t);return;case"select":Oe("invalid",t),l=E=f=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:Xe(t,i,h,S,s,null)}i=f,s=E,t.multiple=!!l,i!=null?xi(t,!!l,i,!1):s!=null&&xi(t,!!l,s,!0);return;case"textarea":Oe("invalid",t),f=h=l=null;for(E in s)if(s.hasOwnProperty(E)&&(S=s[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Xe(t,i,E,S,s,null)}fa(t,l,h,f),ss(t);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,D,l,s,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)Oe(gl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xe(t,i,F,l,s,null)}return;default:if(Mo(i)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&kf(t,i,W,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&Xe(t,i,S,l,s,null))}function g1(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,E=null,S=null,D=null,F=null,W=null;for(Q in s){var J=s[Q];if(s.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(Q)||Xe(t,i,Q,null,l,J)}}for(var G in l){var Q=l[G];if(J=s[G],l.hasOwnProperty(G)&&(Q!=null||J!=null))switch(G){case"type":f=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":W=Q;break;case"value":E=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Q!==J&&Xe(t,i,G,Q,l,J)}}cn(t,E,S,D,F,W,f,h);return;case"select":Q=E=S=G=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(f)||Xe(t,i,f,null,l,D)}for(h in l)if(f=l[h],D=s[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":G=f;break;case"defaultValue":S=f;break;case"multiple":E=f;default:f!==D&&Xe(t,i,h,f,l,D)}i=S,s=E,l=Q,G!=null?xi(t,!!s,G,!1):!!l!=!!s&&(i!=null?xi(t,!!s,i,!0):xi(t,!!s,s?[]:"",!1));return;case"textarea":Q=G=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xe(t,i,S,null,l,h)}for(E in l)if(h=l[E],f=s[E],l.hasOwnProperty(E)&&(h!=null||f!=null))switch(E){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xe(t,i,E,h,l,f)}Ke(t,G,Q);return;case"option":for(var Te in s)if(G=s[Te],s.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Xe(t,i,Te,null,l,G)}for(D in l)if(G=l[D],Q=s[D],l.hasOwnProperty(D)&&G!==Q&&(G!=null||Q!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Xe(t,i,D,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)G=s[ye],s.hasOwnProperty(ye)&&G!=null&&!l.hasOwnProperty(ye)&&Xe(t,i,ye,null,l,G);for(F in l)if(G=l[F],Q=s[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:Xe(t,i,F,G,l,Q)}return;default:if(Mo(i)){for(var We in s)G=s[We],s.hasOwnProperty(We)&&G!==void 0&&!l.hasOwnProperty(We)&&kf(t,i,We,void 0,l,G);for(W in l)G=l[W],Q=s[W],!l.hasOwnProperty(W)||G===Q||G===void 0&&Q===void 0||kf(t,i,W,G,l,Q);return}}for(var z in s)G=s[z],s.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&Xe(t,i,z,null,l,G);for(J in l)G=l[J],Q=s[J],!l.hasOwnProperty(J)||G===Q||G==null&&Q==null||Xe(t,i,J,G,l,Q)}var Vf=null,Pf=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function Hv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function jf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Lf=null;function y1(){var t=window.event;return t&&t.type==="popstate"?t===Lf?!1:(Lf=t,!0):(Lf=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,v1=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(t){return Qv.resolve(null).then(t).catch(E1)}:Gv;function E1(t){setTimeout(function(){throw t})}function xr(t){return t==="head"}function $v(t,i){var s=i,l=0,h=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&vl(E.documentElement),s&2&&vl(E.body),s&4)for(s=E.head,vl(s),E=s.firstChild;E;){var S=E.nextSibling,D=E.nodeName;E[la]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=S}}if(h===0){t.removeChild(f),Rl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Rl(i)}function Uf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Uf(s),lr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function T1(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[la])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function b1(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Bn(t.nextSibling),t===null))return null;return t}function zf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function S1(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Bf=null;function Kv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function Yv(t,i,s){switch(i=Ec(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function vl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);lr(t)}var Mn=new Map,Xv=new Set;function Tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=oe.d;oe.d={f:A1,r:w1,D:R1,C:x1,L:I1,m:C1,X:N1,S:D1,M:O1};function A1(){var t=Qi.f(),i=dc();return t||i}function w1(t){var i=Zn(t);i!==null&&i.tag===5&&i.type==="form"?gy(i):Qi.r(t)}var Bs=typeof document>"u"?null:document;function Wv(t,i,s){var l=Bs;if(l&&typeof i=="string"&&i){var h=gt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Xv.has(h)||(Xv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zt(i,"link",t),ht(i),l.head.appendChild(i)))}}function R1(t){Qi.D(t),Wv("dns-prefetch",t,null)}function x1(t,i){Qi.C(t,i),Wv("preconnect",t,i)}function I1(t,i,s){Qi.L(t,i,s);var l=Bs;if(l&&t&&i){var h='link[rel="preload"][as="'+gt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+gt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+gt(s.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var f=h;switch(i){case"style":f=qs(t);break;case"script":f=Hs(t)}Mn.has(f)||(t=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Mn.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(_l(f))||i==="script"&&l.querySelector(El(f))||(i=l.createElement("link"),zt(i,"link",t),ht(i),l.head.appendChild(i)))}}function C1(t,i){Qi.m(t,i);var s=Bs;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Hs(t)}if(!Mn.has(f)&&(t=T({rel:"modulepreload",href:t},i),Mn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(El(f)))return}l=s.createElement("link"),zt(l,"link",t),ht(l),s.head.appendChild(l)}}}function D1(t,i,s){Qi.S(t,i,s);var l=Bs;if(l&&t){var h=Wt(l).hoistableStyles,f=qs(t);i=i||"default";var E=h.get(f);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(_l(f)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Mn.get(f))&&qf(t,s);var D=E=l.createElement("link");ht(D),zt(D,"link",t),D._p=new Promise(function(F,W){D.onload=F,D.onerror=W}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,bc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(f,E)}}}function N1(t,i){Qi.X(t,i);var s=Bs;if(s&&t){var l=Wt(s).hoistableScripts,h=Hs(t),f=l.get(h);f||(f=s.querySelector(El(h)),f||(t=T({src:t,async:!0},i),(i=Mn.get(h))&&Hf(t,i),f=s.createElement("script"),ht(f),zt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function O1(t,i){Qi.M(t,i);var s=Bs;if(s&&t){var l=Wt(s).hoistableScripts,h=Hs(t),f=l.get(h);f||(f=s.querySelector(El(h)),f||(t=T({src:t,async:!0,type:"module"},i),(i=Mn.get(h))&&Hf(t,i),f=s.createElement("script"),ht(f),zt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Zv(t,i,s,l){var h=(h=Se.current)?Tc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=qs(s.href),s=Wt(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=qs(s.href);var f=Wt(h).hoistableStyles,E=f.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,E),(f=h.querySelector(_l(t)))&&!f._p&&(E.instance=f,E.state.loading=5),Mn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(t,s),f||M1(h,t,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Hs(s),s=Wt(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function qs(t){return'href="'+gt(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function Jv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function M1(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",s),ht(i),t.head.appendChild(i))}function Hs(t){return'[src="'+gt(t)+'"]'}function El(t){return"script[async]"+t}function e0(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gt(s.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),zt(l,"style",h),bc(l,s.precedence,t),i.instance=l;case"stylesheet":h=qs(s.href);var f=t.querySelector(_l(h));if(f)return i.state.loading|=4,i.instance=f,ht(f),f;l=Jv(s),(h=Mn.get(h))&&qf(l,h),f=(t.ownerDocument||t).createElement("link"),ht(f);var E=f;return E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),zt(f,"link",l),i.state.loading|=4,bc(f,s.precedence,t),i.instance=f;case"script":return f=Hs(s.src),(h=t.querySelector(El(f)))?(i.instance=h,ht(h),h):(l=s,(h=Mn.get(f))&&(l=T({},s),Hf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,s.precedence,t));return i.instance}function bc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function qf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Hf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Sc=null;function t0(t,i,s){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(s,l)}else h=Sc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[la]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(i)||"";E=t+E;var S=l.get(E);S?S.push(f):l.set(E,[f])}}return l}function n0(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function k1(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function i0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Tl=null;function V1(){}function P1(t,i,s){if(Tl===null)throw Error(a(475));var l=Tl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qs(s.href),f=t.querySelector(_l(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ac.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,ht(f);return}f=t.ownerDocument||t,s=Jv(s),(h=Mn.get(h))&&qf(s,h),f=f.createElement("link"),ht(f);var E=f;E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),zt(f,"link",s),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Ac.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function j1(){if(Tl===null)throw Error(a(475));var t=Tl;return t.stylesheets&&t.count===0&&Ff(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Ff(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Ac(){if(this.count--,this.count===0){if(this.stylesheets)Ff(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function Ff(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,i.forEach(L1,t),wc=null,Ac.call(t))}function L1(t,i){if(!(i.state.loading&4)){var s=wc.get(t);if(s)var l=s.get(null);else{s=new Map,wc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var E=h[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),f=s.get(E)||l,f===l&&s.set(null,h),s.set(E,h),this.count++,l=Ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var bl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function U1(t,i,s,l,h,f,E,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function r0(t,i,s,l,h,f,E,S,D,F,W,J){return t=new U1(t,i,s,E,S,D,F,J),i=1,f===!0&&(i|=24),f=dn(3,null,null,i),t.current=f,f.stateNode=t,i=Ad(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:i},Id(f),t}function a0(t){return t?(t=Es,t):Es}function s0(t,i,s,l,h,f){h=a0(h),l.context===null?l.context=h:l.pendingContext=h,l=pr(i),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=mr(t,l,i),s!==null&&(yn(s,t,i),Zo(s,t,i))}function o0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Gf(t,i){o0(t,i),(t=t.alternate)&&o0(t,i)}function l0(t){if(t.tag===13){var i=_s(t,67108864);i!==null&&yn(i,t,67108864),Gf(t,67108864)}}var Rc=!0;function z1(t,i,s,l){var h=X.T;X.T=null;var f=oe.p;try{oe.p=2,Qf(t,i,s,l)}finally{oe.p=f,X.T=h}}function B1(t,i,s,l){var h=X.T;X.T=null;var f=oe.p;try{oe.p=8,Qf(t,i,s,l)}finally{oe.p=f,X.T=h}}function Qf(t,i,s,l){if(Rc){var h=$f(l);if(h===null)Mf(t,i,l,xc,s),c0(t,l);else if(H1(h,t,i,s,l))l.stopPropagation();else if(c0(t,l),i&4&&-1<q1.indexOf(t)){for(;h!==null;){var f=Zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=Pn(f.pendingLanes);if(E!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var D=1<<31-Ft(E);S.entanglements[1]|=D,E&=~D}di(f),(Qe&6)===0&&(cc=Tn()+500,ml(0))}}break;case 13:S=_s(f,2),S!==null&&yn(S,f,2),dc(),Gf(f,2)}if(f=$f(l),f===null&&Mf(t,i,l,xc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else Mf(t,i,l,null,s)}}function $f(t){return t=An(t),Kf(t)}var xc=null;function Kf(t){if(xc=null,t=Ai(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=d(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return xc=t,null}function u0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xh()){case Eo:return 2;case Za:return 8;case ia:case Wh:return 32;case Ja:return 268435456;default:return 32}default:return 32}}var Yf=!1,Ir=null,Cr=null,Dr=null,Sl=new Map,Al=new Map,Nr=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c0(t,i){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function wl(t,i,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Zn(i),i!==null&&l0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function H1(t,i,s,l,h){switch(i){case"focusin":return Ir=wl(Ir,t,i,s,l,h),!0;case"dragenter":return Cr=wl(Cr,t,i,s,l,h),!0;case"mouseover":return Dr=wl(Dr,t,i,s,l,h),!0;case"pointerover":var f=h.pointerId;return Sl.set(f,wl(Sl.get(f)||null,t,i,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,wl(Al.get(f)||null,t,i,s,l,h)),!0}return!1}function h0(t){var i=Ai(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){t.blockedOn=i,du(t.priority,function(){if(s.tag===13){var l=gn();l=ar(l);var h=_s(s,l);h!==null&&yn(h,s,l),Gf(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=$f(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Ii=l,s.target.dispatchEvent(l),Ii=null}else return i=Zn(s),i!==null&&l0(i),t.blockedOn=s,!1;i.shift()}return!0}function d0(t,i,s){Ic(t)&&s.delete(i)}function F1(){Yf=!1,Ir!==null&&Ic(Ir)&&(Ir=null),Cr!==null&&Ic(Cr)&&(Cr=null),Dr!==null&&Ic(Dr)&&(Dr=null),Sl.forEach(d0),Al.forEach(d0)}function Cc(t,i){t.blockedOn===i&&(t.blockedOn=null,Yf||(Yf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,F1)))}var Dc=null;function f0(t){Dc!==t&&(Dc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Kf(l||s)===null)continue;break}var f=Zn(s);f!==null&&(t.splice(i,3),i-=3,$d(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Rl(t){function i(D){return Cc(D,t)}Ir!==null&&Cc(Ir,t),Cr!==null&&Cc(Cr,t),Dr!==null&&Cc(Dr,t),Sl.forEach(i),Al.forEach(i);for(var s=0;s<Nr.length;s++){var l=Nr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Nr.length&&(s=Nr[0],s.blockedOn===null);)h0(s),s.blockedOn===null&&Nr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],E=h[mt]||null;if(typeof f=="function")E||f0(s);else if(E){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,E=f[mt]||null)S=E.formAction;else if(Kf(h)!==null)continue}else S=E.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),f0(s)}}}function Xf(t){this._internalRoot=t}Nc.prototype.render=Xf.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=gn();s0(s,l,t,i,null,null)},Nc.prototype.unmount=Xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;s0(t.current,2,null,t,null,null),dc(),i[bn]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var i=sr();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Nr.length&&i!==0&&i<Nr[s].priority;s++);Nr.splice(s,0,t),s===0&&h0(t)}};var p0=e.version;if(p0!=="19.1.0")throw Error(a(527,p0,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var G1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{lt=Oc.inject(G1),Ge=Oc}catch{}}return Il.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Dy,f=Ny,E=Oy,S=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=r0(t,1,!1,null,null,s,l,h,f,E,S,null),t[bn]=i.current,Of(t),new Xf(i)},Il.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Dy,E=Ny,S=Oy,D=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),i=r0(t,1,!0,i,s??null,l,h,f,E,S,D,F),i.context=a0(null),s=i.current,l=gn(),l=ar(l),h=pr(l),h.callback=null,mr(s,h,l),s=l,i.current.lanes=s,Si(i,s),di(i),t[bn]=i.current,Of(t),new Nc(i)},Il.version="19.1.0",Il}var A0;function tA(){if(A0)return Jf.exports;A0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jf.exports=eA(),Jf.exports}var nA=tA(),Cl={},w0;function iA(){if(w0)return Cl;w0=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.parse=d,Cl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function d(b,O){const M=new u,H=b.length;if(H<2)return M;const L=(O==null?void 0:O.decode)||T;let Y=0;do{const U=b.indexOf("=",Y);if(U===-1)break;const ne=b.indexOf(";",Y),ie=ne===-1?H:ne;if(U>ie){Y=b.lastIndexOf(";",U-1)+1;continue}const ue=p(b,Y,U),Ee=m(b,U,ue),j=b.slice(ue,Ee);if(M[j]===void 0){let R=p(b,U+1,ie),x=m(b,ie,R);const V=L(b.slice(R,x));M[j]=V}Y=ie+1}while(Y<H);return M}function p(b,O,M){do{const H=b.charCodeAt(O);if(H!==32&&H!==9)return O}while(++O<M);return M}function m(b,O,M){for(;O>M;){const H=b.charCodeAt(--O);if(H!==32&&H!==9)return O+1}return M}function g(b,O,M){const H=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const L=H(O);if(!e.test(L))throw new TypeError(`argument val is invalid: ${O}`);let Y=b+"="+L;if(!M)return Y;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);Y+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);Y+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);Y+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);Y+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(Y+="; HttpOnly"),M.secure&&(Y+="; Secure"),M.partitioned&&(Y+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return Y}function T(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function A(b){return o.call(b)==="[object Date]"}return Cl}iA();var R0="popstate";function rA(r={}){function e(a,o){let{pathname:u,search:d,hash:p}=a.location;return Ep("",{pathname:u,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Bl(o)}return sA(e,n,null,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aA(){return Math.random().toString(36).substring(2,10)}function x0(r,e){return{usr:r.state,key:r.key,idx:e}}function Ep(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?lo(e):e,state:n,key:e&&e.key||a||aA()}}function Bl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function lo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function sA(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,p="POP",m=null,g=T();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function T(){return(d.state||{idx:null}).idx}function A(){p="POP";let L=T(),Y=L==null?null:L-g;g=L,m&&m({action:p,location:H.location,delta:Y})}function b(L,Y){p="PUSH";let U=Ep(H.location,L,Y);g=T()+1;let ne=x0(U,g),ie=H.createHref(U);try{d.pushState(ne,"",ie)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ie)}u&&m&&m({action:p,location:H.location,delta:1})}function O(L,Y){p="REPLACE";let U=Ep(H.location,L,Y);g=T();let ne=x0(U,g),ie=H.createHref(U);d.replaceState(ne,"",ie),u&&m&&m({action:p,location:H.location,delta:0})}function M(L){return oA(L)}let H={get action(){return p},get location(){return r(o,d)},listen(L){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(R0,A),m=L,()=>{o.removeEventListener(R0,A),m=null}},createHref(L){return e(o,L)},createURL:M,encodeLocation(L){let Y=M(L);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:b,replace:O,go(L){return d.go(L)}};return H}function oA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Bl(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function yE(r,e,n="/"){return lA(r,e,n,!1)}function lA(r,e,n,a){let o=typeof e=="string"?lo(e):e,u=Wi(o.pathname||"/",n);if(u==null)return null;let d=vE(r);uA(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let g=EA(u);p=vA(d[m],g,a)}return p}function vE(r,e=[],n=[],a=""){let o=(u,d,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};m.relativePath.startsWith("/")&&(at(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=Yi([a,m.relativePath]),T=n.concat(m);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),vE(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:gA(g,u.index),routesMeta:T})};return r.forEach((u,d)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,d);else for(let m of _E(u.path))o(u,d,m)}),e}function _E(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=_E(a.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...d),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function uA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:yA(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var cA=/^:[\w-]+$/,hA=3,dA=2,fA=1,pA=10,mA=-2,I0=r=>r==="*";function gA(r,e){let n=r.split("/"),a=n.length;return n.some(I0)&&(a+=mA),e&&(a+=dA),n.filter(o=>!I0(o)).reduce((o,u)=>o+(cA.test(u)?hA:u===""?fA:pA),a)}function yA(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function vA(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",d=[];for(let p=0;p<a.length;++p){let m=a[p],g=p===a.length-1,T=u==="/"?e:e.slice(u.length)||"/",A=eh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},T),b=m.route;if(!A&&g&&n&&!a[a.length-1].route.index&&(A=eh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},T)),!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:Yi([u,A.pathname]),pathnameBase:AA(Yi([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=Yi([u,A.pathnameBase]))}return d}function eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=_A(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:a.reduce((g,{paramName:T,isOptional:A},b)=>{if(T==="*"){let M=p[b]||"";d=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const O=p[b];return A&&!O?g[T]=void 0:g[T]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:r}}function _A(r,e=!1,n=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(a.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function EA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Wi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function TA(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?lo(r):r;return{pathname:n?n.startsWith("/")?n:bA(n,e):e,search:wA(a),hash:RA(o)}}function bA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ip(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zp(r){let e=SA(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Jp(r,e,n,a=!1){let o;typeof r=="string"?o=lo(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),ip("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),ip("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),ip("#","search","hash",o)));let u=r===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let A=e.length-1;if(!a&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}p=A>=0?e[A]:"/"}let m=TA(o,p),g=d&&d!=="/"&&d.endsWith("/"),T=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||T)&&(m.pathname+="/"),m}var Yi=r=>r.join("/").replace(/\/\/+/g,"/"),AA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),wA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,RA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function xA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var EE=["POST","PUT","PATCH","DELETE"];new Set(EE);var IA=["GET",...EE];new Set(IA);var uo=$.createContext(null);uo.displayName="DataRouter";var Ah=$.createContext(null);Ah.displayName="DataRouterState";var TE=$.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var CA=$.createContext(new Map);CA.displayName="Fetchers";var DA=$.createContext(null);DA.displayName="Await";var Kn=$.createContext(null);Kn.displayName="Navigation";var Xl=$.createContext(null);Xl.displayName="Location";var Ei=$.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var em=$.createContext(null);em.displayName="RouteError";function NA(r,{relative:e}={}){at(co(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=$.useContext(Kn),{hash:o,pathname:u,search:d}=Wl(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Yi([n,u])),a.createHref({pathname:p,search:d,hash:o})}function co(){return $.useContext(Xl)!=null}function ir(){return at(co(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Xl).location}var bE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SE(r){$.useContext(Kn).static||$.useLayoutEffect(r)}function wh(){let{isDataRoute:r}=$.useContext(Ei);return r?FA():OA()}function OA(){at(co(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(uo),{basename:e,navigator:n}=$.useContext(Kn),{matches:a}=$.useContext(Ei),{pathname:o}=ir(),u=JSON.stringify(Zp(a)),d=$.useRef(!1);return SE(()=>{d.current=!0}),$.useCallback((m,g={})=>{if(Gn(d.current,bE),!d.current)return;if(typeof m=="number"){n.go(m);return}let T=Jp(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Yi([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,r])}$.createContext(null);function Wl(r,{relative:e}={}){let{matches:n}=$.useContext(Ei),{pathname:a}=ir(),o=JSON.stringify(Zp(n));return $.useMemo(()=>Jp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function MA(r,e){return AE(r,e)}function AE(r,e,n,a){var Y;at(co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(Kn),{matches:u}=$.useContext(Ei),d=u[u.length-1],p=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",T=d&&d.route;{let U=T&&T.path||"";wE(m,!T||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let A=ir(),b;if(e){let U=typeof e=="string"?lo(e):e;at(g==="/"||((Y=U.pathname)==null?void 0:Y.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),b=U}else b=A;let O=b.pathname||"/",M=O;if(g!=="/"){let U=g.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(U.length).join("/")}let H=yE(r,{pathname:M});Gn(T||H!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Gn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=LA(H&&H.map(U=>Object.assign({},U,{params:Object.assign({},p,U.params),pathname:Yi([g,o.encodeLocation?o.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:Yi([g,o.encodeLocation?o.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,n,a);return e&&L?$.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},L):L}function kA(){let r=HA(),e=xA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:o},n):null,d)}var VA=$.createElement(kA,null),PA=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?$.createElement(Ei.Provider,{value:this.props.routeContext},$.createElement(em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jA({routeContext:r,match:e,children:n}){let a=$.useContext(uo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Ei.Provider,{value:r},n)}function LA(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:T,errors:A}=n,b=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||b){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,T)=>{let A,b=!1,O=null,M=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||VA,d&&(p<0&&T===0?(wE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,M=null):p===T&&(b=!0,M=g.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,T+1)),L=()=>{let Y;return A?Y=O:b?Y=M:g.route.Component?Y=$.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=m,$.createElement(jA,{match:g,routeContext:{outlet:m,matches:H,isDataRoute:n!=null},children:Y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?$.createElement(PA,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:L(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):L()},null)}function tm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UA(r){let e=$.useContext(uo);return at(e,tm(r)),e}function zA(r){let e=$.useContext(Ah);return at(e,tm(r)),e}function BA(r){let e=$.useContext(Ei);return at(e,tm(r)),e}function nm(r){let e=BA(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function qA(){return nm("useRouteId")}function HA(){var a;let r=$.useContext(em),e=zA("useRouteError"),n=nm("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function FA(){let{router:r}=UA("useNavigate"),e=nm("useNavigate"),n=$.useRef(!1);return SE(()=>{n.current=!0}),$.useCallback(async(o,u={})=>{Gn(n.current,bE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var C0={};function wE(r,e,n){!e&&!C0[r]&&(C0[r]=!0,Gn(!1,n))}$.memo(GA);function GA({routes:r,future:e,state:n}){return AE(r,void 0,n,e)}function th({to:r,replace:e,state:n,relative:a}){at(co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=$.useContext(Kn);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=$.useContext(Ei),{pathname:d}=ir(),p=wh(),m=Jp(r,Zp(u),d,a==="path"),g=JSON.stringify(m);return $.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:a})},[p,g,a,e,n]),null}function fi(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QA({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){at(!co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=$.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=lo(n));let{pathname:m="/",search:g="",hash:T="",state:A=null,key:b="default"}=n,O=$.useMemo(()=>{let M=Wi(m,d);return M==null?null:{location:{pathname:M,search:g,hash:T,state:A,key:b},navigationType:a}},[d,m,g,T,A,b,a]);return Gn(O!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:$.createElement(Kn.Provider,{value:p},$.createElement(Xl.Provider,{children:e,value:O}))}function $A({children:r,location:e}){return MA(Tp(r),e)}function Tp(r,e=[]){let n=[];return $.Children.forEach(r,(a,o)=>{if(!$.isValidElement(a))return;let u=[...e,o];if(a.type===$.Fragment){n.push.apply(n,Tp(a.props.children,u));return}at(a.type===fi,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Tp(a.props.children,u)),n.push(d)}),n}var qc="get",Hc="application/x-www-form-urlencoded";function Rh(r){return r!=null&&typeof r.tagName=="string"}function KA(r){return Rh(r)&&r.tagName.toLowerCase()==="button"}function YA(r){return Rh(r)&&r.tagName.toLowerCase()==="form"}function XA(r){return Rh(r)&&r.tagName.toLowerCase()==="input"}function WA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ZA(r,e){return r.button===0&&(!e||e==="_self")&&!WA(r)}var Mc=null;function JA(){if(Mc===null)try{new FormData(document.createElement("form"),0),Mc=!1}catch{Mc=!0}return Mc}var ew=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rp(r){return r!=null&&!ew.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):r}function tw(r,e){let n,a,o,u,d;if(YA(r)){let p=r.getAttribute("action");a=p?Wi(p,e):null,n=r.getAttribute("method")||qc,o=rp(r.getAttribute("enctype"))||Hc,u=new FormData(r)}else if(KA(r)||XA(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(a=m?Wi(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||qc,o=rp(r.getAttribute("formenctype"))||rp(p.getAttribute("enctype"))||Hc,u=new FormData(p,r),!JA()){let{name:g,type:T,value:A}=r;if(T==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,A)}}else{if(Rh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qc,a=null,o=Hc,d=r}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:d}}function im(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function nw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function rw(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await nw(u,n);return d.links?d.links():[]}return[]}));return lw(a.flat(1).filter(iw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function D0(r,e,n,a,o,u){let d=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var T;return n[g].pathname!==m.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>d(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var A;let T=a.routes[m.route.id];if(!T||!T.hasLoader)return!1;if(d(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function aw(r,e,{includeHydrateFallback:n}={}){return sw(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function sw(r){return[...new Set(r)]}function ow(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function lw(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(ow(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uw=new Set([100,101,204,205]);function cw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Wi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function RE(){let r=$.useContext(uo);return im(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function hw(){let r=$.useContext(Ah);return im(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rm=$.createContext(void 0);rm.displayName="FrameworkContext";function xE(){let r=$.useContext(rm);return im(r,"You must render this element inside a <HydratedRouter> element"),r}function dw(r,e){let n=$.useContext(rm),[a,o]=$.useState(!1),[u,d]=$.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:T,onTouchStart:A}=e,b=$.useRef(null);$.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let H=Y=>{Y.forEach(U=>{d(U.isIntersecting)})},L=new IntersectionObserver(H,{threshold:.5});return b.current&&L.observe(b.current),()=>{L.disconnect()}}},[r]),$.useEffect(()=>{if(a){let H=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(H)}}},[a]);let O=()=>{o(!0)},M=()=>{o(!1),d(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Dl(p,O),onBlur:Dl(m,M),onMouseEnter:Dl(g,O),onMouseLeave:Dl(T,M),onTouchStart:Dl(A,O)}]:[!1,b,{}]}function Dl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function fw({page:r,...e}){let{router:n}=RE(),a=$.useMemo(()=>yE(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?$.createElement(mw,{page:r,matches:a,...e}):null}function pw(r){let{manifest:e,routeModules:n}=xE(),[a,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return rw(r,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[r,e,n]),a}function mw({page:r,matches:e,...n}){let a=ir(),{manifest:o,routeModules:u}=xE(),{basename:d}=RE(),{loaderData:p,matches:m}=hw(),g=$.useMemo(()=>D0(r,e,m,o,a,"data"),[r,e,m,o,a]),T=$.useMemo(()=>D0(r,e,m,o,a,"assets"),[r,e,m,o,a]),A=$.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let M=new Set,H=!1;if(e.forEach(Y=>{var ne;let U=o.routes[Y.route.id];!U||!U.hasLoader||(!g.some(ie=>ie.route.id===Y.route.id)&&Y.route.id in p&&((ne=u[Y.route.id])!=null&&ne.shouldRevalidate)||U.hasClientLoader?H=!0:M.add(Y.route.id))}),M.size===0)return[];let L=cw(r,d);return H&&M.size>0&&L.searchParams.set("_routes",e.filter(Y=>M.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[L.pathname+L.search]},[d,p,a,o,g,e,r,u]),b=$.useMemo(()=>aw(T,o),[T,o]),O=pw(T);return $.createElement($.Fragment,null,A.map(M=>$.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),b.map(M=>$.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),O.map(({key:M,link:H})=>$.createElement("link",{key:M,...H})))}function gw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IE&&(window.__reactRouterVersion="7.6.2")}catch{}function yw({basename:r,children:e,window:n}){let a=$.useRef();a.current==null&&(a.current=rA({window:n,v5Compat:!0}));let o=a.current,[u,d]=$.useState({action:o.action,location:o.location}),p=$.useCallback(m=>{$.startTransition(()=>d(m))},[d]);return $.useLayoutEffect(()=>o.listen(p),[o,p]),$.createElement(QA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,am=$.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:p,target:m,to:g,preventScrollReset:T,viewTransition:A,...b},O){let{basename:M}=$.useContext(Kn),H=typeof g=="string"&&CE.test(g),L,Y=!1;if(typeof g=="string"&&H&&(L=g,IE))try{let x=new URL(window.location.href),V=g.startsWith("//")?new URL(x.protocol+g):new URL(g),I=Wi(V.pathname,M);V.origin===x.origin&&I!=null?g=I+V.search+V.hash:Y=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=NA(g,{relative:o}),[ne,ie,ue]=dw(a,b),Ee=Tw(g,{replace:d,state:p,target:m,preventScrollReset:T,relative:o,viewTransition:A});function j(x){e&&e(x),x.defaultPrevented||Ee(x)}let R=$.createElement("a",{...b,...ue,href:L||U,onClick:Y||u?e:j,ref:gw(O,ie),target:m,"data-discover":!H&&n==="render"?"true":void 0});return ne&&!H?$.createElement($.Fragment,null,R,$.createElement(fw,{page:U})):R});am.displayName="Link";var vw=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:p,children:m,...g},T){let A=Wl(d,{relative:g.relative}),b=ir(),O=$.useContext(Ah),{navigator:M,basename:H}=$.useContext(Kn),L=O!=null&&Rw(A)&&p===!0,Y=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,U=b.pathname,ne=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(U=U.toLowerCase(),ne=ne?ne.toLowerCase():null,Y=Y.toLowerCase()),ne&&H&&(ne=Wi(ne,H)||ne);const ie=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ue=U===Y||!o&&U.startsWith(Y)&&U.charAt(ie)==="/",Ee=ne!=null&&(ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(Y.length)==="/"),j={isActive:ue,isPending:Ee,isTransitioning:L},R=ue?e:void 0,x;typeof a=="function"?x=a(j):x=[a,ue?"active":null,Ee?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(j):u;return $.createElement(am,{...g,"aria-current":R,className:x,ref:T,style:V,to:d,viewTransition:p},typeof m=="function"?m(j):m)});vw.displayName="NavLink";var _w=$.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:d=qc,action:p,onSubmit:m,relative:g,preventScrollReset:T,viewTransition:A,...b},O)=>{let M=Aw(),H=ww(p,{relative:g}),L=d.toLowerCase()==="get"?"get":"post",Y=typeof p=="string"&&CE.test(p),U=ne=>{if(m&&m(ne),ne.defaultPrevented)return;ne.preventDefault();let ie=ne.nativeEvent.submitter,ue=(ie==null?void 0:ie.getAttribute("formmethod"))||d;M(ie||ne.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:A})};return $.createElement("form",{ref:O,method:L,action:H,onSubmit:a?m:U,...b,"data-discover":!Y&&r==="render"?"true":void 0})});_w.displayName="Form";function Ew(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(r){let e=$.useContext(uo);return at(e,Ew(r)),e}function Tw(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:d}={}){let p=wh(),m=ir(),g=Wl(r,{relative:u});return $.useCallback(T=>{if(ZA(T,e)){T.preventDefault();let A=n!==void 0?n:Bl(m)===Bl(g);p(r,{replace:A,state:a,preventScrollReset:o,relative:u,viewTransition:d})}},[m,p,g,n,a,e,r,o,u,d])}var bw=0,Sw=()=>`__${String(++bw)}__`;function Aw(){let{router:r}=DE("useSubmit"),{basename:e}=$.useContext(Kn),n=qA();return $.useCallback(async(a,o={})=>{let{action:u,method:d,encType:p,formData:m,body:g}=tw(a,e);if(o.navigate===!1){let T=o.fetcherKey||Sw();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function ww(r,{relative:e}={}){let{basename:n}=$.useContext(Kn),a=$.useContext(Ei);at(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Wl(r||".",{relative:e})},d=ir();if(r==null){u.search=d.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(T=>T==="")){p.delete("index"),m.filter(A=>A).forEach(A=>p.append("index",A));let T=p.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Yi([n,u.pathname])),Bl(u)}function Rw(r,e={}){let n=$.useContext(TE);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=DE("useViewTransitionState"),o=Wl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Wi(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=Wi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return eh(o.pathname,d)!=null||eh(o.pathname,u)!=null}[...uw];const NE=$.createContext(void 0),$a=()=>{const r=$.useContext(NE);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},xw=({children:r})=>{const[e,n]=$.useState(null),[a,o]=$.useState(null),[u]=$.useState(!1),m={user:e,userData:a,loading:u,login:async(g,T)=>{if((g==="demo@hq.com"||g==="demo@fc.com")&&T==="demo12345"){const A={uid:g==="demo@hq.com"?"demo-hq-user":"demo-fc-user",email:g,emailVerified:!0,displayName:g==="demo@hq.com"?"HQ":"FC"},b={uid:A.uid,email:g,role:g==="demo@hq.com"?"HQ":"FC",orgId:g==="demo@hq.com"?"hq-org":"demo-fc-org",isActive:!0};n(A),o(b);return}throw new Error("")},logout:async()=>{n(null),o(null)}};return v.jsx(NE.Provider,{value:m,children:r})},Fs=({children:r,requiredRole:e})=>{const{user:n,userData:a,loading:o}=$a();return o?v.jsx("div",{children:"Loading..."}):!n||!a?v.jsx(th,{to:"/login",replace:!0}):e&&a.role!==e?v.jsx(th,{to:"/unauthorized",replace:!0}):v.jsx(v.Fragment,{children:r})},Iw=()=>{const[r,e]=$.useState(""),[n,a]=$.useState(""),[o,u]=$.useState(""),[d,p]=$.useState(!1),{user:m,login:g}=$a();if(m)return v.jsx(th,{to:"/dashboard",replace:!0});const T=async A=>{A.preventDefault(),u(""),p(!0);try{await g(r,n)}catch{u((r==="demo@hq.com"||r==="demo@fc.com")&&n==="demo12345"?"":"")}p(!1)};return v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f5f5f5"},children:v.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",width:"100%",maxWidth:"400px"},children:[v.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:""}),v.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"1rem",borderRadius:"4px",marginBottom:"2rem",fontSize:"0.9rem",border:"1px solid #90caf9"},children:[v.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.5rem",color:"#1565c0"},children:" "}),v.jsxs("div",{style:{marginBottom:"0.3rem"},children:[v.jsx("strong",{children:"HQ:"})," demo@hq.com / demo12345"]}),v.jsxs("div",{children:[v.jsx("strong",{children:"FC:"})," demo@fc.com / demo12345"]})]}),v.jsxs("form",{onSubmit:T,children:[v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"email",id:"email",value:r,onChange:A=>e(A.target.value),required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}})]}),v.jsxs("div",{style:{marginBottom:"1.5rem"},children:[v.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"password",id:"password",value:n,onChange:A=>a(A.target.value),required:!0,minLength:8,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}})]}),o&&v.jsx("div",{style:{color:"red",marginBottom:"1rem",textAlign:"center"},children:o}),v.jsx("button",{type:"submit",disabled:d,style:{width:"100%",padding:"0.75rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:d?"not-allowed":"pointer",opacity:d?.6:1},children:d?"...":""})]})]})})},kn=({children:r})=>{const{userData:e,logout:n}=$a(),a=wh(),o=ir(),[u,d]=$.useState(!1),p=async()=>{try{await n()}catch(b){console.error("Logout error:",b)}},m=(e==null?void 0:e.role)==="HQ"?[{icon:"",label:"",path:"/dashboard"},{icon:"",label:"",path:"/organizations"},{icon:"",label:"",path:"/users"},{icon:"",label:"",path:"/addon-master"},{icon:"",label:"",path:"/children"},{icon:"",label:"",path:"/daily-reports"},{icon:"",label:"",path:"/reports"}]:[{icon:"",label:"",path:"/dashboard"},{icon:"",label:"",path:"/children"},{icon:"",label:"",path:"/daily-reports"},{icon:"",label:"",path:"/reports"}],g={position:"fixed",left:0,top:0,height:"100vh",width:u?"80px":"280px",background:"linear-gradient(180deg, #1e40af 0%, #1d4ed8 50%, #2563eb 100%)",backdropFilter:"blur(20px)",borderRight:"1px solid rgba(255, 255, 255, 0.1)",transition:"all 350ms cubic-bezier(0.4, 0, 0.2, 1)",zIndex:1e3,overflow:"hidden"},T={marginLeft:u?"80px":"280px",minHeight:"100vh",transition:"margin-left 350ms cubic-bezier(0.4, 0, 0.2, 1)",background:"linear-gradient(135deg, #f9fafb 0%, #eff6ff 100%)"},A={height:"80px",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(229, 231, 235, 0.5)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 2rem",position:"sticky",top:0,zIndex:100};return v.jsxs("div",{style:{display:"flex",fontFamily:"var(--font-family-sans)"},children:[v.jsxs("div",{style:g,children:[v.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",gap:"12px"},children:[v.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #ffffff, #e0f2fe)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",flexShrink:0},children:""}),!u&&v.jsxs("div",{children:[v.jsx("h1",{style:{color:"white",fontSize:"1.25rem",fontWeight:"700",margin:0,lineHeight:1.2},children:""}),v.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.75rem",margin:0},children:"Management System"})]})]}),v.jsx("nav",{style:{padding:"1rem 0",flex:1},children:m.map(b=>{const O=o.pathname===b.path;return v.jsxs("button",{onClick:()=>a(b.path),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 24px",background:O?"linear-gradient(90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1))":"transparent",border:"none",color:"white",cursor:"pointer",transition:"all 200ms ease",borderRight:O?"3px solid white":"3px solid transparent",fontSize:"0.875rem",fontWeight:O?"600":"500",justifyContent:u?"center":"flex-start"},onMouseEnter:M=>{O||(M.currentTarget.style.background="rgba(255, 255, 255, 0.1)",M.currentTarget.style.transform="translateX(4px)")},onMouseLeave:M=>{O||(M.currentTarget.style.background="transparent",M.currentTarget.style.transform="translateX(0)")},children:[v.jsx("span",{style:{fontSize:"1.25rem",flexShrink:0},children:b.icon}),!u&&v.jsx("span",{children:b.label})]},b.path)})}),v.jsx("div",{style:{padding:"1rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:v.jsx("button",{onClick:()=>d(!u),style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"1.25rem",transition:"all 200ms ease"},onMouseEnter:b=>{b.currentTarget.style.background="rgba(255, 255, 255, 0.2)",b.currentTarget.style.transform="scale(1.05)"},onMouseLeave:b=>{b.currentTarget.style.background="rgba(255, 255, 255, 0.1)",b.currentTarget.style.transform="scale(1)"},children:u?"":""})})]}),v.jsxs("div",{style:T,children:[v.jsxs("header",{style:A,children:[v.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:v.jsx("div",{style:{padding:"8px 16px",background:"linear-gradient(135deg, #dbeafe, #bfdbfe)",borderRadius:"20px",fontSize:"0.875rem",fontWeight:"600",color:"#1d4ed8"},children:(e==null?void 0:e.role)==="HQ"?"HQ":"FC"})}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"rgba(107, 114, 128, 0.1)",borderRadius:"12px",fontSize:"0.875rem",color:"#4b5563"},children:[v.jsx("div",{style:{width:"8px",height:"8px",background:"#10b981",borderRadius:"50%"}}),e==null?void 0:e.email]}),v.jsx("button",{onClick:p,className:"btn btn-secondary",style:{padding:"8px 16px",fontSize:"0.875rem"},children:""})]})]}),v.jsx("main",{style:{padding:"2rem",minHeight:"calc(100vh - 80px)"},children:v.jsx("div",{className:"fade-in",children:r})})]})]})},Cw=()=>{const{userData:r}=$a();return v.jsx(kn,{children:v.jsxs("div",{className:"slide-in",children:[v.jsxs("div",{style:{marginBottom:"var(--space-8)"},children:[v.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:" "}),v.jsxs("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:[(r==null?void 0:r.role)==="HQ"?"HQ":"FC",""]})]}),v.jsx("div",{style:{display:"grid",gap:"var(--space-8)"},children:v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"var(--space-6)"},children:[v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--primary-500), var(--primary-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:"12"}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})}),v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--success-500), var(--success-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:"45,600"}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})}),v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:"4.2h"}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})})]})})]})})},Dw=()=>v.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f5f5f5"},children:v.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[v.jsx("h1",{style:{color:"#dc3545",marginBottom:"1rem"},children:""}),v.jsx("p",{style:{marginBottom:"2rem"},children:""}),v.jsx(am,{to:"/dashboard",style:{display:"inline-block",padding:"0.75rem 1.5rem",backgroundColor:"#007bff",color:"white",textDecoration:"none",borderRadius:"4px"},children:""})]})}),Nw=()=>{};var N0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Ow=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],d=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},ME={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,p=d?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,T=u>>2,A=(u&3)<<4|p>>4;let b=(p&15)<<2|g>>6,O=g&63;m||(O=64,d||(b=64)),a.push(n[T],n[A],n[b],n[O])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(OE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ow(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||A==null)throw new Mw;const b=u<<2|p>>4;if(a.push(b),g!==64){const O=p<<4&240|g>>2;if(a.push(O),A!==64){const M=g<<6&192|A;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Mw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kw=function(r){const e=OE(r);return ME.encodeByteArray(e,!0)},nh=function(r){return kw(r).replace(/\./g,"")},kE=function(r){try{return ME.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=()=>Vw().__FIREBASE_DEFAULTS__,jw=()=>{if(typeof process>"u"||typeof N0>"u")return;const r=N0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Lw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&kE(r[1]);return e&&JSON.parse(e)},xh=()=>{try{return Nw()||Pw()||jw()||Lw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},VE=r=>{var e,n;return(n=(e=xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},PE=r=>{const e=VE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},jE=()=>{var r;return(r=xh())===null||r===void 0?void 0:r.config},LE=r=>{var e;return(e=xh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(r){return r.endsWith(".cloudworkstations.dev")}async function sm(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[nh(JSON.stringify(n)),nh(JSON.stringify(d)),""].join(".")}const kl={};function Bw(){const r={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?r.emulator.push(e):r.prod.push(e);return r}function qw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let O0=!1;function om(r,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||kl[r]===e||kl[r]||O0)return;kl[r]=e;function n(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=Bw().prod.length>0;function d(){const b=document.getElementById(a);b&&b.remove()}function p(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,O){b.setAttribute("width","24"),b.setAttribute("id",O),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{O0=!0,d()},b}function T(b,O){b.setAttribute("id",O),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=qw(a),O=n("text"),M=document.getElementById(O)||document.createElement("span"),H=n("learnmore"),L=document.getElementById(H)||document.createElement("a"),Y=n("preprendIcon"),U=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ne=b.element;p(ne),T(L,H);const ie=g();m(U,Y),ne.append(U,M,L,ie),document.body.appendChild(ne)}u?(M.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function Fw(){var r;const e=(r=xh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Qw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $w(){const r=Xt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Kw(){return!Fw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zE(){try{return typeof indexedDB=="object"}catch{return!1}}function BE(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function Yw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="FirebaseError";class Yn extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Xw,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?Ww(u,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Yn(o,p,a)}}function Ww(r,e){return r.replace(Zw,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Zw=/\{\$([^}]+)}/g;function Jw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fr(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],d=e[o];if(M0(u)&&M0(d)){if(!Fr(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function M0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function eR(r,e){const n=new tR(r,e);return n.subscribe.bind(n)}class tR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");nR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=ap),o.error===void 0&&(o.error=ap),o.complete===void 0&&(o.complete=ap);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function ap(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=1e3,rR=2,aR=4*60*60*1e3,sR=.5;function k0(r,e=iR,n=rR){const a=e*Math.pow(n,r),o=Math.round(sR*a*(Math.random()-.5)*2);return Math.min(aR,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r){return r&&r._delegate?r._delegate:r}class Vn{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Uw;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uR(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&d.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lR(r){return r===ja?void 0:r}function uR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const hR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},dR=Me.INFO,fR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},pR=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=fR[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=dR,this._logHandler=pR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const mR=(r,e)=>e.some(n=>r instanceof n);let V0,P0;function gR(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yR(){return P0||(P0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,bp=new WeakMap,HE=new WeakMap,sp=new WeakMap,lm=new WeakMap;function vR(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(Ur(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&qE.set(n,r)}).catch(()=>{}),lm.set(e,r),e}function _R(r){if(bp.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});bp.set(r,e)}let Sp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return bp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||HE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ER(r){Sp=r(Sp)}function TR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(op(this),e,...n);return HE.set(a,e.sort?e.sort():[e]),Ur(a)}:yR().includes(r)?function(...e){return r.apply(op(this),e),Ur(qE.get(this))}:function(...e){return Ur(r.apply(op(this),e))}}function bR(r){return typeof r=="function"?TR(r):(r instanceof IDBTransaction&&_R(r),mR(r,gR())?new Proxy(r,Sp):r)}function Ur(r){if(r instanceof IDBRequest)return vR(r);if(sp.has(r))return sp.get(r);const e=bR(r);return e!==r&&(sp.set(r,e),lm.set(e,r)),e}const op=r=>lm.get(r);function FE(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),p=Ur(d);return a&&d.addEventListener("upgradeneeded",m=>{a(Ur(d.result),m.oldVersion,m.newVersion,Ur(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const SR=["get","getKey","getAll","getAllKeys","count"],AR=["put","add","delete","clear"],lp=new Map;function j0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(lp.get(e))return lp.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=AR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||SR.includes(n)))return;const u=async function(d,...p){const m=this.transaction(d,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return lp.set(e,u),u}ER(r=>({...r,get:(e,n,a)=>j0(e,n)||r.get(e,n,a),has:(e,n)=>!!j0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function RR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ap="@firebase/app",L0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Ih("@firebase/app"),xR="@firebase/app-compat",IR="@firebase/analytics-compat",CR="@firebase/analytics",DR="@firebase/app-check-compat",NR="@firebase/app-check",OR="@firebase/auth",MR="@firebase/auth-compat",kR="@firebase/database",VR="@firebase/data-connect",PR="@firebase/database-compat",jR="@firebase/functions",LR="@firebase/functions-compat",UR="@firebase/installations",zR="@firebase/installations-compat",BR="@firebase/messaging",qR="@firebase/messaging-compat",HR="@firebase/performance",FR="@firebase/performance-compat",GR="@firebase/remote-config",QR="@firebase/remote-config-compat",$R="@firebase/storage",KR="@firebase/storage-compat",YR="@firebase/firestore",XR="@firebase/ai",WR="@firebase/firestore-compat",ZR="firebase",JR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="[DEFAULT]",ex={[Ap]:"fire-core",[xR]:"fire-core-compat",[CR]:"fire-analytics",[IR]:"fire-analytics-compat",[NR]:"fire-app-check",[DR]:"fire-app-check-compat",[OR]:"fire-auth",[MR]:"fire-auth-compat",[kR]:"fire-rtdb",[VR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[jR]:"fire-fn",[LR]:"fire-fn-compat",[UR]:"fire-iid",[zR]:"fire-iid-compat",[BR]:"fire-fcm",[qR]:"fire-fcm-compat",[HR]:"fire-perf",[FR]:"fire-perf-compat",[GR]:"fire-rc",[QR]:"fire-rc-compat",[$R]:"fire-gcs",[KR]:"fire-gcs-compat",[YR]:"fire-fst",[WR]:"fire-fst-compat",[XR]:"fire-vertex","fire-js":"fire-js",[ZR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,tx=new Map,Rp=new Map;function U0(r,e){try{r.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Qn(r){const e=r.name;if(Rp.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,r);for(const n of ih.values())U0(n,r);for(const n of tx.values())U0(n,r);return!0}function Wr(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new Ya("app","Firebase",nx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=JR;function GE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:wp,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw zr.create("bad-app-name",{appName:String(o)});if(n||(n=jE()),!n)throw zr.create("no-options");const u=ih.get(o);if(u){if(Fr(n,u.options)&&Fr(a,u.config))return u;throw zr.create("duplicate-app",{appName:o})}const d=new cR(o);for(const m of Rp.values())d.addComponent(m);const p=new ix(n,a,d);return ih.set(o,p),p}function Ch(r=wp){const e=ih.get(r);if(!e&&r===wp&&jE())return GE();if(!e)throw zr.create("no-app",{appName:r});return e}function on(r,e,n){var a;let o=(a=ex[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(p.join(" "));return}Qn(new Vn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="firebase-heartbeat-database",ax=1,ql="firebase-heartbeat-store";let up=null;function QE(){return up||(up=FE(rx,ax,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw zr.create("idb-open",{originalErrorMessage:r.message})})),up}async function sx(r){try{const n=(await QE()).transaction(ql),a=await n.objectStore(ql).get($E(r));return await n.done,a}catch(e){if(e instanceof Yn)Zi.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(n.message)}}}async function z0(r,e){try{const a=(await QE()).transaction(ql,"readwrite");await a.objectStore(ql).put(e,$E(r)),await a.done}catch(n){if(n instanceof Yn)Zi.warn(n.message);else{const a=zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(a.message)}}}function $E(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=1024,lx=30;class ux{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hx(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>lx){const d=dx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Zi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B0(),{heartbeatsToSend:a,unsentEntries:o}=cx(this._heartbeatsCache.heartbeats),u=nh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Zi.warn(n),""}}}function B0(){return new Date().toISOString().substring(0,10)}function cx(r,e=ox){const n=[];let a=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),q0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),q0(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class hx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zE()?BE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return z0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return z0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function q0(r){return nh(JSON.stringify({version:2,heartbeats:r})).length}function dx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(r){Qn(new Vn("platform-logger",e=>new wR(e),"PRIVATE")),Qn(new Vn("heartbeat",e=>new ux(e),"PRIVATE")),on(Ap,L0,r),on(Ap,L0,"esm2017"),on("fire-js","")}fx("");var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,KE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,R){function x(){}x.prototype=R.prototype,j.D=R.prototype,j.prototype=new x,j.prototype.constructor=j,j.C=function(V,I,N){for(var C=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)C[Je-2]=arguments[Je];return R.prototype[I].apply(V,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,R,x){x||(x=0);var V=Array(16);if(typeof R=="string")for(var I=0;16>I;++I)V[I]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(I=0;16>I;++I)V[I]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=j.g[0],x=j.g[1],I=j.g[2];var N=j.g[3],C=R+(N^x&(I^N))+V[0]+3614090360&4294967295;R=x+(C<<7&4294967295|C>>>25),C=N+(I^R&(x^I))+V[1]+3905402710&4294967295,N=R+(C<<12&4294967295|C>>>20),C=I+(x^N&(R^x))+V[2]+606105819&4294967295,I=N+(C<<17&4294967295|C>>>15),C=x+(R^I&(N^R))+V[3]+3250441966&4294967295,x=I+(C<<22&4294967295|C>>>10),C=R+(N^x&(I^N))+V[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=N+(I^R&(x^I))+V[5]+1200080426&4294967295,N=R+(C<<12&4294967295|C>>>20),C=I+(x^N&(R^x))+V[6]+2821735955&4294967295,I=N+(C<<17&4294967295|C>>>15),C=x+(R^I&(N^R))+V[7]+4249261313&4294967295,x=I+(C<<22&4294967295|C>>>10),C=R+(N^x&(I^N))+V[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=N+(I^R&(x^I))+V[9]+2336552879&4294967295,N=R+(C<<12&4294967295|C>>>20),C=I+(x^N&(R^x))+V[10]+4294925233&4294967295,I=N+(C<<17&4294967295|C>>>15),C=x+(R^I&(N^R))+V[11]+2304563134&4294967295,x=I+(C<<22&4294967295|C>>>10),C=R+(N^x&(I^N))+V[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=N+(I^R&(x^I))+V[13]+4254626195&4294967295,N=R+(C<<12&4294967295|C>>>20),C=I+(x^N&(R^x))+V[14]+2792965006&4294967295,I=N+(C<<17&4294967295|C>>>15),C=x+(R^I&(N^R))+V[15]+1236535329&4294967295,x=I+(C<<22&4294967295|C>>>10),C=R+(I^N&(x^I))+V[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=N+(x^I&(R^x))+V[6]+3225465664&4294967295,N=R+(C<<9&4294967295|C>>>23),C=I+(R^x&(N^R))+V[11]+643717713&4294967295,I=N+(C<<14&4294967295|C>>>18),C=x+(N^R&(I^N))+V[0]+3921069994&4294967295,x=I+(C<<20&4294967295|C>>>12),C=R+(I^N&(x^I))+V[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=N+(x^I&(R^x))+V[10]+38016083&4294967295,N=R+(C<<9&4294967295|C>>>23),C=I+(R^x&(N^R))+V[15]+3634488961&4294967295,I=N+(C<<14&4294967295|C>>>18),C=x+(N^R&(I^N))+V[4]+3889429448&4294967295,x=I+(C<<20&4294967295|C>>>12),C=R+(I^N&(x^I))+V[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=N+(x^I&(R^x))+V[14]+3275163606&4294967295,N=R+(C<<9&4294967295|C>>>23),C=I+(R^x&(N^R))+V[3]+4107603335&4294967295,I=N+(C<<14&4294967295|C>>>18),C=x+(N^R&(I^N))+V[8]+1163531501&4294967295,x=I+(C<<20&4294967295|C>>>12),C=R+(I^N&(x^I))+V[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=N+(x^I&(R^x))+V[2]+4243563512&4294967295,N=R+(C<<9&4294967295|C>>>23),C=I+(R^x&(N^R))+V[7]+1735328473&4294967295,I=N+(C<<14&4294967295|C>>>18),C=x+(N^R&(I^N))+V[12]+2368359562&4294967295,x=I+(C<<20&4294967295|C>>>12),C=R+(x^I^N)+V[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=N+(R^x^I)+V[8]+2272392833&4294967295,N=R+(C<<11&4294967295|C>>>21),C=I+(N^R^x)+V[11]+1839030562&4294967295,I=N+(C<<16&4294967295|C>>>16),C=x+(I^N^R)+V[14]+4259657740&4294967295,x=I+(C<<23&4294967295|C>>>9),C=R+(x^I^N)+V[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=N+(R^x^I)+V[4]+1272893353&4294967295,N=R+(C<<11&4294967295|C>>>21),C=I+(N^R^x)+V[7]+4139469664&4294967295,I=N+(C<<16&4294967295|C>>>16),C=x+(I^N^R)+V[10]+3200236656&4294967295,x=I+(C<<23&4294967295|C>>>9),C=R+(x^I^N)+V[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=N+(R^x^I)+V[0]+3936430074&4294967295,N=R+(C<<11&4294967295|C>>>21),C=I+(N^R^x)+V[3]+3572445317&4294967295,I=N+(C<<16&4294967295|C>>>16),C=x+(I^N^R)+V[6]+76029189&4294967295,x=I+(C<<23&4294967295|C>>>9),C=R+(x^I^N)+V[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=N+(R^x^I)+V[12]+3873151461&4294967295,N=R+(C<<11&4294967295|C>>>21),C=I+(N^R^x)+V[15]+530742520&4294967295,I=N+(C<<16&4294967295|C>>>16),C=x+(I^N^R)+V[2]+3299628645&4294967295,x=I+(C<<23&4294967295|C>>>9),C=R+(I^(x|~N))+V[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=N+(x^(R|~I))+V[7]+1126891415&4294967295,N=R+(C<<10&4294967295|C>>>22),C=I+(R^(N|~x))+V[14]+2878612391&4294967295,I=N+(C<<15&4294967295|C>>>17),C=x+(N^(I|~R))+V[5]+4237533241&4294967295,x=I+(C<<21&4294967295|C>>>11),C=R+(I^(x|~N))+V[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=N+(x^(R|~I))+V[3]+2399980690&4294967295,N=R+(C<<10&4294967295|C>>>22),C=I+(R^(N|~x))+V[10]+4293915773&4294967295,I=N+(C<<15&4294967295|C>>>17),C=x+(N^(I|~R))+V[1]+2240044497&4294967295,x=I+(C<<21&4294967295|C>>>11),C=R+(I^(x|~N))+V[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=N+(x^(R|~I))+V[15]+4264355552&4294967295,N=R+(C<<10&4294967295|C>>>22),C=I+(R^(N|~x))+V[6]+2734768916&4294967295,I=N+(C<<15&4294967295|C>>>17),C=x+(N^(I|~R))+V[13]+1309151649&4294967295,x=I+(C<<21&4294967295|C>>>11),C=R+(I^(x|~N))+V[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=N+(x^(R|~I))+V[11]+3174756917&4294967295,N=R+(C<<10&4294967295|C>>>22),C=I+(R^(N|~x))+V[2]+718787259&4294967295,I=N+(C<<15&4294967295|C>>>17),C=x+(N^(I|~R))+V[9]+3951481745&4294967295,j.g[0]=j.g[0]+R&4294967295,j.g[1]=j.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,j.g[2]=j.g[2]+I&4294967295,j.g[3]=j.g[3]+N&4294967295}a.prototype.u=function(j,R){R===void 0&&(R=j.length);for(var x=R-this.blockSize,V=this.B,I=this.h,N=0;N<R;){if(I==0)for(;N<=x;)o(this,j,N),N+=this.blockSize;if(typeof j=="string"){for(;N<R;)if(V[I++]=j.charCodeAt(N++),I==this.blockSize){o(this,V),I=0;break}}else for(;N<R;)if(V[I++]=j[N++],I==this.blockSize){o(this,V),I=0;break}}this.h=I,this.o+=R},a.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var R=1;R<j.length-8;++R)j[R]=0;var x=8*this.o;for(R=j.length-8;R<j.length;++R)j[R]=x&255,x/=256;for(this.u(j),j=Array(16),R=x=0;4>R;++R)for(var V=0;32>V;V+=8)j[x++]=this.g[R]>>>V&255;return j};function u(j,R){var x=p;return Object.prototype.hasOwnProperty.call(x,j)?x[j]:x[j]=R(j)}function d(j,R){this.h=R;for(var x=[],V=!0,I=j.length-1;0<=I;I--){var N=j[I]|0;V&&N==R||(x[I]=N,V=!1)}this.g=x}var p={};function m(j){return-128<=j&&128>j?u(j,function(R){return new d([R|0],0>R?-1:0)}):new d([j|0],0>j?-1:0)}function g(j){if(isNaN(j)||!isFinite(j))return A;if(0>j)return L(g(-j));for(var R=[],x=1,V=0;j>=x;V++)R[V]=j/x|0,x*=4294967296;return new d(R,0)}function T(j,R){if(j.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(j.charAt(0)=="-")return L(T(j.substring(1),R));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(R,8)),V=A,I=0;I<j.length;I+=8){var N=Math.min(8,j.length-I),C=parseInt(j.substring(I,I+N),R);8>N?(N=g(Math.pow(R,N)),V=V.j(N).add(g(C))):(V=V.j(x),V=V.add(g(C)))}return V}var A=m(0),b=m(1),O=m(16777216);r=d.prototype,r.m=function(){if(H(this))return-L(this).m();for(var j=0,R=1,x=0;x<this.g.length;x++){var V=this.i(x);j+=(0<=V?V:4294967296+V)*R,R*=4294967296}return j},r.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(M(this))return"0";if(H(this))return"-"+L(this).toString(j);for(var R=g(Math.pow(j,6)),x=this,V="";;){var I=ie(x,R).g;x=Y(x,I.j(R));var N=((0<x.g.length?x.g[0]:x.h)>>>0).toString(j);if(x=I,M(x))return N+V;for(;6>N.length;)N="0"+N;V=N+V}},r.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function M(j){if(j.h!=0)return!1;for(var R=0;R<j.g.length;R++)if(j.g[R]!=0)return!1;return!0}function H(j){return j.h==-1}r.l=function(j){return j=Y(this,j),H(j)?-1:M(j)?0:1};function L(j){for(var R=j.g.length,x=[],V=0;V<R;V++)x[V]=~j.g[V];return new d(x,~j.h).add(b)}r.abs=function(){return H(this)?L(this):this},r.add=function(j){for(var R=Math.max(this.g.length,j.g.length),x=[],V=0,I=0;I<=R;I++){var N=V+(this.i(I)&65535)+(j.i(I)&65535),C=(N>>>16)+(this.i(I)>>>16)+(j.i(I)>>>16);V=C>>>16,N&=65535,C&=65535,x[I]=C<<16|N}return new d(x,x[x.length-1]&-2147483648?-1:0)};function Y(j,R){return j.add(L(R))}r.j=function(j){if(M(this)||M(j))return A;if(H(this))return H(j)?L(this).j(L(j)):L(L(this).j(j));if(H(j))return L(this.j(L(j)));if(0>this.l(O)&&0>j.l(O))return g(this.m()*j.m());for(var R=this.g.length+j.g.length,x=[],V=0;V<2*R;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(var I=0;I<j.g.length;I++){var N=this.i(V)>>>16,C=this.i(V)&65535,Je=j.i(I)>>>16,qe=j.i(I)&65535;x[2*V+2*I]+=C*qe,U(x,2*V+2*I),x[2*V+2*I+1]+=N*qe,U(x,2*V+2*I+1),x[2*V+2*I+1]+=C*Je,U(x,2*V+2*I+1),x[2*V+2*I+2]+=N*Je,U(x,2*V+2*I+2)}for(V=0;V<R;V++)x[V]=x[2*V+1]<<16|x[2*V];for(V=R;V<2*R;V++)x[V]=0;return new d(x,0)};function U(j,R){for(;(j[R]&65535)!=j[R];)j[R+1]+=j[R]>>>16,j[R]&=65535,R++}function ne(j,R){this.g=j,this.h=R}function ie(j,R){if(M(R))throw Error("division by zero");if(M(j))return new ne(A,A);if(H(j))return R=ie(L(j),R),new ne(L(R.g),L(R.h));if(H(R))return R=ie(j,L(R)),new ne(L(R.g),R.h);if(30<j.g.length){if(H(j)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var x=b,V=R;0>=V.l(j);)x=ue(x),V=ue(V);var I=Ee(x,1),N=Ee(V,1);for(V=Ee(V,2),x=Ee(x,2);!M(V);){var C=N.add(V);0>=C.l(j)&&(I=I.add(x),N=C),V=Ee(V,1),x=Ee(x,1)}return R=Y(j,I.j(R)),new ne(I,R)}for(I=A;0<=j.l(R);){for(x=Math.max(1,Math.floor(j.m()/R.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),N=g(x),C=N.j(R);H(C)||0<C.l(j);)x-=V,N=g(x),C=N.j(R);M(N)&&(N=b),I=I.add(N),j=Y(j,C)}return new ne(I,j)}r.A=function(j){return ie(this,j).h},r.and=function(j){for(var R=Math.max(this.g.length,j.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)&j.i(V);return new d(x,this.h&j.h)},r.or=function(j){for(var R=Math.max(this.g.length,j.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)|j.i(V);return new d(x,this.h|j.h)},r.xor=function(j){for(var R=Math.max(this.g.length,j.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)^j.i(V);return new d(x,this.h^j.h)};function ue(j){for(var R=j.g.length+1,x=[],V=0;V<R;V++)x[V]=j.i(V)<<1|j.i(V-1)>>>31;return new d(x,j.h)}function Ee(j,R){var x=R>>5;R%=32;for(var V=j.g.length-x,I=[],N=0;N<V;N++)I[N]=0<R?j.i(N+x)>>>R|j.i(N+x+1)<<32-R:j.i(N+x);return new d(I,j.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,KE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,Br=d}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YE,Nl,XE,Fc,xp,WE,ZE,JE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in _))break e;_=_[B]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,B={next:function(){if(!w&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,b.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,B,K){for(var se=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)se[Ve-2]=arguments[Ve];return y.prototype[B].apply(w,se)}}function H(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(m(w)){const B=c.length||0,K=w.length||0;c.length=B+K;for(let se=0;se<K;se++)c[B+se]=w[se]}else c.push(w)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var ue=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ee(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function j(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let _,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(_ in w)c[_]=w[_];for(let K=0;K<x.length;K++)_=x[K],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function I(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function N(c){p.setTimeout(()=>{throw c},0)}function C(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Je{constructor(){this.h=this.g=null}add(y,_){const w=qe.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var qe=new Y(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,pe=!1,ze=new Je,k=()=>{const c=p.Promise.resolve(void 0);oe=()=>{c.then(re)}};var re=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){N(_)}var y=qe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{ie(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}M(Ce,ae);var Se={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),et=0;function Xn(c,y,_,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=B,this.key=++et,this.da=this.fa=!1}function rr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ti(c){this.src=c,this.g={},this.h=0}Ti.prototype.add=function(c,y,_,w,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=ta(c,y,w,B);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new Xn(y,this.src,K,!!w,B),y.fa=_,c.push(y)),y};function ea(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],B=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(w,B,1),K&&(rr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ta(c,y,_,w){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==w)return B}return-1}var na="closure_lm_"+(1e6*Math.random()|0),_o={};function uu(c,y,_,w,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)uu(c,y[K],_,w,B);return null}return _=cu(_),c&&c[Ct]?c.K(y,_,g(w)?!!w.capture:!1,B):Tn(c,y,_,!1,w,B)}function Tn(c,y,_,w,B,K){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,Ve=Ja(c);if(Ve||(c[na]=Ve=new Ti(c)),_=Ve.add(y,_,w,se,K),_.proxy)return _;if(w=Xh(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)ge||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(ia(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xh(){function c(_){return y.call(c.src,c.listener,_)}const y=Wh;return c}function Eo(c,y,_,w,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)Eo(c,y[K],_,w,B);else w=g(w)?!!w.capture:!!w,_=cu(_),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=ta(K,_,w,B),-1<_&&(rr(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ja(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ta(y,_,w,B)),(_=-1<c?y[c]:null)&&Za(_))}function Za(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])ea(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(ia(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Ja(y))?(ea(_,c),_.h==0&&(_.src=null,y[na]=null)):rr(c)}}}function ia(c){return c in _o?_o[c]:_o[c]="on"+c}function Wh(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&Za(c),c=_.call(w,y)}return c}function Ja(c){return c=c[na],c instanceof Ti?c:null}var To="__closure_events_fn_"+(1e9*Math.random()>>>0);function cu(c){return typeof c=="function"?c:(c[To]||(c[To]=function(y){return c.handleEvent(y)}),c[To])}function lt(){le.call(this),this.i=new Ti(this),this.M=this,this.F=null}M(lt,le),lt.prototype[Ct]=!0,lt.prototype.removeEventListener=function(c,y,_,w){Eo(this,c,y,_,w)};function Ge(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var B=y;y=new ae(w,c),V(y,B)}if(B=!0,_)for(var K=_.length-1;0<=K;K--){var se=y.g=_[K];B=un(se,w,!0,y)&&B}if(se=y.g=c,B=un(se,w,!0,y)&&B,B=un(se,w,!1,y)&&B,_)for(K=0;K<_.length;K++)se=y.g=_[K],B=un(se,w,!1,y)&&B}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)rr(_[w]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},lt.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function un(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var se=y[K];if(se&&!se.da&&se.capture==_){var Ve=se.listener,bt=se.ha||se.src;se.fa&&ea(c.i,se),B=Ve.call(bt,w)!==!1&&B}}return B&&!w.defaultPrevented}function Ft(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function hu(c){c.g=Ft(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Zh extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(c){le.call(this),this.h=c,this.g={}}M(ra,le);var aa=[];function sa(c){Ee(c.g,function(y,_){this.g.hasOwnProperty(_)&&Za(y)},c),c.g={}}ra.prototype.N=function(){ra.aa.N.call(this),sa(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=p.JSON.stringify,es=p.JSON.parse,oa=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function bo(){}bo.prototype.h=null;function So(c){return c.h||(c.h=c.i())}function Ao(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){ae.call(this,"d")}M(Si,ae);function wo(){ae.call(this,"c")}M(wo,ae);var Wn={},Ro=null;function ar(){return Ro=Ro||new lt}Wn.La="serverreachability";function ts(c){ae.call(this,Wn.La,c)}M(ts,ae);function sr(c){const y=ar();Ge(y,new ts(y))}Wn.STAT_EVENT="statevent";function du(c,y){ae.call(this,Wn.STAT_EVENT,c),this.stat=y}M(du,ae);function it(c){const y=ar();Ge(y,new du(y,c))}Wn.Ma="timingevent";function Tt(c,y){ae.call(this,Wn.Ma,c),this.size=y}M(Tt,ae);function mt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function xo(c,y,_,w,B,K){c.info(function(){if(c.g)if(K)for(var se="",Ve=K.split("&"),bt=0;bt<Ve.length;bt++){var Pe=Ve[bt].split("=");if(1<Pe.length){var Nt=Pe[0];Pe=Pe[1];var St=Nt.split("_");se=2<=St.length&&St[1]=="type"?se+(Nt+"="+Pe+"&"):se+(Nt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+_+`
`+se})}function Jh(c,y,_,w,B,K,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+_+`
`+K+" "+se})}function or(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+la(c,_)+(w?" "+w:"")})}function fu(c,y){c.info(function(){return"TIMEOUT: "+y})}bn.prototype.info=function(){};function la(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return Pn(_)}catch{return y}}var lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}M(Jn,bo),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function Wt(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var Io={},ns={};function jn(c,y,_){c.L=1,c.v=fa(cn(y)),c.m=_,c.P=!0,wi(c,null)}function wi(c,y){c.F=Date.now(),ua(c),c.A=cn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),ko(_.i,"t",w),c.C=0,_=c.j.J,c.h=new ht,c.g=Cu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Zh(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(aa[0]=B.toString()),B=aa);for(var K=0;K<B.length;K++){var se=uu(_,B[K],w||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),sr(),xo(c.i,c.u,c.A,c.l,c.R,c.m)}Wt.prototype.ca=function(c){c=c.target;const y=this.M;y&&Rn(c)==3?y.j():this.Y(c)},Wt.prototype.Y=function(c){try{if(c==this.g)e:{const St=Rn(this.g);var y=this.g.Ba();const Mi=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Tu(this.g)))){this.J||St!=4||y==7||(y==8||0>=Mi?sr(3):sr(2)),ur(this);var _=this.g.Z();this.X=_;t:if(pu(this)){var w=Tu(this.g);c="";var B=w.length,K=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),ei(this);var se="";break t}this.h.i=new p.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==B-1)});w.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Jh(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,bt=this.g;if((Ve=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ve)){var Pe=Ve;break t}}Pe=null}if(_=Pe)or(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ca(this,_);else{this.o=!1,this.s=3,it(12),Pt(this),ei(this);break e}}if(this.P){_=!0;let jt;for(;!this.J&&this.C<se.length;)if(jt=mu(this,se),jt==ns){St==4&&(this.s=4,it(14),_=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Io){this.s=4,it(15),or(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else or(this.i,this.l,jt,null),ca(this,jt);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||se.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)or(this.i,this.l,se,"[Invalid Chunked Response]"),Pt(this),ei(this);else if(0<se.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ta(Nt),Nt.M=!0,it(11))}}else or(this.i,this.l,se,null),ca(this,se);St==4&&Pt(this),this.o&&!this.J&&(St==4?Ru(this.j,this):(this.o=!1,ua(this)))}else rd(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Pt(this),ei(this)}}}catch{}finally{}};function pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?ns:(_=Number(y.substring(_,w)),isNaN(_)?Io:(w+=1,w+_>y.length?ns:(y=y.slice(w,w+_),c.C=w+_,y)))}Wt.prototype.cancel=function(){this.J=!0,Pt(this)};function ua(c){c.S=Date.now()+c.I,gu(c,c.I)}function gu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(b(c.ba,c),y)}function ur(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Wt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(fu(this.i,this.A),this.L!=2&&(sr(),it(17)),Pt(this),this.s=2,ei(this)):gu(this,this.S-c)};function ei(c){c.j.G==0||c.J||Ru(c.j,c)}function Pt(c){ur(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,sa(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ca(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Co(_.h,c))){if(!c.K&&Co(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ps(_),ds(_);else break e;Uo(_),it(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(b(_.Za,_),6e3));if(1>=rs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Oi(_,11)}else if((c.K||_.g==c)&&ps(_),!U(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Pe=B[y];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Nt=Pe[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const St=Pe[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const Mi=Pe[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(w=1.5*Mi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const jt=c.g;if(jt){const oi=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var K=w.h;K.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(as(K,K.h),K.h=null))}if(w.D){const Bo=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bo&&(w.ya=Bo,Ke(w.I,w.D,Bo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var se=c;if(w.qa=Iu(w,w.J?w.ia:null,w.W),se.K){Zt(w.h,se);var Ve=se,bt=w.L;bt&&(Ve.I=bt),Ve.B&&(ur(Ve),ua(Ve)),w.g=se}else Au(w);0<_.i.length&&fs(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Oi(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Oi(_,7):jo(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}sr(4)}catch{}}var yu=class{constructor(c,y){this.g=c,this.map=y}};function Ri(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function is(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function rs(c){return c.h?1:c.g?c.g.size:0}function Co(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function as(c,y){c.g?c.g.add(y):c.h=y}function Zt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ri.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return H(c.i)}function ed(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function ss(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function No(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ss(c),w=ed(c),B=w.length,K=0;K<B;K++)y.call(void 0,w[K],_&&_[K],c)}var ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function td(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),B=null;if(0<=w){var K=c[_].substring(0,w);B=c[_].substring(w+1)}else K=c[_];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,da(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.s),this.l=c.l;var y=c.i,_=new Ii;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),xi(this,_),this.m=c.m}else c&&(y=String(c).match(ha))?(this.h=!1,da(this,y[1]||"",!0),this.o=Sn(y[2]||""),this.g=Sn(y[3]||"",!0),cr(this,y[4]),this.l=Sn(y[5]||"",!0),xi(this,y[6]||"",!0),this.m=Sn(y[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}gt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(pa(y,Oo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(pa(y,Oo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(pa(_,_.charAt(0)=="/"?nd:Mo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",pa(_,os)),c.join("")};function cn(c){return new gt(c)}function da(c,y,_){c.j=_?Sn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function xi(c,y,_){y instanceof Ii?(c.i=y,_u(c.i,c.h)):(_||(y=pa(y,id)),c.i=new Ii(y,c.h))}function Ke(c,y,_){c.i.set(y,_)}function fa(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Sn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pa(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,vu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,Mo=/[#\?:]/g,nd=/[#\?]/g,id=/[#\?@]/g,os=/#/g;function Ii(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&td(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Ii.prototype,r.add=function(c,y){An(this),this.i=null,c=ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ci(c,y){An(c),y=ti(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return An(c),y=ti(c,y),c.g.has(y)}r.forEach=function(c,y){An(this),this.g.forEach(function(_,w){_.forEach(function(B){c.call(y,B,w,this)},this)},this)},r.na=function(){An(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const B=c[w];for(let K=0;K<B.length;K++)_.push(y[w])}return _},r.V=function(c){An(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return An(this),this.i=null,c=ti(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ko(c,y,_){Ci(c,y),0<_.length&&(c.i=null,c.g.set(ti(c,y),H(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const K=encodeURIComponent(String(w)),se=this.V(w);for(w=0;w<se.length;w++){var B=K;se[w]!==""&&(B+="="+encodeURIComponent(String(se[w]))),c.push(B)}}return this.i=c.join("&")};function ti(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _u(c,y){y&&!c.j&&(An(c),c.i=null,c.g.forEach(function(_,w){var B=w.toLowerCase();w!=B&&(Ci(this,w),ko(this,B,_))},c)),c.j=y}function ma(c,y){const _=new bn;if(p.Image){const w=new Image;w.onload=O(wn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=O(wn,_,"TestLoadImage: error",!1,y,w),w.onabort=O(wn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=O(wn,_,"TestLoadImage: timeout",!1,y,w),p.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Ln(c,y){const _=new bn,w=new AbortController,B=setTimeout(()=>{w.abort(),wn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(B),K.ok?wn(_,"TestPingServer: ok",!0,y):wn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),wn(_,"TestPingServer: error",!1,y)})}function wn(c,y,_,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(_)}catch{}}function ga(){this.g=new oa}function ni(c,y,_){const w=_||"";try{No(c,function(B,K){let se=B;g(B)&&(se=Pn(B)),y.push(w+K+"="+encodeURIComponent(se))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}M(hr,bo),hr.prototype.g=function(){return new Ni(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function Ni(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ni,lt),r=Ni.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Vo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},r.Qa=function(c){this.g&&(this.response=c,ii(this))},r.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Po(c){let y="";return Ee(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Dt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Po(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ke(c,y,_))}function He(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(He,lt);var ls=/^https?$/i,ya=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?So(this.o):So(Zn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Eu(this,K);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)_.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())_.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),B=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ya,y,void 0))||w||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of _)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{va(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Eu(this,K)}};function Eu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,us(c),ai(c)}function us(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?cs(this):this.bb())},r.bb=function(){cs(this)};function cs(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)Ft(c.Ea,0,c);else if(Ge(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=se===0){var B=String(c.D).match(ha)[1]||null;!B&&p.self&&p.self.location&&(B=p.self.location.protocol.slice(0,-1)),w=!ls.test(B?B.toLowerCase():"")}_=w}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var K=2<Rn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",us(c)}}finally{ai(c)}}}}function ai(c,y){if(c.g){va(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{_.onreadystatechange=w}catch{}}}function va(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),es(y)}};function Tu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function rd(c){const y={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(U(c[w]))continue;var _=I(c[w]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[B]||[];y[B]=K,K.push(_)}j(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function hs(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,c),this.cb=_a("retryDelaySeedMs",1e4,c),this.Wa=_a("forwardChannelMaxRetries",2,c),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ri(c&&c.concurrentRequestLimit),this.Da=new ga,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=hs.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,w){it(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Iu(this,null,this.W),fs(this)};function jo(c){if(bu(c),c.G==3){var y=c.U++,_=cn(c.I);if(Ke(_,"SID",c.K),Ke(_,"RID",y),Ke(_,"TYPE","terminate"),Ea(c,_),y=new Wt(c,c.j,y),y.L=2,y.v=fa(cn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=Cu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ua(y)}xu(c)}function ds(c){c.g&&(Ta(c),c.g.cancel(),c.g=null)}function bu(c){ds(c),c.u&&(p.clearTimeout(c.u),c.u=null),ps(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function fs(c){if(!is(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||k(),pe||(oe(),pe=!0),ze.add(y,c),c.B=0}}function ad(c,y){return rs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(b(c.Ga,c,y),zo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Wt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),V(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Su(this,B,y),_=cn(this.I),Ke(_,"RID",c),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),Ea(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Po(K)))+"&"+y:this.m&&Dt(_,this.m,K)),as(this.h,B),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",y),Ke(_,"SID","null"),B.T=!0,jn(B,_,null)):jn(B,_,y),this.G=2}}else this.G==3&&(c?Lo(this,c):this.i.length==0||is(this.h)||Lo(this))};function Lo(c,y){var _;y?_=y.l:_=c.U++;const w=cn(c.I);Ke(w,"SID",c.K),Ke(w,"RID",_),Ke(w,"AID",c.T),Ea(c,w),c.m&&c.o&&Dt(w,c.m,c.o),_=new Wt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Su(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),as(c.h,_),jn(_,w,y)}function Ea(c,y){c.H&&Ee(c.H,function(_,w){Ke(y,w,_)}),c.l&&No({},function(_,w){Ke(y,w,_)})}function Su(c,y,_){_=Math.min(c.i.length,_);var w=c.l?b(c.l.Na,c.l,c):null;e:{var B=c.i;let K=-1;for(;;){const se=["count="+_];K==-1?0<_?(K=B[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Ve=!0;for(let bt=0;bt<_;bt++){let Pe=B[bt].g;const Nt=B[bt].map;if(Pe-=K,0>Pe)K=Math.max(0,B[bt].g-100),Ve=!1;else try{ni(Nt,se,"req"+Pe+"_")}catch{w&&w(Nt)}}if(Ve){w=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Au(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||k(),pe||(oe(),pe=!0),ze.add(y,c),c.v=0}}function Uo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(b(c.Fa,c),zo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),ds(this),wu(this))};function Ta(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function wu(c){c.g=new Wt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=cn(c.qa);Ke(y,"RID","rpc"),Ke(y,"SID",c.K),Ke(y,"AID",c.T),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(y,"TO",c.ja),Ke(y,"TYPE","xmlhttp"),Ea(c,y),c.m&&c.o&&Dt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=fa(cn(y)),_.m=null,_.P=!0,wi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ds(this),Uo(this),it(19))};function ps(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Ru(c,y){var _=null;if(c.g==y){ps(c),Ta(c),c.g=null;var w=2}else if(Co(c.h,y))_=y.D,Zt(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;w=ar(),Ge(w,new Tt(w,_)),fs(c)}else Au(c);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&ad(c,y)||w==2&&Uo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function zo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Oi(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),w=c.Xa;const B=!w;w=new gt(w||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||da(w,"https"),fa(w),B?ma(w.toString(),_):Ln(w.toString(),_)}else it(2);c.G=0,c.l&&c.l.sa(y),xu(c),bu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function xu(c){if(c.G=0,c.ka=[],c.l){const y=Do(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function Iu(c,y,_){var w=_ instanceof gt?cn(_):new gt(_);if(w.g!="")y&&(w.g=y+"."+w.g),cr(w,w.s);else{var B=p.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new gt(null);w&&da(K,w),y&&(K.g=y),B&&cr(K,B),_&&(K.l=_),w=K}return _=c.D,y=c.ya,_&&y&&Ke(w,_,y),Ke(w,"VER",c.la),Ea(c,w),w}function Cu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new hr({eb:_})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}r=Du.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ms(){}ms.prototype.g=function(c,y){return new Jt(c,y)};function Jt(c,y){lt.call(this),this.g=new hs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!U(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new si(this)}M(Jt,lt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){jo(this.g)},Jt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pn(c),c=_);y.i.push(new yu(y.Ya++,c)),y.G==3&&fs(y)},Jt.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,Jt.aa.N.call(this)};function Nu(c){Si.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Nu,Si);function Ou(){wo.call(this),this.status=1}M(Ou,wo);function si(c){this.g=c}M(si,Du),si.prototype.ua=function(){Ge(this.g,"a")},si.prototype.ta=function(c){Ge(this.g,new Nu(c))},si.prototype.sa=function(c){Ge(this.g,new Ou)},si.prototype.ra=function(){Ge(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,JE=function(){return new ms},ZE=function(){return ar()},WE=Wn,xp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Fc=lr,Ai.COMPLETE="complete",XE=Ai,Ao.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Nl=Ao,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,YE=He}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const F0="@firebase/firestore",G0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Ih("@firebase/firestore");function Gs(){return Ba.logLevel}function ce(r,...e){if(Ba.logLevel<=Me.DEBUG){const n=e.map(um);Ba.debug(`Firestore (${fo}): ${r}`,...n)}}function Ji(r,...e){if(Ba.logLevel<=Me.ERROR){const n=e.map(um);Ba.error(`Firestore (${fo}): ${r}`,...n)}}function eo(r,...e){if(Ba.logLevel<=Me.WARN){const n=e.map(um);Ba.warn(`Firestore (${fo}): ${r}`,...n)}}function um(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,eT(r,a,n)}function eT(r,e,n){let a=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ji(a),new Error(a)}function Fe(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||eT(e,o,a)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class px{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class mx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gx{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let u=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qr)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Fe(typeof a.accessToken=="string",31837,{l:a}),new tT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class yx{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vx{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new yx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _x{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const a=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Ex(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ie(r,e){return r<e?-1:r>e?1:0}function Ip(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ie(a,o);{const u=nT(),d=Tx(u.encode($0(r,n)),u.encode($0(e,n)));return d!==0?d:Ie(a,o)}}n+=a>65535?2:1}return Ie(r.length,e.length)}function $0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Tx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ie(r[n],e[n]);return Ie(r.length,e.length)}function to(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-62135596800,Y0=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Y0);return new Rt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<K0)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y0}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-K0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Rt(0,0))}static max(){return new Ae(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="__name__";class pi{constructor(e,n,a){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&_e(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ie(e.length,n.length)}static compareSegments(e,n){const a=pi.isNumericId(e),o=pi.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?pi.extractNumericId(e).compare(pi.extractNumericId(n)):Ip(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}}class nt extends pi{construct(e,n,a){return new nt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends pi{construct(e,n,a){return new qt(e,n,a)}static isValidIdentifier(e){return bx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new qt([X0])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(u(),o++)}if(u(),d)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function Sx(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(a===1e9?new Rt(n+1,0):new Rt(n,a));return new Gr(o,me.empty(),e)}function Ax(r){return new Gr(r.readTime,r.key,Hl)}class Gr{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Gr(Ae.min(),me.empty(),Hl)}static max(){return new Gr(Ae.max(),me.empty(),Hl)}}function wx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ie(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==Rx)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,a)=>{n(e)})}static reject(e){return new ee((n,a)=>{a(e)})}static waitFor(e){return new ee((n,a)=>{let o=0,u=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++u,d&&u===o&&n()},m=>a(m))}),d=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const a of e)n=n.next(o=>o?ee.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ee((a,o)=>{const u=e.length,d=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(T=>{d[g]=T,++p,p===u&&a(d)},T=>o(T))}})}static doWhile(e,n){return new ee((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function Ix(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Dh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=-1;function Nh(r){return r==null}function rh(r){return r===0&&1/r==-1/0}function Cx(r){return typeof r=="number"&&Number.isInteger(r)&&!rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="";function Dx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=W0(e)),e=Nx(r.get(n),e);return W0(e)}function Nx(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case rT:n+="";break;default:n+=u}}return n}function W0(r){return r+rT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Zr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function aT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Bt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J0(this.data.getIterator())}getIteratorFrom(e){return new J0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class J0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new xt(qt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new sT("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const Ox=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=Ox.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $r(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="server_timestamp",lT="__type__",uT="__previous_value__",cT="__local_write_time__";function hm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[lT])===null||n===void 0?void 0:n.stringValue)===oT}function Oh(r){const e=r.mapValue.fields[uT];return hm(e)?Oh(e):e}function Fl(r){const e=Qr(r.mapValue.fields[cT].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n,a,o,u,d,p,m,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=T}}const ah="(default)";class Gl{constructor(e,n){this.projectId=e,this.database=n||ah}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="__type__",kx="__max__",Pc={mapValue:{}},dT="__vector__",sh="value";function Kr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hm(r)?4:Px(r)?9007199254740991:Vx(r)?10:11:_e(28295,{value:r})}function _i(r,e){if(r===e)return!0;const n=Kr(r);if(n!==Kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Fl(r).isEqual(Fl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=Qr(o.timestampValue),p=Qr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return $r(o.bytesValue).isEqual($r(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=pt(o.doubleValue),p=pt(u.doubleValue);return d===p?rh(d)===rh(p):isNaN(d)&&isNaN(p)}return!1}(r,e);case 9:return to(r.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Z0(d)!==Z0(p))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(p[m]===void 0||!_i(d[m],p[m])))return!1;return!0}(r,e);default:return _e(52216,{left:r})}}function Ql(r,e){return(r.values||[]).find(n=>_i(n,e))!==void 0}function no(r,e){if(r===e)return 0;const n=Kr(r),a=Kr(e);if(n!==a)return Ie(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(r.booleanValue,e.booleanValue);case 2:return function(u,d){const p=pt(u.integerValue||u.doubleValue),m=pt(d.integerValue||d.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,e);case 3:return e_(r.timestampValue,e.timestampValue);case 4:return e_(Fl(r),Fl(e));case 5:return Ip(r.stringValue,e.stringValue);case 6:return function(u,d){const p=$r(u),m=$r(d);return p.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,d){const p=u.split("/"),m=d.split("/");for(let g=0;g<p.length&&g<m.length;g++){const T=Ie(p[g],m[g]);if(T!==0)return T}return Ie(p.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,d){const p=Ie(pt(u.latitude),pt(d.latitude));return p!==0?p:Ie(pt(u.longitude),pt(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return t_(r.arrayValue,e.arrayValue);case 10:return function(u,d){var p,m,g,T;const A=u.fields||{},b=d.fields||{},O=(p=A[sh])===null||p===void 0?void 0:p.arrayValue,M=(m=b[sh])===null||m===void 0?void 0:m.arrayValue,H=Ie(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((T=M==null?void 0:M.values)===null||T===void 0?void 0:T.length)||0);return H!==0?H:t_(O,M)}(r.mapValue,e.mapValue);case 11:return function(u,d){if(u===Pc.mapValue&&d===Pc.mapValue)return 0;if(u===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=d.fields||{},T=Object.keys(g);m.sort(),T.sort();for(let A=0;A<m.length&&A<T.length;++A){const b=Ip(m[A],T[A]);if(b!==0)return b;const O=no(p[m[A]],g[T[A]]);if(O!==0)return O}return Ie(m.length,T.length)}(r.mapValue,e.mapValue);default:throw _e(23264,{Pe:n})}}function e_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ie(r,e);const n=Qr(r),a=Qr(e),o=Ie(n.seconds,a.seconds);return o!==0?o:Ie(n.nanos,a.nanos)}function t_(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=no(n[o],a[o]);if(u)return u}return Ie(n.length,a.length)}function io(r){return Cp(r)}function Cp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Qr(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return $r(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return me.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Cp(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of a)u?u=!1:o+=",",o+=`${d}:${Cp(n.fields[d])}`;return o+"}"}(r.mapValue):_e(61005,{value:r})}function Gc(r){switch(Kr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(r);return e?16+Gc(e):16;case 5:return 2*r.stringValue.length;case 6:return $r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Gc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Zr(a.fields,(u,d)=>{o+=u.length+Gc(d)}),o}(r.mapValue);default:throw _e(13486,{value:r})}}function n_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Dp(r){return!!r&&"integerValue"in r}function dm(r){return!!r&&"arrayValue"in r}function i_(r){return!!r&&"nullValue"in r}function r_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function Vx(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[hT])===null||n===void 0?void 0:n.stringValue)===dT}function Vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Zr(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Vl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Px(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=qt.emptyPath(),a={},o=[];e.forEach((d,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,a,o),a={},o=[],n=p.popLast()}d?a[p.lastSegment()]=Vl(d):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Zr(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new sn(Vl(this.value))}}function fT(r){const e=[];return Zr(r.fields,(n,a)=>{const o=new qt([n]);if(Qc(a)){const u=fT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,a,o,u,d,p){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Yt(e,0,Ae.min(),Ae.min(),Ae.min(),sn.empty(),0)}static newFoundDocument(e,n,a,o){return new Yt(e,1,n,Ae.min(),a,o,0)}static newNoDocument(e,n){return new Yt(e,2,n,Ae.min(),Ae.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Ae.min(),Ae.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.position=e,this.inclusive=n}}function a_(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?a=me.comparator(me.fromName(d.referenceValue),n.key):a=no(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function s_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_i(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function jx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{}class Et extends pT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new Ux(e,n,a):n==="array-contains"?new qx(e,a):n==="in"?new Hx(e,a):n==="not-in"?new Fx(e,a):n==="array-contains-any"?new Gx(e,a):new Et(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new zx(e,a):new Bx(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends pT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new $n(e,n)}matches(e){return mT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function mT(r){return r.op==="and"}function gT(r){return Lx(r)&&mT(r)}function Lx(r){for(const e of r.filters)if(e instanceof $n)return!1;return!0}function Np(r){if(r instanceof Et)return r.field.canonicalString()+r.op.toString()+io(r.value);if(gT(r))return r.filters.map(e=>Np(e)).join(",");{const e=r.filters.map(n=>Np(n)).join(",");return`${r.op}(${e})`}}function yT(r,e){return r instanceof Et?function(a,o){return o instanceof Et&&a.op===o.op&&a.field.isEqual(o.field)&&_i(a.value,o.value)}(r,e):r instanceof $n?function(a,o){return o instanceof $n&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,d,p)=>u&&yT(d,o.filters[p]),!0):!1}(r,e):void _e(19439)}function vT(r){return r instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(r):r instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(vT).join(" ,")+"}"}(r):"Filter"}class Ux extends Et{constructor(e,n,a){super(e,n,a),this.key=me.fromName(a.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class zx extends Et{constructor(e,n){super(e,"in",n),this.keys=_T("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Bx extends Et{constructor(e,n){super(e,"not-in",n),this.keys=_T("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _T(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>me.fromName(a.referenceValue))}class qx extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dm(n)&&Ql(n.arrayValue,this.value)}}class Hx extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class Fx extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class Gx extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Ql(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n=null,a=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Ie=null}}function o_(r,e=null,n=[],a=[],o=null,u=null,d=null){return new Qx(r,e,n,a,o,u,d)}function fm(r){const e=we(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Np(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>io(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>io(a)).join(",")),e.Ie=n}return e.Ie}function pm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!jx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!yT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!s_(r.startAt,e.startAt)&&s_(r.endAt,e.endAt)}function Op(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n=null,a=[],o=[],u=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $x(r,e,n,a,o,u,d,p){return new Jl(r,e,n,a,o,u,d,p)}function ET(r){return new Jl(r)}function l_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function TT(r){return r.collectionGroup!==null}function Pl(r){const e=we(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new xt(qt.comparator);return d.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new lh(u,a))}),n.has(qt.keyField().canonicalString())||e.Ee.push(new lh(qt.keyField(),a))}return e.Ee}function mi(r){const e=we(r);return e.de||(e.de=Kx(e,Pl(r))),e.de}function Kx(r,e){if(r.limitType==="F")return o_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new lh(o.field,u)});const n=r.endAt?new oh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new oh(r.startAt.position,r.startAt.inclusive):null;return o_(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Mp(r,e){const n=r.filters.concat([e]);return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function kp(r,e,n){return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Mh(r,e){return pm(mi(r),mi(e))&&r.limitType===e.limitType}function bT(r){return`${fm(mi(r))}|lt:${r.limitType}`}function Qs(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>vT(o)).join(", ")}]`),Nh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>io(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>io(o)).join(",")),`Target(${a})`}(mi(r))}; limitType=${r.limitType})`}function kh(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):me.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of Pl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(d,p,m){const g=a_(d,p,m);return d.inclusive?g<=0:g<0}(a.startAt,Pl(a),o)||a.endAt&&!function(d,p,m){const g=a_(d,p,m);return d.inclusive?g>=0:g>0}(a.endAt,Pl(a),o))}(r,e)}function Yx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ST(r){return(e,n)=>{let a=!1;for(const o of Pl(r)){const u=Xx(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function Xx(r,e,n){const a=r.field.isKeyField()?me.comparator(e.key,n.key):function(u,d,p){const m=d.data.field(u),g=p.data.field(u);return m!==null&&g!==null?no(m,g):_e(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return aT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new ot(me.comparator);function er(){return Wx}const AT=new ot(me.comparator);function Ol(...r){let e=AT;for(const n of r)e=e.insert(n.key,n);return e}function wT(r){let e=AT;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function La(){return jl()}function RT(){return jl()}function jl(){return new Xa(r=>r.toString(),(r,e)=>r.isEqual(e))}const Zx=new ot(me.comparator),Jx=new xt(me.comparator);function ke(...r){let e=Jx;for(const n of r)e=e.add(n);return e}const eI=new xt(Ie);function tI(){return eI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function xT(r){return{integerValue:""+r}}function nI(r,e){return Cx(e)?xT(e):mm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function iI(r,e,n){return r instanceof uh?function(o,u){const d={fields:{[lT]:{stringValue:oT},[cT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hm(u)&&(u=Oh(u)),u&&(d.fields[uT]=u),{mapValue:d}}(n,e):r instanceof $l?CT(r,e):r instanceof Kl?DT(r,e):function(o,u){const d=IT(o,u),p=u_(d)+u_(o.Re);return Dp(d)&&Dp(o.Re)?xT(p):mm(o.serializer,p)}(r,e)}function rI(r,e,n){return r instanceof $l?CT(r,e):r instanceof Kl?DT(r,e):n}function IT(r,e){return r instanceof ch?function(a){return Dp(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class uh extends Vh{}class $l extends Vh{constructor(e){super(),this.elements=e}}function CT(r,e){const n=NT(e);for(const a of r.elements)n.some(o=>_i(o,a))||n.push(a);return{arrayValue:{values:n}}}class Kl extends Vh{constructor(e){super(),this.elements=e}}function DT(r,e){let n=NT(e);for(const a of r.elements)n=n.filter(o=>!_i(o,a));return{arrayValue:{values:n}}}class ch extends Vh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function u_(r){return pt(r.integerValue||r.doubleValue)}function NT(r){return dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function aI(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof $l&&o instanceof $l||a instanceof Kl&&o instanceof Kl?to(a.elements,o.elements,_i):a instanceof ch&&o instanceof ch?_i(a.Re,o.Re):a instanceof uh&&o instanceof uh}(r.transform,e.transform)}class sI{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ph{}function OT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gm(r.key,Fn.none()):new eu(r.key,r.data,Fn.none());{const n=r.data,a=sn.empty();let o=new xt(qt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new Jr(r.key,a,new vn(o.toArray()),Fn.none())}}function oI(r,e,n){r instanceof eu?function(o,u,d){const p=o.value.clone(),m=h_(o.fieldTransforms,u,d.transformResults);p.setAll(m),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,n):r instanceof Jr?function(o,u,d){if(!$c(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=h_(o.fieldTransforms,u,d.transformResults),m=u.data;m.setAll(MT(o)),m.setAll(p),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,n):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Ll(r,e,n,a){return r instanceof eu?function(u,d,p,m){if(!$c(u.precondition,d))return p;const g=u.value.clone(),T=d_(u.fieldTransforms,m,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(r,e,n,a):r instanceof Jr?function(u,d,p,m){if(!$c(u.precondition,d))return p;const g=d_(u.fieldTransforms,m,d),T=d.data;return T.setAll(MT(u)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,a):function(u,d,p){return $c(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(r,e,n)}function lI(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=IT(a.transform,o||null);u!=null&&(n===null&&(n=sn.empty()),n.set(a.field,u))}return n||null}function c_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&to(a,o,(u,d)=>aI(u,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eu extends Ph{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jr extends Ph{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function MT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function h_(r,e,n){const a=new Map;Fe(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,p=e.data.field(u.field);a.set(u.field,rI(d,p,n[o]))}return a}function d_(r,e,n){const a=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);a.set(o.field,iI(u,d,e))}return a}class gm extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uI extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&oI(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Ll(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Ll(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=RT();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const m=OT(d,p);m!==null&&a.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Ae.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,a)=>c_(n,a))&&to(this.baseMutations,e.baseMutations,(n,a)=>c_(n,a))}}class ym{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Fe(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return Zx}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new ym(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Le;function fI(r){switch(r){case te.OK:return _e(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function kT(r){if(r===void 0)return Ji("GRPC error has no .code"),te.UNKNOWN;switch(r){case _t.OK:return te.OK;case _t.CANCELLED:return te.CANCELLED;case _t.UNKNOWN:return te.UNKNOWN;case _t.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case _t.INTERNAL:return te.INTERNAL;case _t.UNAVAILABLE:return te.UNAVAILABLE;case _t.UNAUTHENTICATED:return te.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case _t.NOT_FOUND:return te.NOT_FOUND;case _t.ALREADY_EXISTS:return te.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return te.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case _t.ABORTED:return te.ABORTED;case _t.OUT_OF_RANGE:return te.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return te.UNIMPLEMENTED;case _t.DATA_LOSS:return te.DATA_LOSS;default:return _e(39323,{code:r})}}(Le=_t||(_t={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new Br([4294967295,4294967295],0);function f_(r){const e=nT().encode(r),n=new KE;return n.update(e),new Uint8Array(n.digest())}function p_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Br([n,a],0),new Br([o,u],0)]}class vm{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(a<0)throw new Ml(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Br.fromNumber(this.pe)}we(e,n,a){let o=e.add(n.multiply(Br.fromNumber(a)));return o.compare(pI)===1&&(o=new Br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=f_(e),[a,o]=p_(n);for(let u=0;u<this.hashCount;u++){const d=this.we(a,o,u);if(!this.be(d))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new vm(u,o,n);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.pe===0)return;const n=f_(e),[a,o]=p_(n);for(let u=0;u<this.hashCount;u++){const d=this.we(a,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new jh(Ae.min(),o,new ot(Ie),er(),ke())}}class tu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new tu(a,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,a,o){this.De=e,this.removedTargetIds=n,this.key=a,this.ve=o}}class VT{constructor(e,n){this.targetId=e,this.Ce=n}}class PT{constructor(e,n,a=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class m_{constructor(){this.Fe=0,this.Me=g_(),this.xe=Ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),n=ke(),a=ke();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:_e(38017,{changeType:u})}}),new tu(this.xe,this.Oe,e,n,a)}Qe(){this.Ne=!1,this.Me=g_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Fe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class mI{constructor(e){this.ze=e,this.je=new Map,this.He=er(),this.Je=jc(),this.Ye=jc(),this.Ze=new ot(Ie)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const a=this.rt(n);switch(e.state){case 0:this.it(n)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,a=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Op(u))if(a===0){const d=new me(u.path);this.tt(n,d,Yt.newNoDocument(d,Ae.min()))}else Fe(a===1,20013,{expectedCount:a});else{const d=this.ut(n);if(d!==a){const p=this.ct(e),m=p?this.lt(p,e,d):1;if(m!==0){this.st(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=$r(a).toUint8Array()}catch(m){if(m instanceof sT)return eo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new vm(d,o,u)}catch(m){return eo(m instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.pe===0?null:p}lt(e,n,a){return n.Ce.count===a-this.Tt(e,n.targetId)?0:2}Tt(e,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,d)=>{const p=this._t(d);if(p){if(u.current&&Op(p.target)){const m=new me(p.target.path);this.Et(m).has(d)||this.dt(d,m)||this.tt(d,m,Yt.newNoDocument(m,e))}u.Le&&(n.set(d,u.qe()),u.Qe())}});let a=ke();this.Ye.forEach((u,d)=>{let p=!0;d.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(u))}),this.He.forEach((u,d)=>d.setReadTime(e));const o=new jh(e,n,this.Ze,this.He,a);return this.He=er(),this.Je=jc(),this.Ye=jc(),this.Ze=new ot(Ie),o}et(e,n){if(!this.it(e))return;const a=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),a&&(this.He=this.He.insert(n,a))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new m_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new xt(Ie),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new xt(Ie),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new m_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function jc(){return new ot(me.comparator)}function g_(){return new ot(me.comparator)}const gI={asc:"ASCENDING",desc:"DESCENDING"},yI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vI={and:"AND",or:"OR"};class _I{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vp(r,e){return r.useProto3Json||Nh(e)?e:{value:e}}function hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function EI(r,e){return hh(r,e.toTimestamp())}function gi(r){return Fe(!!r,49232),Ae.fromTimestamp(function(n){const a=Qr(n);return new Rt(a.seconds,a.nanos)}(r))}function _m(r,e){return Pp(r,e).canonicalString()}function Pp(r,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function LT(r){const e=nt.fromString(r);return Fe(HT(e),10190,{key:e.toString()}),e}function jp(r,e){return _m(r.databaseId,e.path)}function cp(r,e){const n=LT(e);if(n.get(1)!==r.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(zT(n))}function UT(r,e){return _m(r.databaseId,e)}function TI(r){const e=LT(r);return e.length===4?nt.emptyPath():zT(e)}function Lp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zT(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function y_(r,e,n){return{name:jp(r,e),fields:n.value.mapValue.fields}}function bI(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(Fe(T===void 0||typeof T=="string",58123),Ht.fromBase64String(T||"")):(Fe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ht.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(g){const T=g.code===void 0?te.UNKNOWN:kT(g.code);return new de(T,g.message||"")}(d);n=new PT(a,o,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=cp(r,a.document.name),u=gi(a.document.updateTime),d=a.document.createTime?gi(a.document.createTime):Ae.min(),p=new sn({mapValue:{fields:a.document.fields}}),m=Yt.newFoundDocument(o,u,d,p),g=a.targetIds||[],T=a.removedTargetIds||[];n=new Kc(g,T,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=cp(r,a.document),u=a.readTime?gi(a.readTime):Ae.min(),d=Yt.newNoDocument(o,u),p=a.removedTargetIds||[];n=new Kc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=cp(r,a.document),u=a.removedTargetIds||[];n=new Kc([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new dI(o,u),p=a.targetId;n=new VT(p,d)}}return n}function SI(r,e){let n;if(e instanceof eu)n={update:y_(r,e.key,e.value)};else if(e instanceof gm)n={delete:jp(r,e.key)};else if(e instanceof Jr)n={update:y_(r,e.key,e.data),updateMask:OI(e.fieldMask)};else{if(!(e instanceof uI))return _e(16599,{ft:e.type});n={verify:jp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,d){const p=d.transform;if(p instanceof uh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof $l)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:d.field.canonicalString(),increment:p.Re};throw _e(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:EI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)}(r,e.precondition)),n}function AI(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map(n=>function(o,u){let d=o.updateTime?gi(o.updateTime):gi(u);return d.isEqual(Ae.min())&&(d=gi(u)),new sI(d,o.transformResults||[])}(n,e))):[]}function wI(r,e){return{documents:[UT(r,e.path)]}}function RI(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=UT(r,o);const u=function(g){if(g.length!==0)return qT($n.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(g){if(g.length!==0)return g.map(T=>function(b){return{field:$s(b.field),direction:CI(b.dir)}}(T))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Vp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function xI(r){let e=TI(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Fe(a===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(A){const b=BT(A);return b instanceof $n&&gT(b)?b.getFilters():[b]}(n.where));let d=[];n.orderBy&&(d=function(A){return A.map(b=>function(M){return new lh(Ks(M.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(b))}(n.orderBy));let p=null;n.limit&&(p=function(A){let b;return b=typeof A=="object"?A.value:A,Nh(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(A){const b=!!A.before,O=A.values||[];return new oh(O,b)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const b=!A.before,O=A.values||[];return new oh(O,b)}(n.endAt)),$x(e,o,d,u,p,"F",m,g)}function II(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Ks(n.unaryFilter.field);return Et.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ks(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ks(n.unaryFilter.field);return Et.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ks(n.unaryFilter.field);return Et.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(r):r.fieldFilter!==void 0?function(n){return Et.create(Ks(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(a=>BT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(r):_e(30097,{filter:r})}function CI(r){return gI[r]}function DI(r){return yI[r]}function NI(r){return vI[r]}function $s(r){return{fieldPath:r.canonicalString()}}function Ks(r){return qt.fromServerFormat(r.fieldPath)}function qT(r){return r instanceof Et?function(n){if(n.op==="=="){if(r_(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NAN"}};if(i_(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r_(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NAN"}};if(i_(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(n.field),op:DI(n.op),value:n.value}}}(r):r instanceof $n?function(n){const a=n.getFilters().map(o=>qT(o));return a.length===1?a[0]:{compositeFilter:{op:NI(n.op),filters:a}}}(r):_e(54877,{filter:r})}function OI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,a,o,u=Ae.min(),d=Ae.min(),p=Ht.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.wt=e}}function kI(r){const e=xI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.Cn=new PI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Gr.min())}updateCollectionGroup(e,n,a){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class PI{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new xt(nt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new xt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FT=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(FT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ro(0)}static lr(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LruGarbageCollector",jI=1048576;function E_([r,e],[n,a]){const o=Ie(r,n);return o===0?Ie(e,a):o}class LI{constructor(e){this.Er=e,this.buffer=new xt(E_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();E_(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UI{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(__,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mo(n)?ce(__,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.mr(3e5)})}}class zI{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Dh.le);const a=new LI(n);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.gr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(v_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let a,o,u,d,p,m,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(a=A,p=Date.now(),this.removeTargets(e,a,n))).next(A=>(u=A,m=Date.now(),this.removeOrphanedDocuments(e,a))).next(A=>(g=Date.now(),Gs()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${A} documents in `+(g-m)+`ms
Total Duration: ${g-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function BI(r,e){return new zI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ee.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Ll(a.mutation,o,vn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,ke()).next(()=>a))}getLocalViewOfDocuments(e,n,a=ke()){const o=La();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let d=Ol();return u.forEach((p,m)=>{d=d.insert(p,m.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const a=La();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,ke()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,p)=>{n.set(d,p)})})}computeViews(e,n,a,o){let u=er();const d=jl(),p=function(){return jl()}();return n.forEach((m,g)=>{const T=a.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Jr)?u=u.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),Ll(T.mutation,g,T.mutation.getFieldMask(),Rt.now())):d.set(g.key,vn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,T)=>d.set(g,T)),n.forEach((g,T)=>{var A;return p.set(g,new HI(T,(A=d.get(g))!==null&&A!==void 0?A:null))}),p))}recalculateAndSaveOverlays(e,n){const a=jl();let o=new ot((d,p)=>d-p),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const p of d)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let T=a.get(m)||vn.empty();T=p.applyToLocalView(g,T),a.set(m,T);const A=(o.get(p.batchId)||ke()).add(m);o=o.insert(p.batchId,A)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,T=m.value,A=RT();T.forEach(b=>{if(!u.has(b)){const O=OT(n.get(b),a.get(b));O!==null&&A.set(b,O),u=u.add(b)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ee.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(d){return me.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ee.resolve(La());let p=Hl,m=u;return d.next(g=>ee.forEach(g,(T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next(b=>{m=m.insert(T,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,ke())).next(T=>({batchId:p,changes:wT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(a=>{let o=Ol();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let d=Ol();return this.indexManager.getCollectionParents(e,u).next(p=>ee.forEach(p,m=>{const g=function(A,b){return new Jl(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(T=>{T.forEach((A,b)=>{d=d.insert(A,b)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(d=>{u.forEach((m,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,Yt.newInvalidDocument(T)))});let p=Ol();return d.forEach((m,g)=>{const T=u.get(m);T!==void 0&&Ll(T.mutation,g,vn.empty(),Rt.now()),kh(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ee.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:kI(o.bundledQuery),readTime:gi(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.overlays=new ot(me.comparator),this.Qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const a=La();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(a)),ee.resolve()}getOverlaysForCollection(e,n,a){const o=La(),u=n.length+1,d=new me(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new ot((g,T)=>g-T);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let T=u.get(g.largestBatchId);T===null&&(T=La(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=La(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,T)=>p.set(g,T)),!(p.size()>=o)););return ee.resolve(p)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new hI(n,a));let u=this.Qr.get(n);u===void 0&&(u=ke(),this.Qr.set(n,u)),this.Qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.$r=new xt(Vt.Ur),this.Kr=new xt(Vt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const a=new Vt(e,n);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.zr(new Vt(e,n))}jr(e,n){e.forEach(a=>this.removeReference(a,n))}Hr(e){const n=new me(new nt([])),a=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.Kr.forEachInRange([a,o],d=>{this.zr(d),u.push(d.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new me(new nt([])),a=new Vt(n,e),o=new Vt(n,e+1);let u=ke();return this.Kr.forEachInRange([a,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new Vt(e,0),a=this.$r.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Vt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return me.comparator(e.key,n.key)||Ie(e.Zr,n.Zr)}static Wr(e,n){return Ie(e.Zr,n.Zr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new xt(Vt.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new cI(u,n,a,o);this.mutationQueue.push(d);for(const p of o)this.Xr=this.Xr.add(new Vt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,n){return ee.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ti(a),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?cm:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([a,o],d=>{const p=this.ei(d.Zr);u.push(p)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new xt(Ie);return n.forEach(o=>{const u=new Vt(o,0),d=new Vt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,d],p=>{a=a.add(p.Zr)})}),ee.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;me.isDocumentKey(u)||(u=u.child(""));const d=new Vt(new me(u),0);let p=new xt(Ie);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Zr)),!0)},d),ee.resolve(this.ni(p))}ni(e){const n=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return ee.forEach(n.mutations,o=>{const u=new Vt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,n){const a=new Vt(n,0),o=this.Xr.firstAfterOrEqual(a);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.ii=e,this.docs=function(){return new ot(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,d=this.ii(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ee.resolve(a?a.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let a=er();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Yt.newInvalidDocument(o))}),ee.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=er();const d=n.path,p=new me(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:T}}=m.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||wx(Ax(T),a)<=0||(o.has(T.key)||kh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,a,o){_e(9500)}si(e,n){return ee.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new XI(this)}getSize(e){return ee.resolve(this.size)}}class XI extends qI{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),ee.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.persistence=e,this.oi=new Xa(n=>fm(n),pm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this._i=0,this.ai=new Em,this.targetCount=0,this.ui=ro.cr()}forEachTarget(e,n){return this.oi.forEach((a,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this._i&&(this._i=n),ee.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new ro(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Tr(n),ee.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.oi.forEach((d,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const a=this.oi.get(n)||null;return ee.resolve(a)}addMatchingKeys(e,n,a){return this.ai.Gr(n,a),ee.resolve()}removeMatchingKeys(e,n,a){this.ai.jr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const a=this.ai.Yr(n);return ee.resolve(a)}containsKey(e,n){return ee.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.ci={},this.overlays={},this.li=new Dh(0),this.hi=!1,this.hi=!0,this.Pi=new $I,this.referenceDelegate=e(this),this.Ti=new WI(this),this.indexManager=new VI,this.remoteDocumentCache=function(o){return new YI(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new MI(n),this.Ei=new GI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ci[e.toKey()];return a||(a=new KI(n,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,a){ce("MemoryPersistence","Starting transaction:",e);const o=new ZI(this.li.next());return this.referenceDelegate.di(),a(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ee.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,n)))}}class ZI extends xx{constructor(e){super(),this.currentSequenceNumber=e}}class Tm{constructor(e){this.persistence=e,this.Vi=new Em,this.mi=null}static fi(e){return new Tm(e)}get gi(){if(this.mi)return this.mi;throw _e(60996)}addReference(e,n,a){return this.Vi.addReference(a,n),this.gi.delete(a.toString()),ee.resolve()}removeReference(e,n,a){return this.Vi.removeReference(a,n),this.gi.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,a=>{const o=me.fromPath(a);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(a=>{a?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ee.or([()=>ee.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.yi=new Xa(a=>Dx(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=BI(this,n)}static fi(e,n){return new dh(e,n)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}br(e){let n=0;return this.yr(e,a=>{n++}).next(()=>n)}yr(e,n){return ee.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,n).next(p=>{p||(a++,u.removeEntry(d,Ae.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gc(e.data.value)),n}Dr(e,n,a){return ee.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.ds=a,this.As=o}static Rs(e,n){let a=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bm(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Kw()?8:Ix(Xt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ws(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.bs(e,n,o,a).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new JI;return this.Ss(e,n,d).next(p=>{if(u.result=p,this.fs)return this.Ds(e,n,d,p.size)})}).next(()=>u.result)}Ds(e,n,a,o){return a.documentReadCount<this.gs?(Gs()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(Gs()<=Me.DEBUG&&ce("QueryEngine","Query:",Qs(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(Gs()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):ee.resolve())}ws(e,n){if(l_(n))return ee.resolve(null);let a=mi(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=kp(n,null,"F"),a=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const d=ke(...u);return this.ys.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(m=>{const g=this.vs(n,p);return this.Cs(n,g,d,m.readTime)?this.ws(e,kp(n,null,"F")):this.Fs(e,g,n,m)}))})))}bs(e,n,a,o){return l_(n)||o.isEqual(Ae.min())?ee.resolve(null):this.ys.getDocuments(e,a).next(u=>{const d=this.vs(n,u);return this.Cs(n,d,a,o)?ee.resolve(null):(Gs()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qs(n)),this.Fs(e,d,n,Sx(o,Hl)).next(p=>p))})}vs(e,n){let a=new xt(ST(e));return n.forEach((o,u)=>{kh(e,u)&&(a=a.add(u))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Gs()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.ys.getDocumentsMatchingQuery(e,n,Gr.min(),a)}Fs(e,n,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="LocalStore",tC=3e8;class nC{constructor(e,n,a,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ot(Ie),this.Os=new Xa(u=>fm(u),pm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function iC(r,e,n,a){return new nC(r,e,n,a)}async function QT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const d=[],p=[];let m=ke();for(const g of o){d.push(g.batchId);for(const T of g.mutations)m=m.add(T.key)}for(const g of u){p.push(g.batchId);for(const T of g.mutations)m=m.add(T.key)}return n.localDocuments.getDocuments(a,m).next(g=>({ks:g,removedBatchIds:d,addedBatchIds:p}))})})}function rC(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(p,m,g,T){const A=g.batch,b=A.keys();let O=ee.resolve();return b.forEach(M=>{O=O.next(()=>T.getEntry(m,M)).next(H=>{const L=g.docVersions.get(M);Fe(L!==null,48541),H.version.compareTo(L)<0&&(A.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),T.addEntry(H)))})}),O.next(()=>p.mutationQueue.removeMutationBatch(m,A))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let m=ke();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function $T(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function aC(r,e){const n=we(r),a=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const p=[];e.targetChanges.forEach((T,A)=>{const b=o.get(A);if(!b)return;p.push(n.Ti.removeMatchingKeys(u,T.removedDocuments,A).next(()=>n.Ti.addMatchingKeys(u,T.addedDocuments,A)));let O=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?O=O.withResumeToken(Ht.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,a)),o=o.insert(A,O),function(H,L,Y){return H.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=tC?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(b,O,T)&&p.push(n.Ti.updateTargetData(u,O))});let m=er(),g=ke();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),p.push(sC(u,d,e.documentUpdates).next(T=>{m=T.qs,g=T.Qs})),!a.isEqual(Ae.min())){const T=n.Ti.getLastRemoteSnapshotVersion(u).next(A=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,a));p.push(T)}return ee.waitFor(p).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.xs=o,u))}function sC(r,e,n){let a=ke(),o=ke();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let d=er();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):ce(Sm,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{qs:d,Qs:o}})}function oC(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=cm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function lC(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Ti.getTargetData(a,e).next(u=>u?(o=u,ee.resolve(o)):n.Ti.allocateTargetId(a).next(d=>(o=new Lr(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(a.targetId,a),n.Os.set(e,a.targetId)),a})}async function Up(r,e,n){const a=we(r),o=a.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!mo(d))throw d;ce(Sm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function T_(r,e,n){const a=we(r);let o=Ae.min(),u=ke();return a.persistence.runTransaction("Execute query","readwrite",d=>function(m,g,T){const A=we(m),b=A.Os.get(T);return b!==void 0?ee.resolve(A.xs.get(b)):A.Ti.getTargetData(g,T)}(a,d,mi(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,p.targetId).next(m=>{u=m})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,n?o:Ae.min(),n?u:ke())).next(p=>(uC(a,Yx(e),p),{documents:p,$s:u})))}function uC(r,e,n){let a=r.Ns.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Ns.set(e,a)}class b_{constructor(){this.activeTargetIds=tI()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cC{constructor(){this.xo=new b_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,a){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new b_,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="ConnectivityMonitor";class A_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(S_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(S_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function zp(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="RestConnection",dC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fC{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===ah?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,n,a,o,u){const d=zp(),p=this.jo(e,n.toUriEncodedString());ce(hp,`Sending RPC '${e}' ${d}:`,p,a);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,u);const{host:g}=new URL(p),T=Ka(g);return this.Jo(e,p,m,a,T).then(A=>(ce(hp,`Received RPC '${e}' ${d}: `,A),A),A=>{throw eo(hp,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A})}Yo(e,n,a,o,u,d){return this.zo(e,n,a,o,u)}Ho(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const a=dC[e];return`${this.Ko}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class mC extends fC{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const d=zp();return new Promise((p,m)=>{const g=new YE;g.setWithCredentials(!0),g.listenOnce(XE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Fc.NO_ERROR:const A=g.getResponseJson();ce($t,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Fc.TIMEOUT:ce($t,`RPC '${e}' ${d} timed out`),m(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const b=g.getStatus();if(ce($t,`RPC '${e}' ${d} failed with status:`,b,"response text:",g.getResponseText()),b>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const M=O==null?void 0:O.error;if(M&&M.status&&M.message){const H=function(Y){const U=Y.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(U)>=0?U:te.UNKNOWN}(M.status);m(new de(H,M.message))}else m(new de(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new de(te.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{h_:e,streamId:d,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ce($t,`RPC '${e}' ${d} completed.`)}});const T=JSON.stringify(o);ce($t,`RPC '${e}' ${d} sending request:`,o),g.send(n,"POST",T,a,15)})}I_(e,n,a){const o=zp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=JE(),p=ZE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const T=u.join("");ce($t,`Creating RPC '${e}' stream ${o}: ${T}`,m);const A=d.createWebChannel(T,m);this.E_(A);let b=!1,O=!1;const M=new pC({Zo:L=>{O?ce($t,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(b||(ce($t,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),ce($t,`RPC '${e}' stream ${o} sending:`,L),A.send(L))},Xo:()=>A.close()}),H=(L,Y,U)=>{L.listen(Y,ne=>{try{U(ne)}catch(ie){setTimeout(()=>{throw ie},0)}})};return H(A,Nl.EventType.OPEN,()=>{O||(ce($t,`RPC '${e}' stream ${o} transport opened.`),M.__())}),H(A,Nl.EventType.CLOSE,()=>{O||(O=!0,ce($t,`RPC '${e}' stream ${o} transport closed`),M.u_(),this.d_(A))}),H(A,Nl.EventType.ERROR,L=>{O||(O=!0,eo($t,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),M.u_(new de(te.UNAVAILABLE,"The operation could not be completed")))}),H(A,Nl.EventType.MESSAGE,L=>{var Y;if(!O){const U=L.data[0];Fe(!!U,16349);const ne=U,ie=(ne==null?void 0:ne.error)||((Y=ne[0])===null||Y===void 0?void 0:Y.error);if(ie){ce($t,`RPC '${e}' stream ${o} received error:`,ie);const ue=ie.status;let Ee=function(x){const V=_t[x];if(V!==void 0)return kT(V)}(ue),j=ie.message;Ee===void 0&&(Ee=te.INTERNAL,j="Unknown error status: "+ue+" with message "+ie.message),O=!0,M.u_(new de(Ee,j)),A.close()}else ce($t,`RPC '${e}' stream ${o} received:`,U),M.c_(U)}}),H(p,WE.STAT_EVENT,L=>{L.stat===xp.PROXY?ce($t,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===xp.NOPROXY&&ce($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.a_()},0),M}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(r){return new _I(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=a,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class YT{constructor(e,n,a,o,u,d,p,m){this.xi=e,this.S_=a,this.D_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new KT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===n&&this.z_(a,o)},a=>{e(()=>{const o=new de(te.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(e,n){const a=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ce(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ce(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gC extends YT{constructor(e,n,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=bI(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ae.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?gi(d.readTime):Ae.min()}(e);return this.listener.Y_(n,a)}Z_(e){const n={};n.database=Lp(this.serializer),n.addTarget=function(u,d){let p;const m=d.target;if(p=Op(m)?{documents:wI(u,m)}:{query:RI(u,m).gt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=jT(u,d.resumeToken);const g=Vp(u,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=hh(u,d.snapshotVersion.toTimestamp());const g=Vp(u,d.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const a=II(this.serializer,e);a&&(n.labels=a),this.Q_(n)}X_(e){const n={};n.database=Lp(this.serializer),n.removeTarget=e,this.Q_(n)}}class yC extends YT{constructor(e,n,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=AI(e.writeResults,e.commitTime),a=gi(e.commitTime);return this.listener.ra(a,n)}ia(){const e={};e.database=Lp(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>SI(this.serializer,a))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{}class _C extends vC{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.zo(e,Pp(n,a),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(te.UNKNOWN,u.toString())})}Yo(e,n,a,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Yo(e,Pp(n,a),o,d,p,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(te.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class EC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ji(n),this.ua=!1):ce("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="RemoteStore";class TC{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(d=>{a.enqueueAndForget(async()=>{Wa(this)&&(ce(qa,"Restarting streams for network reachability change."),await async function(m){const g=we(m);g.da.add(4),await nu(g),g.Va.set("Unknown"),g.da.delete(4),await Uh(g)}(this))})}),this.Va=new EC(a,o)}}async function Uh(r){if(Wa(r))for(const e of r.Aa)await e(!0)}async function nu(r){for(const e of r.Aa)await e(!1)}function XT(r,e){const n=we(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),xm(n)?Rm(n):go(n).N_()&&wm(n,e))}function Am(r,e){const n=we(r),a=go(n);n.Ea.delete(e),a.N_()&&WT(n,e),n.Ea.size===0&&(a.N_()?a.k_():Wa(n)&&n.Va.set("Unknown"))}function wm(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}go(r).Z_(e)}function WT(r,e){r.ma.Ke(e),go(r).X_(e)}function Rm(r){r.ma=new mI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Va.ca()}function xm(r){return Wa(r)&&!go(r).O_()&&r.Ea.size>0}function Wa(r){return we(r).da.size===0}function ZT(r){r.ma=void 0}async function bC(r){r.Va.set("Online")}async function SC(r){r.Ea.forEach((e,n)=>{wm(r,e)})}async function AC(r,e){ZT(r),xm(r)?(r.Va.Pa(e),Rm(r)):r.Va.set("Unknown")}async function wC(r,e,n){if(r.Va.set("Online"),e instanceof PT&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Ea.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ea.delete(p),o.ma.removeTarget(p))}(r,e)}catch(a){ce(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await fh(r,a)}else if(e instanceof Kc?r.ma.Xe(e):e instanceof VT?r.ma.ot(e):r.ma.nt(e),!n.isEqual(Ae.min()))try{const a=await $T(r.localStore);n.compareTo(a)>=0&&await function(u,d){const p=u.ma.It(d);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const T=u.Ea.get(g);T&&u.Ea.set(g,T.withResumeToken(m.resumeToken,d))}}),p.targetMismatches.forEach((m,g)=>{const T=u.Ea.get(m);if(!T)return;u.Ea.set(m,T.withResumeToken(Ht.EMPTY_BYTE_STRING,T.snapshotVersion)),WT(u,m);const A=new Lr(T.target,m,g,T.sequenceNumber);wm(u,A)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(a){ce(qa,"Failed to raise snapshot:",a),await fh(r,a)}}async function fh(r,e,n){if(!mo(e))throw e;r.da.add(1),await nu(r),r.Va.set("Offline"),n||(n=()=>$T(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(qa,"Retrying IndexedDB access"),await n(),r.da.delete(1),await Uh(r)})}function JT(r,e){return e().catch(n=>fh(r,n,e))}async function zh(r){const e=we(r),n=Yr(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:cm;for(;RC(e);)try{const o=await oC(e.localStore,a);if(o===null){e.Ia.length===0&&n.k_();break}a=o.batchId,xC(e,o)}catch(o){await fh(e,o)}eb(e)&&tb(e)}function RC(r){return Wa(r)&&r.Ia.length<10}function xC(r,e){r.Ia.push(e);const n=Yr(r);n.N_()&&n.ea&&n.ta(e.mutations)}function eb(r){return Wa(r)&&!Yr(r).O_()&&r.Ia.length>0}function tb(r){Yr(r).start()}async function IC(r){Yr(r).ia()}async function CC(r){const e=Yr(r);for(const n of r.Ia)e.ta(n.mutations)}async function DC(r,e,n){const a=r.Ia.shift(),o=ym.from(a,e,n);await JT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await zh(r)}async function NC(r,e){e&&Yr(r).ea&&await async function(a,o){if(function(d){return fI(d)&&d!==te.ABORTED}(o.code)){const u=a.Ia.shift();Yr(a).L_(),await JT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await zh(a)}}(r,e),eb(r)&&tb(r)}async function R_(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(qa,"RemoteStore received new credentials");const a=Wa(n);n.da.add(3),await nu(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Uh(n)}async function OC(r,e){const n=we(r);e?(n.da.delete(2),await Uh(n)):e||(n.da.add(2),await nu(n),n.Va.set("Unknown"))}function go(r){return r.fa||(r.fa=function(n,a,o){const u=we(n);return u.oa(),new gC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:bC.bind(null,r),n_:SC.bind(null,r),i_:AC.bind(null,r),Y_:wC.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),xm(r)?Rm(r):r.Va.set("Unknown")):(await r.fa.stop(),ZT(r))})),r.fa}function Yr(r){return r.ga||(r.ga=function(n,a,o){const u=we(n);return u.oa(),new yC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:IC.bind(null,r),i_:NC.bind(null,r),na:CC.bind(null,r),ra:DC.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await zh(r)):(await r.ga.stop(),r.Ia.length>0&&(ce(qa,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const d=Date.now()+a,p=new Im(e,n,d,o,u);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(r,e){if(Ji("AsyncQueue",`${e}: ${r}`),mo(r))return new de(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{static emptySet(e){return new Xs(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||me.comparator(n.key,a.key):(n,a)=>me.comparator(n.key,a.key),this.keyedMap=Ol(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Xs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.pa=new ot(me.comparator)}track(e){const n=e.doc.key,a=this.pa.get(n);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(n,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(n):e.type===1&&a.type===2?this.pa=this.pa.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,a)=>{e.push(a)}),e}}class ao{constructor(e,n,a,o,u,d,p,m,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const d=[];return n.forEach(p=>{d.push({type:0,doc:p})}),new ao(e,n,Xs.emptySet(n),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class kC{constructor(){this.queries=I_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=we(n),u=o.queries;o.queries=I_(),u.forEach((d,p)=>{for(const m of p.Sa)m.onError(a)})})(this,new de(te.ABORTED,"Firestore shutting down"))}}function I_(){return new Xa(r=>bT(r),Mh)}async function VC(r,e){const n=we(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(a=2):(u=new MC,a=e.va()?0:1);try{switch(a){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Cm(d,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&Dm(n)}async function PC(r,e){const n=we(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function jC(r,e){const n=we(r);let a=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Ma(o)&&(a=!0);d.ba=o}}a&&Dm(n)}function LC(r,e,n){const a=we(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function Dm(r){r.Ca.forEach(e=>{e.next()})}var Bp,C_;(C_=Bp||(Bp={})).xa="default",C_.Cache="cache";class UC{constructor(e,n,a){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ao(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const a=n!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.key=e}}class ib{constructor(e){this.key=e}}class zC{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.Za=ST(e),this.Xa=new Xs(this.Za)}get eu(){return this.Ha}tu(e,n){const a=n?n.nu:new x_,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,A)=>{const b=o.get(T),O=kh(this.query,A)?A:null,M=!!b&&this.mutatedKeys.has(b.key),H=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;b&&O?b.data.isEqual(O.data)?M!==H&&(a.track({type:3,doc:O}),L=!0):this.ru(b,O)||(a.track({type:2,doc:O}),L=!0,(m&&this.Za(O,m)>0||g&&this.Za(O,g)<0)&&(p=!0)):!b&&O?(a.track({type:0,doc:O}),L=!0):b&&!O&&(a.track({type:1,doc:b}),L=!0,(m||g)&&(p=!0)),L&&(O?(d=d.add(O),u=H?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{Xa:d,nu:a,Cs:p,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((T,A)=>function(O,M){const H=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:L})}};return H(O)-H(M)}(T.type,A.type)||this.Za(T.doc,A.doc)),this.iu(a),o=o!=null&&o;const p=n&&!o?this.su():[],m=this.Ya.size===0&&this.current&&!o?1:0,g=m!==this.Ja;return this.Ja=m,d.length!==0||g?{snapshot:new ao(this.query,e.Xa,u,d,e.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:p}:{ou:p}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new x_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const n=[];return e.forEach(a=>{this.Ya.has(a)||n.push(new ib(a))}),this.Ya.forEach(a=>{e.has(a)||n.push(new nb(a))}),n}au(e){this.Ha=e.$s,this.Ya=ke();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ao.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Nm="SyncEngine";class BC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class qC{constructor(e){this.key=e,this.cu=!1}}class HC{constructor(e,n,a,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Xa(p=>bT(p),Mh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ot(me.comparator),this.Eu=new Map,this.du=new Em,this.Au={},this.Ru=new Map,this.Vu=ro.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function FC(r,e,n=!0){const a=ub(r);let o;const u=a.hu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await rb(a,e,n,!0),o}async function GC(r,e){const n=ub(r);await rb(n,e,!0,!1)}async function rb(r,e,n,a){const o=await lC(r.localStore,mi(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return a&&(p=await QC(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&XT(r.remoteStore,o),p}async function QC(r,e,n,a,o){r.fu=(A,b,O)=>async function(H,L,Y,U){let ne=L.view.tu(Y);ne.Cs&&(ne=await T_(H.localStore,L.query,!1).then(({documents:j})=>L.view.tu(j,ne)));const ie=U&&U.targetChanges.get(L.targetId),ue=U&&U.targetMismatches.get(L.targetId)!=null,Ee=L.view.applyChanges(ne,H.isPrimaryClient,ie,ue);return N_(H,L.targetId,Ee.ou),Ee.snapshot}(r,A,b,O);const u=await T_(r.localStore,e,!0),d=new zC(e,u.$s),p=d.tu(u.documents),m=tu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=d.applyChanges(p,r.isPrimaryClient,m);N_(r,n,g.ou);const T=new BC(e,n,d);return r.hu.set(e,T),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),g.snapshot}async function $C(r,e,n){const a=we(r),o=a.hu.get(e),u=a.Pu.get(o.targetId);if(u.length>1)return a.Pu.set(o.targetId,u.filter(d=>!Mh(d,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Up(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Am(a.remoteStore,o.targetId),qp(a,o.targetId)}).catch(po)):(qp(a,o.targetId),await Up(a.localStore,o.targetId,!0))}async function KC(r,e){const n=we(r),a=n.hu.get(e),o=n.Pu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Am(n.remoteStore,a.targetId))}async function YC(r,e,n){const a=n2(r);try{const o=await function(d,p){const m=we(d),g=Rt.now(),T=p.reduce((O,M)=>O.add(M.key),ke());let A,b;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=er(),H=ke();return m.Bs.getEntries(O,T).next(L=>{M=L,M.forEach((Y,U)=>{U.isValidDocument()||(H=H.add(Y))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,M)).next(L=>{A=L;const Y=[];for(const U of p){const ne=lI(U,A.get(U.key).overlayedDocument);ne!=null&&Y.push(new Jr(U.key,ne,fT(ne.value.mapValue),Fn.exists(!0)))}return m.mutationQueue.addMutationBatch(O,g,Y,p)}).next(L=>{b=L;const Y=L.applyToLocalDocumentSet(A,H);return m.documentOverlayCache.saveOverlays(O,L.batchId,Y)})}).then(()=>({batchId:b.batchId,changes:wT(A)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,p,m){let g=d.Au[d.currentUser.toKey()];g||(g=new ot(Ie)),g=g.insert(p,m),d.Au[d.currentUser.toKey()]=g}(a,o.batchId,n),await iu(a,o.changes),await zh(a.remoteStore)}catch(o){const u=Cm(o,"Failed to persist write");n.reject(u)}}async function ab(r,e){const n=we(r);try{const a=await aC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const d=n.Eu.get(u);d&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.cu=!0:o.modifiedDocuments.size>0?Fe(d.cu,14607):o.removedDocuments.size>0&&(Fe(d.cu,42227),d.cu=!1))}),await iu(n,a,e)}catch(a){await po(a)}}function D_(r,e,n){const a=we(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.hu.forEach((u,d)=>{const p=d.view.Fa(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const m=we(d);m.onlineState=p;let g=!1;m.queries.forEach((T,A)=>{for(const b of A.Sa)b.Fa(p)&&(g=!0)}),g&&Dm(m)}(a.eventManager,e),o.length&&a.lu.Y_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function XC(r,e,n){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Eu.get(e),u=o&&o.key;if(u){let d=new ot(me.comparator);d=d.insert(u,Yt.newNoDocument(u,Ae.min()));const p=ke().add(u),m=new jh(Ae.min(),new Map,new ot(Ie),d,p);await ab(a,m),a.Iu=a.Iu.remove(u),a.Eu.delete(e),Om(a)}else await Up(a.localStore,e,!1).then(()=>qp(a,e,n)).catch(po)}async function WC(r,e){const n=we(r),a=e.batch.batchId;try{const o=await rC(n.localStore,e);ob(n,a,null),sb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await iu(n,o)}catch(o){await po(o)}}async function ZC(r,e,n){const a=we(r);try{const o=await function(d,p){const m=we(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return m.mutationQueue.lookupMutationBatch(g,p).next(A=>(Fe(A!==null,37113),T=A.keys(),m.mutationQueue.removeMutationBatch(g,A))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,T,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>m.localDocuments.getDocuments(g,T))})}(a.localStore,e);ob(a,e,n),sb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await iu(a,o)}catch(o){await po(o)}}function sb(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function ob(r,e,n){const a=we(r);let o=a.Au[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Au[a.currentUser.toKey()]=o}}function qp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Pu.get(e))r.hu.delete(a),n&&r.lu.gu(a,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(a=>{r.du.containsKey(a)||lb(r,a)})}function lb(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(Am(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),Om(r))}function N_(r,e,n){for(const a of n)a instanceof nb?(r.du.addReference(a.key,e),JC(r,a)):a instanceof ib?(ce(Nm,"Document no longer in limbo: "+a.key),r.du.removeReference(a.key,e),r.du.containsKey(a.key)||lb(r,a.key)):_e(19791,{pu:a})}function JC(r,e){const n=e.key,a=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(a)||(ce(Nm,"New document in limbo: "+n),r.Tu.add(a),Om(r))}function Om(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new me(nt.fromString(e)),a=r.Vu.next();r.Eu.set(a,new qC(n)),r.Iu=r.Iu.insert(n,a),XT(r.remoteStore,new Lr(mi(ET(n.path)),a,"TargetPurposeLimboResolution",Dh.le))}}async function iu(r,e,n){const a=we(r),o=[],u=[],d=[];a.hu.isEmpty()||(a.hu.forEach((p,m)=>{d.push(a.fu(m,e,n).then(g=>{var T;if((g||n)&&a.isPrimaryClient){const A=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(m.targetId))===null||T===void 0?void 0:T.current;a.sharedClientState.updateQueryState(m.targetId,A?"current":"not-current")}if(g){o.push(g);const A=bm.Rs(m.targetId,g);u.push(A)}}))}),await Promise.all(d),a.lu.Y_(o),await async function(m,g){const T=we(m);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(g,b=>ee.forEach(b.ds,O=>T.persistence.referenceDelegate.addReference(A,b.targetId,O)).next(()=>ee.forEach(b.As,O=>T.persistence.referenceDelegate.removeReference(A,b.targetId,O)))))}catch(A){if(!mo(A))throw A;ce(Sm,"Failed to update sequence numbers: "+A)}for(const A of g){const b=A.targetId;if(!A.fromCache){const O=T.xs.get(b),M=O.snapshotVersion,H=O.withLastLimboFreeSnapshotVersion(M);T.xs=T.xs.insert(b,H)}}}(a.localStore,u))}async function e2(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(Nm,"User change. New user:",e.toKey());const a=await QT(n.localStore,e);n.currentUser=e,function(u,d){u.Ru.forEach(p=>{p.forEach(m=>{m.reject(new de(te.CANCELLED,d))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await iu(n,a.ks)}}function t2(r,e){const n=we(r),a=n.Eu.get(e);if(a&&a.cu)return ke().add(a.key);{let o=ke();const u=n.Pu.get(e);if(!u)return o;for(const d of u){const p=n.hu.get(d);o=o.unionWith(p.view.eu)}return o}}function ub(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ab.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XC.bind(null,e),e.lu.Y_=jC.bind(null,e.eventManager),e.lu.gu=LC.bind(null,e.eventManager),e}function n2(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZC.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return iC(this.persistence,new eC,e.initialUser,this.serializer)}Su(e){return new GT(Tm.fi,this.serializer)}bu(e){return new cC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class i2 extends ph{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Fe(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new UI(a,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new GT(a=>dh.fi(a,n),this.serializer)}}class Hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>D_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=e2.bind(null,this.syncEngine),await OC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kC}()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),a=function(u){return new mC(u)}(e.databaseInfo);return function(u,d,p,m){return new _C(u,d,p,m)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,d,p){return new TC(a,o,u,d,p)}(this.localStore,this.datastore,e.asyncQueue,n=>D_(this.syncEngine,n,0),function(){return A_.C()?new A_:new hC}())}createSyncEngine(e,n){return function(o,u,d,p,m,g,T){const A=new HC(o,u,d,p,m,g);return T&&(A.mu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);ce(qa,"RemoteStore shutting down."),u.da.add(5),await nu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hp.provider={build:()=>new Hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class a2{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=iT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async d=>{ce(Xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(ce(Xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Cm(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function fp(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Xr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await QT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function O_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await s2(r);ce(Xr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>R_(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>R_(e.remoteStore,o)),r._onlineComponents=e}async function s2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Xr,"Using user provided OfflineComponentProvider");try{await fp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await fp(r,new ph)}}else ce(Xr,"Using default OfflineComponentProvider"),await fp(r,new i2(void 0));return r._offlineComponents}async function cb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Xr,"Using user provided OnlineComponentProvider"),await O_(r,r._uninitializedComponentsProvider._online)):(ce(Xr,"Using default OnlineComponentProvider"),await O_(r,new Hp))),r._onlineComponents}function o2(r){return cb(r).then(e=>e.syncEngine)}async function l2(r){const e=await cb(r),n=e.eventManager;return n.onListen=FC.bind(null,e.syncEngine),n.onUnlisten=$C.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KC.bind(null,e.syncEngine),n}function u2(r,e,n={}){const a=new qr;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,p,m,g){const T=new r2({next:b=>{T.xu(),d.enqueueAndForget(()=>PC(u,A)),b.fromCache&&m.source==="server"?g.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new UC(p,T,{includeMetadataChanges:!0,Qa:!0});return VC(u,A)}(await l2(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function c2(r,e,n,a){if(e===!0&&a===!0)throw new de(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function k_(r){if(!me.isDocumentKey(r))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function V_(r){if(me.isDocumentKey(r))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Bh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function Ha(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(r);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="firestore.googleapis.com",P_=!0;class j_{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fb,this.ssl=P_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:P_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jI)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hb((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new px;switch(a.type){case"firstParty":return new vx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=M_.get(n);a&&(ce("ComponentProvider","Removing Datastore"),M_.delete(n),a.terminate())}(this),Promise.resolve()}}function h2(r,e,n,a={}){var o;r=Ha(r,qh);const u=Ka(e),d=r._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u&&(sm(`https://${m}`),om("Firestore",!0)),d.host!==fb&&d.host!==m&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},d),{host:m,ssl:u,emulatorOptions:a});if(!Fr(g,p)&&(r._setSettings(g),a.mockUserToken)){let T,A;if(typeof a.mockUserToken=="string")T=a.mockUserToken,A=Kt.MOCK_USER;else{T=zw(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Kt(b)}r._authCredentials=new mx(new tT(T,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class _n{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Hr extends yo{constructor(e,n,a){super(e,n,ET(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new me(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function L_(r,e,...n){if(r=It(r),db("collection","path",e),r instanceof qh){const a=nt.fromString(e,...n);return V_(a),new Hr(r,null,a)}{if(!(r instanceof _n||r instanceof Hr))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(nt.fromString(e,...n));return V_(a),new Hr(r.firestore,null,a)}}function Fp(r,e,...n){if(r=It(r),arguments.length===1&&(e=iT.newId()),db("doc","path",e),r instanceof qh){const a=nt.fromString(e,...n);return k_(a),new _n(r,null,new me(a))}{if(!(r instanceof _n||r instanceof Hr))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(nt.fromString(e,...n));return k_(a),new _n(r.firestore,r instanceof Hr?r.converter:null,new me(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new KT(this,"async_queue_retry"),this.rc=()=>{const a=dp();a&&ce(U_,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const n=dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new qr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!mo(e))throw e;ce(U_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Ji("INTERNAL UNHANDLED ERROR: ",B_(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=n,n}enqueueAfterDelay(e,n,a){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Im.createAndSchedule(this,e,n,a,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&_e(47125,{cc:B_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function B_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ru extends qh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new z_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function d2(r,e){const n=typeof r=="object"?r:Ch(),a=typeof r=="string"?r:ah,o=Wr(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=PE("firestore");u&&h2(o,...u)}return o}function pb(r){if(r._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||f2(r),r._firestoreClient}function f2(r){var e,n,a;const o=r._freezeSettings(),u=function(p,m,g,T){return new Mx(p,m,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,hb(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new a2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(Ht.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new so(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=/^__.*__$/;class m2{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new eu(e,this.data,n,this.fieldTransforms)}}class mb{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ic:r})}}class Pm{constructor(e,n,a,o,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Pm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:a,Rc:!1});return o.Vc(e),o}mc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return mh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(gb(this.Ic)&&p2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class g2{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Lh(e)}bc(e,n,a,o=!1){return new Pm({Ic:e,methodName:n,wc:a,path:qt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jm(r){const e=r._freezeSettings(),n=Lh(r._databaseId);return new g2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function y2(r,e,n,a,o,u={}){const d=r.bc(u.merge||u.mergeFields?2:0,e,n,o);Lm("Data must be an object, but it was:",d,a);const p=yb(a,d);let m,g;if(u.merge)m=new vn(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const b=Gp(e,A,n);if(!d.contains(b))throw new de(te.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);_b(T,b)||T.push(b)}m=new vn(T),g=d.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,g=d.fieldTransforms;return new m2(new sn(p),m,g)}class Fh extends Mm{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}function v2(r,e,n,a){const o=r.bc(1,e,n);Lm("Data must be an object, but it was:",o,a);const u=[],d=sn.empty();Zr(a,(m,g)=>{const T=Um(e,m,n);g=It(g);const A=o.mc(T);if(g instanceof Fh)u.push(T);else{const b=au(g,A);b!=null&&(u.push(T),d.set(T,b))}});const p=new vn(u);return new mb(d,p,o.fieldTransforms)}function _2(r,e,n,a,o,u){const d=r.bc(1,e,n),p=[Gp(e,a,n)],m=[o];if(u.length%2!=0)throw new de(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)p.push(Gp(e,u[b])),m.push(u[b+1]);const g=[],T=sn.empty();for(let b=p.length-1;b>=0;--b)if(!_b(g,p[b])){const O=p[b];let M=m[b];M=It(M);const H=d.mc(O);if(M instanceof Fh)g.push(O);else{const L=au(M,H);L!=null&&(g.push(O),T.set(O,L))}}const A=new vn(g);return new mb(T,A,d.fieldTransforms)}function E2(r,e,n,a=!1){return au(n,r.bc(a?4:3,e))}function au(r,e){if(vb(r=It(r)))return Lm("Unsupported field value:",e,r),yb(r,e);if(r instanceof Mm)return function(a,o){if(!gb(o.Ic))throw o.gc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,o){const u=[];let d=0;for(const p of a){let m=au(p,o.fc(d));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),d++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=It(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return nI(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Rt.fromDate(a);return{timestampValue:hh(o.serializer,u)}}if(a instanceof Rt){const u=new Rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:hh(o.serializer,u)}}if(a instanceof km)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof so)return{bytesValue:jT(o.serializer,a._byteString)};if(a instanceof _n){const u=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw o.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_m(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Vm)return function(d,p){return{mapValue:{fields:{[hT]:{stringValue:dT},[sh]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw p.gc("VectorValues must only contain numeric values.");return mm(p.serializer,g)})}}}}}}(a,o);throw o.gc(`Unsupported field value: ${Bh(a)}`)}(r,e)}function yb(r,e){const n={};return aT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(r,(a,o)=>{const u=au(o,e.Ac(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function vb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof km||r instanceof so||r instanceof _n||r instanceof Mm||r instanceof Vm)}function Lm(r,e,n){if(!vb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=Bh(n);throw a==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+a)}}function Gp(r,e,n){if((e=It(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return Um(r,e);throw mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const T2=new RegExp("[~\\*/\\[\\]]");function Um(r,e,n){if(e.search(T2)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Hh(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function mh(r,e,n,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||d)&&(m+=" (found",u&&(m+=` in field ${a}`),d&&(m+=` in document ${o}`),m+=")"),new de(te.INVALID_ARGUMENT,p+r+m)}function _b(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b2 extends Eb{data(){return super.data()}}function Tb(r,e){return typeof e=="string"?Um(r,e):e instanceof Hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zm{}class A2 extends zm{}function w2(r,e,...n){let a=[];e instanceof zm&&a.push(e),a=a.concat(n),function(u){const d=u.filter(m=>m instanceof qm).length,p=u.filter(m=>m instanceof Bm).length;if(d>1||d>0&&p>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Bm extends A2{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Bm(e,n,a)}_apply(e){const n=this._parse(e);return bb(e._query,n),new yo(e.firestore,e.converter,Mp(e._query,n))}_parse(e){const n=jm(e.firestore);return function(u,d,p,m,g,T,A){let b;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){H_(A,T);const M=[];for(const H of A)M.push(q_(m,u,H));b={arrayValue:{values:M}}}else b=q_(m,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||H_(A,T),b=E2(p,d,A,T==="in"||T==="not-in");return Et.create(g,T,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class qm extends zm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qm(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let d=o;const p=u.getFlattenedFilters();for(const m of p)bb(d,m),d=Mp(d,m)}(e._query,n),new yo(e.firestore,e.converter,Mp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function q_(r,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TT(e)&&n.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(nt.fromString(n));if(!me.isDocumentKey(a))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return n_(r,new me(a))}if(n instanceof _n)return n_(r,n._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function H_(r,e){if(!Array.isArray(r)||r.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bb(r,e){const n=function(o,u){for(const d of o)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class R2{convertValue(e,n="none"){switch(Kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Zr(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[sh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>pt(d.doubleValue));return new Vm(u)}convertGeoPoint(e){return new km(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Oh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=nt.fromString(e);Fe(HT(a),9688,{name:e});const o=new Gl(a.get(1),a.get(3)),u=new me(a.popFirst(5));return o.isEqual(n)||Ji(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r,e,n){let a;return a=r?r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class I2 extends Eb{constructor(e,n,a,o,u,d){super(e,n,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Tb("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class Yc extends I2{data(e={}){return super.data(e)}}class C2{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Uc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new Yc(this._firestore,this._userDataWriter,a.key,a,new Uc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const m=new Yc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Uc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new Yc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Uc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:D2(p.type),doc:m,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function D2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}class N2 extends R2{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function O2(r){r=Ha(r,yo);const e=Ha(r.firestore,ru),n=pb(e),a=new N2(e);return S2(r._query),u2(n,r._query).then(o=>new C2(e,a,r,o))}function M2(r,e,n,...a){r=Ha(r,_n);const o=Ha(r.firestore,ru),u=jm(o);let d;return d=typeof(e=It(e))=="string"||e instanceof Hh?_2(u,"updateDoc",r._key,e,n,a):v2(u,"updateDoc",r._key,e),Hm(o,[d.toMutation(r._key,Fn.exists(!0))])}function k2(r){return Hm(Ha(r.firestore,ru),[new gm(r._key,Fn.none())])}function V2(r,e){const n=Ha(r.firestore,ru),a=Fp(r),o=x2(r.converter,e);return Hm(n,[y2(jm(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Fn.exists(!1))]).then(()=>a)}function Hm(r,e){return function(a,o){const u=new qr;return a.asyncQueue.enqueueAndForget(async()=>YC(await o2(a),o,u)),u.promise}(pb(r),e)}(function(e,n=!0){(function(o){fo=o})(ho),Qn(new Vn("firestore",(a,{instanceIdentifier:o,options:u})=>{const d=a.getProvider("app").getImmediate(),p=new ru(new gx(a.getProvider("auth-internal")),new _x(d,a.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(g.options.projectId,T)}(d,o),d);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),on(F0,G0,e),on(F0,G0,"esm2017")})();var P2="firebase",j2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on(P2,j2,"app");function Fm(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function Sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L2=Sb,Ab=new Ya("auth","Firebase",Sb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Ih("@firebase/auth");function U2(r,...e){gh.logLevel<=Me.WARN&&gh.warn(`Auth (${ho}): ${r}`,...e)}function Xc(r,...e){gh.logLevel<=Me.ERROR&&gh.error(`Auth (${ho}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(r,...e){throw Gm(r,...e)}function yi(r,...e){return Gm(r,...e)}function wb(r,e,n){const a=Object.assign(Object.assign({},L2()),{[e]:n});return new Ya("auth","Firebase",a).create(e,{appName:r.name})}function za(r){return wb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return Ab.create(r,...e)}function be(r,e,...n){if(!r)throw Gm(e,...n)}function $i(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xc(e),new Error(e)}function nr(r,e){r||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function z2(){return F_()==="http:"||F_()==="https:"}function F_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z2()||UE()||"connection"in navigator)?navigator.onLine:!0}function q2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,nr(n>e,"Short delay should be less than long delay!"),this.isMobile=Hw()||Qw()}get(){return B2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(r,e){nr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G2=new su(3e4,6e4);function $m(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function vo(r,e,n,a,o={}){return xb(r,o,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const p=Zl(Object.assign({key:r.config.apiKey},d)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},u);return Gw()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ka(r.emulatorConfig.host)&&(g.credentials="include"),Rb.fetch()(await Ib(r,r.config.apiHost,n,p),g)})}async function xb(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},H2),e);try{const o=new $2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw zc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(r,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw zc(r,"email-already-in-use",d);if(m==="USER_DISABLED")throw zc(r,"user-disabled",d);const T=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw wb(r,T,g);tr(r,T)}}catch(o){if(o instanceof Yn)throw o;tr(r,"network-request-failed",{message:String(o)})}}async function Q2(r,e,n,a,o={}){const u=await vo(r,e,n,a,o);return"mfaPendingCredential"in u&&tr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ib(r,e,n,a){const o=`${e}${n}?${a}`,u=r,d=u.config.emulator?Qm(r.config,o):`${r.config.apiScheme}://${o}`;return F2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class $2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(yi(this.auth,"network-request-failed")),G2.get())})}}function zc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=yi(r,e,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(r,e){return vo(r,"POST","/v1/accounts:delete",e)}async function yh(r,e){return vo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y2(r,e=!1){const n=It(r),a=await n.getIdToken(e),o=Km(a);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Ul(pp(o.auth_time)),issuedAtTime:Ul(pp(o.iat)),expirationTime:Ul(pp(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function pp(r){return Number(r)*1e3}function Km(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=kE(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function G_(r){const e=Km(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Yn&&X2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function X2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(r){var e;const n=r.auth,a=await r.getIdToken(),o=await Yl(r,yh(n,{idToken:a}));be(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Cb(u.providerUserInfo):[],p=J2(r.providerData,d),m=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),T=m?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new $p(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,A)}async function Z2(r){const e=It(r);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J2(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Cb(r){return r.map(e=>{var{providerId:n}=e,a=Fm(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(r,e){const n=await xb(r,{},async()=>{const a=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await Ib(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:a};return r.emulatorConfig&&Ka(r.emulatorConfig.host)&&(m.credentials="include"),Rb.fetch()(d,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tD(r,e){return vo(r,"POST","/v2/accounts:revokeToken",$m(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=G_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await eD(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,d=new Ws;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(be(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ws,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Hn{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=Fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new $p(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y2(this,e)}reload(){return Z2(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await Yl(this,K2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,d,p,m,g,T;const A=(a=n.displayName)!==null&&a!==void 0?a:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(d=n.photoURL)!==null&&d!==void 0?d:void 0,H=(p=n.tenantId)!==null&&p!==void 0?p:void 0,L=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,U=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ne,emailVerified:ie,isAnonymous:ue,providerData:Ee,stsTokenManager:j}=n;be(ne&&j,e,"internal-error");const R=Ws.fromJSON(this.name,j);be(typeof ne=="string",e,"internal-error"),Mr(A,e.name),Mr(b,e.name),be(typeof ie=="boolean",e,"internal-error"),be(typeof ue=="boolean",e,"internal-error"),Mr(O,e.name),Mr(M,e.name),Mr(H,e.name),Mr(L,e.name),Mr(Y,e.name),Mr(U,e.name);const x=new Hn({uid:ne,auth:e,email:b,emailVerified:ie,displayName:A,isAnonymous:ue,photoURL:M,phoneNumber:O,tenantId:H,stsTokenManager:R,createdAt:Y,lastLoginAt:U});return Ee&&Array.isArray(Ee)&&(x.providerData=Ee.map(V=>Object.assign({},V))),L&&(x._redirectEventId=L),x}static async _fromIdTokenResponse(e,n,a=!1){const o=new Ws;o.updateFromServerResponse(n);const u=new Hn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await vh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Cb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Ws;p.updateFromIdToken(a);const m=new Hn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $p(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;function Ki(r){nr(r instanceof Function,"Expected a class definition");let e=Q_.get(r);return e?(nr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Q_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Db.type="NONE";const $_=Db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(r,e,n){return`firebase:${r}:${e}:${n}`}class Zs{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Zs(Ki($_),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ki($_);const d=Wc(a,e.config.apiKey,e.name);let p=null;for(const g of n)try{const T=await g._get(d);if(T){let A;if(typeof T=="string"){const b=await yh(e,{idToken:T}).catch(()=>{});if(!b)break;A=await Hn._fromGetAccountInfoResponse(e,b,T)}else A=Hn._fromJSON(e,T);g!==u&&(p=A),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Zs(u,e,a):(u=m[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new Zs(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Nb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pb(e))return"Blackberry";if(jb(e))return"Webos";if(Ob(e))return"Safari";if((e.includes("chrome/")||Mb(e))&&!e.includes("edge/"))return"Chrome";if(Vb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Nb(r=Xt()){return/firefox\//i.test(r)}function Ob(r=Xt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mb(r=Xt()){return/crios\//i.test(r)}function kb(r=Xt()){return/iemobile/i.test(r)}function Vb(r=Xt()){return/android/i.test(r)}function Pb(r=Xt()){return/blackberry/i.test(r)}function jb(r=Xt()){return/webos/i.test(r)}function Ym(r=Xt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function nD(r=Xt()){var e;return Ym(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iD(){return $w()&&document.documentMode===10}function Lb(r=Xt()){return Ym(r)||Vb(r)||jb(r)||Pb(r)||/windows phone/i.test(r)||kb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(r,e=[]){let n;switch(r){case"Browser":n=K_(Xt());break;case"Worker":n=`${K_(Xt())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((d,p)=>{try{const m=e(u);d(m)}catch(m){p(m)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(r,e={}){return vo(r,"GET","/v2/passwordPolicy",$m(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=6;class oD{constructor(e){var n,a,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:sD,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,d,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(d=m.containsNumericCharacter)!==null&&d!==void 0?d:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y_(this),this.idTokenSubscription=new Y_(this),this.beforeStateQueue=new rD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ab,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),a=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===p)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(za(this));const n=e?It(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aD(this),n=new oD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ya("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await tD(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,a,o);return()=>{d=!0,m()}}else{const m=e.addObserver(n);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&U2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xm(r){return It(r)}class Y_{constructor(e){this.auth=e,this.observer=null,this.addObserver=eR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uD(r){Wm=r}function cD(r){return Wm.loadJS(r)}function hD(){return Wm.gapiScript}function dD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(r,e){const n=Wr(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fr(u,e??{}))return o;tr(o,"already-initialized")}return n.initialize({options:e})}function pD(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Ki);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function mD(r,e,n){const a=Xm(r);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=zb(e),{host:d,port:p}=gD(e),m=p===null?"":`:${p}`,g={url:`${u}//${d}${m}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(Fr(g,a.config.emulator)&&Fr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,Ka(d)?(sm(`${u}//${d}${m}`),om("Auth",!0)):yD()}function zb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function gD(r){const e=zb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:X_(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:X_(d)}}}function X_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function yD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,n){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(r,e){return Q2(r,"POST","/v1/accounts:signInWithIdp",$m(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="http://localhost";class Fa extends Bb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=Fm(n,["providerId","signInMethod"]);if(!a||!o)return null;const d=new Fa(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Js(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Js(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Js(e,n)}buildRequest(){const e={requestUri:vD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends qb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends ou{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fa._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Vr.credential(n,a)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends ou{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends ou{constructor(){super("twitter.com")}static credential(e,n){return Fa._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return jr.credential(n,a)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Hn._fromIdTokenResponse(e,a,o),d=W_(a);return new oo({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=W_(a);return new oo({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function W_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Yn{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new _h(e,n,a,o)}}function Hb(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(r,u,e,a):u})}async function _D(r,e,n=!1){const a=await Yl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return oo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(r,e,n=!1){const{auth:a}=r;if(qn(a.app))return Promise.reject(za(a));const o="reauthenticate";try{const u=await Yl(r,Hb(a,o,e,r),n);be(u.idToken,a,"internal-error");const d=Km(u.idToken);be(d,a,"internal-error");const{sub:p}=d;return be(r.uid===p,a,"user-mismatch"),oo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&tr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(r,e,n=!1){if(qn(r.app))return Promise.reject(za(r));const a="signIn",o=await Hb(r,a,e),u=await oo._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}function bD(r,e,n,a){return It(r).onIdTokenChanged(e,n,a)}function SD(r,e,n){return It(r).beforeAuthStateChanged(e,n)}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=1e3,wD=10;class Gb extends Fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);iD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wD):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},AD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gb.type="LOCAL";const RD=Gb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb extends Fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Qb.type="SESSION";const $b=Qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Gh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async g=>g(n.origin,u)),m=await xD(p);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,m)=>{const g=Zm("",20);o.port1.start();const T=setTimeout(()=>{m(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(b.data.response);break;default:clearTimeout(T),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function CD(r){vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function DD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ND(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function OD(){return Kb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="firebaseLocalStorageDb",MD=1,Th="firebaseLocalStorage",Xb="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(r,e){return r.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function kD(){const r=indexedDB.deleteDatabase(Yb);return new lu(r).toPromise()}function Kp(){const r=indexedDB.open(Yb,MD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Th,{keyPath:Xb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Th)?e(a):(a.close(),await kD(),e(await Kp()))})})}async function Z_(r,e,n){const a=Qh(r,!0).put({[Xb]:e,value:n});return new lu(a).toPromise()}async function VD(r,e){const n=Qh(r,!1).get(e),a=await new lu(n).toPromise();return a===void 0?null:a.value}function J_(r,e){const n=Qh(r,!0).delete(e);return new lu(n).toPromise()}const PD=800,jD=3;class Wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>jD)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(OD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DD(),!this.activeServiceWorker)return;this.sender=new ID(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ND()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kp();return await Z_(e,Eh,"1"),await J_(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Z_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>VD(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Qh(o,!1).getAll();return new lu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wb.type="LOCAL";const LD=Wb;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(r,e){return e?Ki(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends Bb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zD(r){return TD(r.auth,new Jm(r),r.bypassAuthState)}function BD(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),ED(n,new Jm(r),r.bypassAuthState)}async function qD(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),_D(n,new Jm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zD;case"linkViaPopup":case"linkViaRedirect":return qD;case"reauthViaPopup":case"reauthViaRedirect":return BD;default:tr(this.auth,"internal-error")}}resolve(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new su(2e3,1e4);class Ys extends Zb{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const e=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HD.get())};e()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="pendingRedirect",Zc=new Map;class GD extends Zb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const a=await QD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QD(r,e){const n=YD(e),a=KD(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function $D(r,e){Zc.set(r._key(),e)}function KD(r){return Ki(r._redirectPersistence)}function YD(r){return Wc(FD,r.config.apiKey,r.name)}async function XD(r,e,n=!1){if(qn(r.app))return Promise.reject(za(r));const a=Xm(r),o=UD(a,e),d=await new GD(a,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=10*60*1e3;class ZD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!Jb(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WD&&this.cachedEventUids.clear(),this.cachedEventUids.has(eE(e))}saveEventToCache(e){this.cachedEventUids.add(eE(e)),this.lastProcessedEventTime=Date.now()}}function eE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Jb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(r,e={}){return vo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nN=/^https?/;async function iN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await eN(r);for(const n of e)try{if(rN(n))return}catch{}tr(r,"unauthorized-domain")}function rN(r){const e=Qp(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!nN.test(n))return!1;if(tN.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new su(3e4,6e4);function tE(){const r=vi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function sN(r){return new Promise((e,n)=>{var a,o,u;function d(){tE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tE(),n(yi(r,"network-request-failed"))},timeout:aN.get()})}if(!((o=(a=vi().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=vi().gapi)===null||u===void 0)&&u.load)d();else{const p=dD("iframefcb");return vi()[p]=()=>{gapi.load?d():n(yi(r,"network-request-failed"))},cD(`${hD()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function oN(r){return Jc=Jc||sN(r),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new su(5e3,15e3),uN="__/auth/iframe",cN="emulator/auth/iframe",hN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fN(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Qm(e,cN):`https://${r.config.authDomain}/${uN}`,a={apiKey:e.apiKey,appName:r.name,v:ho},o=dN.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Zl(a).slice(1)}`}async function pN(r){const e=await oN(r),n=vi().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:fN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hN,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=yi(r,"network-request-failed"),p=vi().setTimeout(()=>{u(d)},lN.get());function m(){vi().clearTimeout(p),o(a)}a.ping(m).then(m,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gN=500,yN=600,vN="_blank",_N="http://localhost";class nE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EN(r,e,n,a=gN,o=yN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const m=Object.assign(Object.assign({},mN),{width:a.toString(),height:o.toString(),top:u,left:d}),g=Xt().toLowerCase();n&&(p=Mb(g)?vN:n),Nb(g)&&(e=e||_N,m.scrollbars="yes");const T=Object.entries(m).reduce((b,[O,M])=>`${b}${O}=${M},`,"");if(nD(g)&&p!=="_self")return TN(e||"",p),new nE(null);const A=window.open(e||"",p,T);be(A,r,"popup-blocked");try{A.focus()}catch{}return new nE(A)}function TN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="__/auth/handler",SN="emulator/auth/handler",AN=encodeURIComponent("fac");async function iE(r,e,n,a,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:ho,eventId:o};if(e instanceof qb){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",Jw(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof ou){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const m=await r._getAppCheckToken(),g=m?`#${AN}=${encodeURIComponent(m)}`:"";return`${wN(r)}?${Zl(p).slice(1)}${g}`}function wN({config:r}){return r.emulator?Qm(r,SN):`https://${r.authDomain}/${bN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="webStorageSupport";class RN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$b,this._completeRedirectFn=XD,this._overrideRedirectResult=$D}async _openPopup(e,n,a,o){var u;nr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await iE(e,n,a,Qp(),o);return EN(e,d,Zm())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await iE(e,n,a,Qp(),o);return CD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(nr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await pN(e),a=new ZD(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mp,{type:mp},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[mp];d!==void 0&&n(!!d),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lb()||Ob()||Ym()}}const xN=RN;var rE="@firebase/auth",aE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DN(r){Qn(new Vn("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ub(r)},g=new lD(a,o,u,m);return pD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Qn(new Vn("auth-internal",e=>{const n=Xm(e.getProvider("auth").getImmediate());return(a=>new IN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),on(rE,aE,CN(r)),on(rE,aE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=5*60,ON=LE("authIdTokenMaxAge")||NN;let sE=null;const MN=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>ON)return;const o=n==null?void 0:n.token;sE!==o&&(sE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kN(r=Ch()){const e=Wr(r,"auth");if(e.isInitialized())return e.getImmediate();const n=fD(r,{popupRedirectResolver:xN,persistence:[LD,RD,$b]}),a=LE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=MN(u.toString());SD(n,d,()=>d(n.currentUser)),bD(n,p=>d(p))}}const o=VE("auth");return o&&mD(n,`http://${o}`),n}function VN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}uD({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=yi("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",VN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DN("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,a,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,qn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=a.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||a.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o==null||o.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),a=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:a,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="us-central1";class jN{constructor(e,n,a,o,u=Yp,d=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new PN(e,n,a,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(u);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=Yp}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function LN(r,e,n){const a=Ka(e);r.emulatorOrigin=`http${a?"s":""}://${e}:${n}`,a&&(sm(r.emulatorOrigin),om("Functions",!0))}const oE="@firebase/functions",lE="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="auth-internal",zN="app-check-internal",BN="messaging-internal";function qN(r){const e=(n,{instanceIdentifier:a})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(UN),d=n.getProvider(BN),p=n.getProvider(zN);return new jN(o,u,d,p,a)};Qn(new Vn(eS,e,"PUBLIC").setMultipleInstances(!0)),on(oE,lE,r),on(oE,lE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r=Ch(),e=Yp){const a=Wr(It(r),eS).getImmediate({identifier:e}),o=PE("functions");return o&&FN(a,...o),a}function FN(r,e,n){LN(It(r),e,n)}qN();const tS="@firebase/installations",eg="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=1e4,iS=`w:${eg}`,rS="FIS_v2",GN="https://firebaseinstallations.googleapis.com/v1",QN=60*60*1e3,$N="installations",KN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ga=new Ya($N,KN,YN);function aS(r){return r instanceof Yn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS({projectId:r}){return`${GN}/projects/${r}/installations`}function oS(r){return{token:r.token,requestStatus:2,expiresIn:WN(r.expiresIn),creationTime:Date.now()}}async function lS(r,e){const a=(await e.json()).error;return Ga.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function uS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function XN(r,{refreshToken:e}){const n=uS(r);return n.append("Authorization",ZN(e)),n}async function cS(r){const e=await r();return e.status>=500&&e.status<600?r():e}function WN(r){return Number(r.replace("s","000"))}function ZN(r){return`${rS} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const a=sS(r),o=uS(r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const d={fid:n,authVersion:rS,appId:r.appId,sdkVersion:iS},p={method:"POST",headers:o,body:JSON.stringify(d)},m=await cS(()=>fetch(a,p));if(m.ok){const g=await m.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:oS(g.authToken)}}else throw await lS("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=/^[cdef][\w-]{21}$/,Xp="";function nO(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=iO(r);return tO.test(n)?n:Xp}catch{return Xp}}function iO(r){return eO(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Map;function fS(r,e){const n=$h(r);pS(n,e),rO(n,e)}function pS(r,e){const n=dS.get(r);if(n)for(const a of n)a(e)}function rO(r,e){const n=aO();n&&n.postMessage({key:r,fid:e}),sO()}let Ua=null;function aO(){return!Ua&&"BroadcastChannel"in self&&(Ua=new BroadcastChannel("[Firebase] FID Change"),Ua.onmessage=r=>{pS(r.data.key,r.data.fid)}),Ua}function sO(){dS.size===0&&Ua&&(Ua.close(),Ua=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="firebase-installations-database",lO=1,Qa="firebase-installations-store";let gp=null;function tg(){return gp||(gp=FE(oO,lO,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Qa)}}})),gp}async function bh(r,e){const n=$h(r),o=(await tg()).transaction(Qa,"readwrite"),u=o.objectStore(Qa),d=await u.get(n);return await u.put(e,n),await o.done,(!d||d.fid!==e.fid)&&fS(r,e.fid),e}async function mS(r){const e=$h(r),a=(await tg()).transaction(Qa,"readwrite");await a.objectStore(Qa).delete(e),await a.done}async function Kh(r,e){const n=$h(r),o=(await tg()).transaction(Qa,"readwrite"),u=o.objectStore(Qa),d=await u.get(n),p=e(d);return p===void 0?await u.delete(n):await u.put(p,n),await o.done,p&&(!d||d.fid!==p.fid)&&fS(r,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(r){let e;const n=await Kh(r.appConfig,a=>{const o=uO(a),u=cO(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Xp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function uO(r){const e=r||{fid:nO(),registrationStatus:0};return gS(e)}function cO(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ga.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=hO(r,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dO(r)}:{installationEntry:e}}async function hO(r,e){try{const n=await JN(r,e);return bh(r.appConfig,n)}catch(n){throw aS(n)&&n.customData.serverCode===409?await mS(r.appConfig):await bh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function dO(r){let e=await uE(r.appConfig);for(;e.registrationStatus===1;)await hS(100),e=await uE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await ng(r);return a||n}return e}function uE(r){return Kh(r,e=>{if(!e)throw Ga.create("installation-not-found");return gS(e)})}function gS(r){return fO(r)?{fid:r.fid,registrationStatus:0}:r}function fO(r){return r.registrationStatus===1&&r.registrationTime+nS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO({appConfig:r,heartbeatServiceProvider:e},n){const a=mO(r,n),o=XN(r,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const d={installation:{sdkVersion:iS,appId:r.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},m=await cS(()=>fetch(a,p));if(m.ok){const g=await m.json();return oS(g)}else throw await lS("Generate Auth Token",m)}function mO(r,{fid:e}){return`${sS(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(r,e=!1){let n;const a=await Kh(r.appConfig,u=>{if(!yS(u))throw Ga.create("not-registered");const d=u.authToken;if(!e&&vO(d))return u;if(d.requestStatus===1)return n=gO(r,e),u;{if(!navigator.onLine)throw Ga.create("app-offline");const p=EO(u);return n=yO(r,p),p}});return n?await n:a.authToken}async function gO(r,e){let n=await cE(r.appConfig);for(;n.authToken.requestStatus===1;)await hS(100),n=await cE(r.appConfig);const a=n.authToken;return a.requestStatus===0?ig(r,e):a}function cE(r){return Kh(r,e=>{if(!yS(e))throw Ga.create("not-registered");const n=e.authToken;return TO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function yO(r,e){try{const n=await pO(r,e),a=Object.assign(Object.assign({},e),{authToken:n});return await bh(r.appConfig,a),n}catch(n){if(aS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await mS(r.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await bh(r.appConfig,a)}throw n}}function yS(r){return r!==void 0&&r.registrationStatus===2}function vO(r){return r.requestStatus===2&&!_O(r)}function _O(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+QN}function EO(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function TO(r){return r.requestStatus===1&&r.requestTime+nS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(r){const e=r,{installationEntry:n,registrationPromise:a}=await ng(e);return a?a.catch(console.error):ig(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(r,e=!1){const n=r;return await AO(n),(await ig(n,e)).token}async function AO(r){const{registrationPromise:e}=await ng(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(r){if(!r||!r.options)throw yp("App Configuration");if(!r.name)throw yp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw yp(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function yp(r){return Ga.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="installations",RO="installations-internal",xO=r=>{const e=r.getProvider("app").getImmediate(),n=wO(e),a=Wr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},IO=r=>{const e=r.getProvider("app").getImmediate(),n=Wr(e,vS).getImmediate();return{getId:()=>bO(n),getToken:o=>SO(n,o)}};function CO(){Qn(new Vn(vS,xO,"PUBLIC")),Qn(new Vn(RO,IO,"PRIVATE"))}CO();on(tS,eg);on(tS,eg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="analytics",DO="firebase_id",NO="origin",OO=60*1e3,MO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Ih("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new Ya("analytics","Analytics",kO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(r){if(!r.startsWith(rg)){const e=En.create("invalid-gtag-resource",{gtagURL:r});return ln.warn(e.message),""}return r}function _S(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function PO(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function jO(r,e){const n=PO("firebase-js-sdk-policy",{createScriptURL:VO}),a=document.createElement("script"),o=`${rg}?l=${r}&id=${e}`;a.src=n?n==null?void 0:n.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function LO(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function UO(r,e,n,a,o,u){const d=a[o];try{if(d)await e[d];else{const m=(await _S(n)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(p){ln.error(p)}r("config",o,u)}async function zO(r,e,n,a,o){try{let u=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const p=await _S(n);for(const m of d){const g=p.find(A=>A.measurementId===m),T=g&&e[g.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",a,o||{})}catch(u){ln.error(u)}}function BO(r,e,n,a){async function o(u,...d){try{if(u==="event"){const[p,m]=d;await zO(r,e,n,p,m)}else if(u==="config"){const[p,m]=d;await UO(r,e,n,a,p,m)}else if(u==="consent"){const[p,m]=d;r("consent",p,m)}else if(u==="get"){const[p,m,g]=d;r("get",p,m,g)}else if(u==="set"){const[p]=d;r("set",p)}else r(u,...d)}catch(p){ln.error(p)}}return o}function qO(r,e,n,a,o){let u=function(...d){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=BO(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function HO(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rg)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=30,GO=1e3;class QO{constructor(e={},n=GO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ES=new QO;function $O(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function KO(r){var e;const{appId:n,apiKey:a}=r,o={method:"GET",headers:$O(a)},u=MO.replace("{app-id}",n),d=await fetch(u,o);if(d.status!==200&&d.status!==304){let p="";try{const m=await d.json();!((e=m.error)===null||e===void 0)&&e.message&&(p=m.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:d.status,responseMessage:p})}return d.json()}async function YO(r,e=ES,n){const{appId:a,apiKey:o,measurementId:u}=r.options;if(!a)throw En.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw En.create("no-api-key")}const d=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new ZO;return setTimeout(async()=>{p.abort()},OO),TS({appId:a,apiKey:o,measurementId:u},d,p,e)}async function TS(r,{throttleEndTimeMillis:e,backoffCount:n},a,o=ES){var u;const{appId:d,measurementId:p}=r;try{await XO(a,e)}catch(m){if(p)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:d,measurementId:p};throw m}try{const m=await KO(r);return o.deleteThrottleMetadata(d),m}catch(m){const g=m;if(!WO(g)){if(o.deleteThrottleMetadata(d),p)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:d,measurementId:p};throw m}const T=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?k0(n,o.intervalMillis,FO):k0(n,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+T,backoffCount:n+1};return o.setThrottleMetadata(d,A),ln.debug(`Calling attemptFetch again in ${T} millis`),TS(r,A,a,o)}}function XO(r,e){return new Promise((n,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),a(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WO(r){if(!(r instanceof Yn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class ZO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function JO(r,e,n,a,o){if(o&&o.global){r("event",n,a);return}else{const u=await e,d=Object.assign(Object.assign({},a),{send_to:u});r("event",n,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(){if(zE())try{await BE()}catch(r){return ln.warn(En.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return ln.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function t4(r,e,n,a,o,u,d){var p;const m=YO(r);m.then(O=>{n[O.measurementId]=O.appId,r.options.measurementId&&O.measurementId!==r.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>ln.error(O)),e.push(m);const g=e4().then(O=>{if(O)return a.getId()}),[T,A]=await Promise.all([m,g]);HO(u)||jO(u,T.measurementId),o("js",new Date);const b=(p=d==null?void 0:d.config)!==null&&p!==void 0?p:{};return b[NO]="firebase",b.update=!0,A!=null&&(b[DO]=A),o("config",T.measurementId,b),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.app=e}_delete(){return delete zl[this.app.options.appId],Promise.resolve()}}let zl={},hE=[];const dE={};let vp="dataLayer",i4="gtag",fE,bS,pE=!1;function r4(){const r=[];if(UE()&&r.push("This is a browser extension environment."),Yw()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=En.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function a4(r,e,n){r4();const a=r.options.appId;if(!a)throw En.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(zl[a]!=null)throw En.create("already-exists",{id:a});if(!pE){LO(vp);const{wrappedGtag:u,gtagCore:d}=qO(zl,hE,dE,vp,i4);bS=u,fE=d,pE=!0}return zl[a]=t4(r,hE,dE,e,fE,vp,n),new n4(r)}function s4(r=Ch()){r=It(r);const e=Wr(r,Sh);return e.isInitialized()?e.getImmediate():o4(r)}function o4(r,e={}){const n=Wr(r,Sh);if(n.isInitialized()){const o=n.getImmediate();if(Fr(e,n.getOptions()))return o;throw En.create("already-initialized")}return n.initialize({options:e})}function l4(r,e,n,a){r=It(r),JO(bS,zl[r.app.options.appId],e,n,a).catch(o=>ln.error(o))}const mE="@firebase/analytics",gE="0.10.16";function u4(){Qn(new Vn(Sh,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return a4(a,o,n)},"PUBLIC")),Qn(new Vn("analytics-internal",r,"PRIVATE")),on(mE,gE),on(mE,gE,"esm2017");function r(e){try{const n=e.getProvider(Sh).getImmediate();return{logEvent:(a,o,u)=>l4(n,a,o,u)}}catch(n){throw En.create("interop-component-reg-failed",{reason:n})}}}u4();const c4={apiKey:"AIzaSyD77q26KDxXNRLtKBFg3WuiKiGiGiRGei0",authDomain:"welfare-management.firebaseapp.com",projectId:"welfare-management",storageBucket:"welfare-management.firebasestorage.app",messagingSenderId:"42926946509",appId:"1:42926946509:web:fc83fabfdcdd2ec44a1184",measurementId:"G-BC3SMBTT4C"},Yh=GE(c4);kN(Yh);const Bc=d2(Yh);HN(Yh);s4(Yh);const Xi=r=>{const[e,n]=$.useState([]),[a,o]=$.useState(!0),[u,d]=$.useState(null),p=async(A=[])=>{try{o(!0);const b=L_(Bc,r),O=A.length>0?w2(b,...A):b,H=(await O2(O)).docs.map(L=>({id:L.id,...L.data()}));n(H),d(null)}catch(b){d(b instanceof Error?b.message:"")}finally{o(!1)}},m=async A=>{try{const b=L_(Bc,r),O=await V2(b,A),M={id:O.id,...A};return n(H=>[...H,M]),O.id}catch(b){throw d(b instanceof Error?b.message:""),b}},g=async(A,b)=>{try{const O=Fp(Bc,r,A);await M2(O,b),n(M=>M.map(H=>H.id===A?{...H,...b}:H))}catch(O){throw d(O instanceof Error?O.message:""),O}},T=async A=>{try{const b=Fp(Bc,r,A);await k2(b),n(O=>O.filter(M=>M.id!==A))}catch(b){throw d(b instanceof Error?b.message:""),b}};return $.useEffect(()=>{p()},[r]),{data:e,loading:a,error:u,fetchData:p,addData:m,updateData:g,deleteData:T,refetch:p}},_p=({children:r,title:e})=>{const{userData:n,logout:a}=$a(),o=wh(),u=async()=>{try{await a()}catch(d){console.error("Logout error:",d)}};return v.jsxs("div",{style:{padding:"2rem"},children:[v.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",borderBottom:"1px solid #eee",paddingBottom:"1rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsx("button",{onClick:()=>o("/dashboard"),style:{padding:"0.5rem 1rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "}),v.jsx("h1",{children:e})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsxs("span",{children:[(n==null?void 0:n.role)==="HQ"?"HQ":"FC"," - ",n==null?void 0:n.email]}),v.jsx("button",{onClick:u,style:{padding:"0.5rem 1rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:""})]})]}),r]})},h4=()=>{const{data:r,loading:e,error:n,addData:a,updateData:o,deleteData:u}=Xi("organizations"),[d,p]=$.useState(!1),[m,g]=$.useState(null),[T,A]=$.useState({name:"",prefecture:"",address:"",facilityType:"",startDate:"",endDate:""}),b=async L=>{L.preventDefault();try{const Y={...T,startDate:new Date(T.startDate),endDate:T.endDate?new Date(T.endDate):void 0};m?await o(m.id,Y):await a(Y),H()}catch(Y){console.error(":",Y)}},O=L=>{g(L),A({name:L.name,prefecture:L.prefecture,address:L.address,facilityType:L.facilityType,startDate:L.startDate instanceof Date?L.startDate.toISOString().split("T")[0]:"",endDate:L.endDate instanceof Date?L.endDate.toISOString().split("T")[0]:""}),p(!0)},M=async L=>{if(window.confirm(""))try{await u(L)}catch(Y){console.error(":",Y)}},H=()=>{p(!1),g(null),A({name:"",prefecture:"",address:"",facilityType:"",startDate:"",endDate:""})};return e?v.jsx(_p,{title:"",children:v.jsx("div",{children:"..."})}):n?v.jsx(_p,{title:"",children:v.jsxs("div",{style:{color:"red"},children:[": ",n]})}):v.jsxs(_p,{title:"",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[v.jsx("div",{}),v.jsx("button",{onClick:()=>p(!0),style:{padding:"0.75rem 1.5rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:""})]}),v.jsx("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[v.jsx("thead",{children:v.jsxs("tr",{style:{backgroundColor:"#f8f9fa"},children:[v.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:""}),v.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:""}),v.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:""}),v.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:""}),v.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:""})]})}),v.jsx("tbody",{children:r.map(L=>v.jsxs("tr",{children:[v.jsx("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:L.name}),v.jsx("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:L.prefecture}),v.jsx("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:L.facilityType}),v.jsx("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:L.startDate instanceof Date?L.startDate.toLocaleDateString():L.startDate}),v.jsxs("td",{style:{padding:"1rem",borderBottom:"1px solid #dee2e6"},children:[v.jsx("button",{onClick:()=>O(L),style:{padding:"0.25rem 0.75rem",backgroundColor:"#ffc107",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"0.5rem"},children:""}),v.jsx("button",{onClick:()=>M(L.id),style:{padding:"0.25rem 0.75rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:""})]})]},L.id))})]})}),d&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:v.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",width:"500px",maxHeight:"80vh",overflowY:"auto"},children:[v.jsx("h2",{children:m?"":""}),v.jsxs("form",{onSubmit:b,children:[v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"text",value:T.name,onChange:L=>A({...T,name:L.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"text",value:T.prefecture,onChange:L=>A({...T,prefecture:L.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"text",value:T.address,onChange:L=>A({...T,address:L.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsxs("select",{value:T.facilityType,onChange:L=>A({...T,facilityType:L.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[v.jsx("option",{value:"",children:""}),v.jsx("option",{value:"",children:""}),v.jsx("option",{value:"B",children:"B"})]})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"date",value:T.startDate,onChange:L=>A({...T,startDate:L.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:""}),v.jsx("input",{type:"date",value:T.endDate,onChange:L=>A({...T,endDate:L.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[v.jsx("button",{type:"button",onClick:H,style:{padding:"0.75rem 1.5rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:""}),v.jsx("button",{type:"submit",style:{padding:"0.75rem 1.5rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:m?"":""})]})]})]})})]})},d4=()=>{const{data:r,loading:e,error:n,addData:a,updateData:o,deleteData:u}=Xi("users"),{data:d}=Xi("organizations"),[p,m]=$.useState(!1),[g,T]=$.useState(null),[A,b]=$.useState({email:"",orgId:"",role:"FC",isActive:!0}),O=async U=>{U.preventDefault();try{const ne={...A,uid:(g==null?void 0:g.uid)||`user_${Date.now()}`};g?await o(g.uid,ne):await a(ne),L()}catch(ne){console.error(":",ne)}},M=U=>{T(U),b({email:U.email,orgId:U.orgId,role:U.role,isActive:U.isActive}),m(!0)},H=async U=>{if(window.confirm(""))try{await u(U)}catch(ne){console.error(":",ne)}},L=()=>{m(!1),T(null),b({email:"",orgId:"",role:"FC",isActive:!0})},Y=U=>{const ne=d.find(ie=>ie.id===U||ie.orgId===U);return(ne==null?void 0:ne.name)||""};return e?v.jsx(kn,{children:v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:v.jsx("div",{className:"loading-spinner"})})}):n?v.jsx(kn,{children:v.jsxs("div",{className:"card",style:{padding:"2rem",background:"linear-gradient(135deg, var(--error-50), var(--error-100))",border:"1px solid var(--error-200)",color:"var(--error-700)"},children:[v.jsx("h2",{children:" "}),v.jsx("p",{children:n})]})}):v.jsx(kn,{children:v.jsxs("div",{className:"slide-in",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-8)"},children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:""})]}),v.jsxs("button",{onClick:()=>m(!0),className:"btn btn-primary bounce-in",style:{padding:"var(--space-4) var(--space-6)",fontSize:"var(--font-size-base)",fontWeight:"600"},children:[v.jsx("span",{style:{fontSize:"1.25rem"},children:""}),""]})]}),v.jsxs("div",{className:"card-glass",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:""}),v.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),r.length===0?v.jsxs("div",{style:{textAlign:"center",padding:"var(--space-12)",color:"var(--neutral-500)"},children:[v.jsx("div",{style:{fontSize:"4rem",marginBottom:"var(--space-4)"},children:""}),v.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{children:""})]}):v.jsx("div",{style:{overflowX:"auto"},children:v.jsxs("table",{className:"table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:""}),v.jsx("th",{children:""}),v.jsx("th",{children:""}),v.jsx("th",{children:""}),v.jsx("th",{style:{width:"150px"},children:""})]})}),v.jsx("tbody",{children:r.map(U=>v.jsxs("tr",{className:"fade-in",children:[v.jsx("td",{children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)"},children:[v.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, var(--primary-100), var(--primary-200))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem"},children:""}),v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:"600",color:"var(--neutral-900)"},children:U.email}),v.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--neutral-500)"},children:["ID: ",U.uid]})]})]})}),v.jsx("td",{children:Y(U.orgId)}),v.jsx("td",{children:v.jsx("span",{style:{padding:"var(--space-1) var(--space-3)",borderRadius:"var(--radius-lg)",fontSize:"var(--font-size-sm)",fontWeight:"600",background:U.role==="HQ"?"linear-gradient(135deg, var(--primary-100), var(--primary-200))":"linear-gradient(135deg, var(--success-100), var(--success-200))",color:U.role==="HQ"?"var(--primary-700)":"var(--success-700)"},children:U.role==="HQ"?"HQ":"FC"})}),v.jsx("td",{children:v.jsx("span",{style:{padding:"var(--space-1) var(--space-3)",borderRadius:"var(--radius-lg)",fontSize:"var(--font-size-sm)",fontWeight:"600",background:U.isActive?"linear-gradient(135deg, var(--success-100), var(--success-200))":"linear-gradient(135deg, var(--neutral-100), var(--neutral-200))",color:U.isActive?"var(--success-700)":"var(--neutral-600)"},children:U.isActive?"":""})}),v.jsx("td",{children:v.jsxs("div",{style:{display:"flex",gap:"var(--space-2)"},children:[v.jsx("button",{onClick:()=>M(U),className:"btn",style:{padding:"var(--space-2) var(--space-3)",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",color:"white",fontSize:"var(--font-size-sm)"},children:""}),v.jsx("button",{onClick:()=>H(U.uid),className:"btn btn-danger",style:{padding:"var(--space-2) var(--space-3)",fontSize:"var(--font-size-sm)"},children:""})]})})]},U.uid))})]})})]}),p&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"var(--space-4)"},children:v.jsxs("div",{className:"card bounce-in",style:{width:"100%",maxWidth:"500px",padding:"var(--space-8)",borderRadius:"var(--radius-3xl)",background:"white",boxShadow:"var(--shadow-2xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-2)"},children:g?"":""}),v.jsx("div",{style:{width:"40px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),v.jsxs("form",{onSubmit:O,children:[v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsx("input",{type:"email",value:A.email,onChange:U=>b({...A,email:U.target.value}),required:!0,className:"input",placeholder:"user@example.com"})]}),v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsxs("select",{value:A.orgId,onChange:U=>b({...A,orgId:U.target.value}),required:!0,className:"input",children:[v.jsx("option",{value:"",children:""}),d.map(U=>v.jsx("option",{value:U.id||U.orgId,children:U.name},U.id||U.orgId))]})]}),v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsxs("select",{value:A.role,onChange:U=>b({...A,role:U.target.value}),className:"input",children:[v.jsx("option",{value:"FC",children:"FC"}),v.jsx("option",{value:"HQ",children:"HQ"})]})]}),v.jsx("div",{style:{marginBottom:"var(--space-6)"},children:v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer"},children:[v.jsx("input",{type:"checkbox",checked:A.isActive,onChange:U=>b({...A,isActive:U.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--primary-500)"}}),v.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""})]})}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-4)"},children:[v.jsx("button",{type:"button",onClick:L,className:"btn btn-secondary",children:""}),v.jsx("button",{type:"submit",className:"btn btn-primary",children:g?"":""})]})]})]})})]})})},f4=()=>{const{data:r,loading:e,error:n,addData:a,updateData:o,deleteData:u}=Xi("addOnMaster"),[d,p]=$.useState(!1),[m,g]=$.useState(null),[T,A]=$.useState({name:"",unitValue:0,isBasic:!1}),b=async U=>{U.preventDefault();try{const ne={...T,addOnId:(m==null?void 0:m.addOnId)||`addon_${Date.now()}`};m?await o(m.addOnId,ne):await a(ne),H()}catch(ne){console.error(":",ne)}},O=U=>{g(U),A({name:U.name,unitValue:U.unitValue,isBasic:U.isBasic}),p(!0)},M=async U=>{if(window.confirm(""))try{await u(U)}catch(ne){console.error(":",ne)}},H=()=>{p(!1),g(null),A({name:"",unitValue:0,isBasic:!1})};if(e)return v.jsx(kn,{children:v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:v.jsx("div",{className:"loading-spinner"})})});if(n)return v.jsx(kn,{children:v.jsxs("div",{className:"card",style:{padding:"2rem",background:"linear-gradient(135deg, var(--error-50), var(--error-100))",border:"1px solid var(--error-200)",color:"var(--error-700)"},children:[v.jsx("h2",{children:" "}),v.jsx("p",{children:n})]})});const L=r.filter(U=>U.isBasic),Y=r.filter(U=>!U.isBasic);return v.jsx(kn,{children:v.jsxs("div",{className:"slide-in",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-8)"},children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:""})]}),v.jsxs("button",{onClick:()=>p(!0),className:"btn btn-primary bounce-in",style:{padding:"var(--space-4) var(--space-6)",fontSize:"var(--font-size-base)",fontWeight:"600"},children:[v.jsx("span",{style:{fontSize:"1.25rem"},children:""}),""]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"var(--space-6)",marginBottom:"var(--space-8)"},children:[v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--primary-500), var(--primary-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:L.length}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})}),v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--success-500), var(--success-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:Y.length}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})})]}),v.jsxs("div",{className:"card-glass slide-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)",marginBottom:"var(--space-6)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:" "}),v.jsx("p",{style:{color:"var(--neutral-600)",marginBottom:"var(--space-4)"},children:""}),v.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),L.length===0?v.jsxs("div",{style:{textAlign:"center",padding:"var(--space-8)",color:"var(--neutral-500)"},children:[v.jsx("div",{style:{fontSize:"3rem",marginBottom:"var(--space-4)"},children:""}),v.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{children:""})]}):v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"var(--space-4)"},children:L.map(U=>v.jsxs("div",{className:"card fade-in",style:{padding:"var(--space-5)",border:"2px solid var(--primary-200)",borderRadius:"var(--radius-xl)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"var(--space-4)"},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"600",color:"var(--neutral-900)"},children:U.name}),v.jsx("span",{style:{padding:"var(--space-1) var(--space-2)",background:"var(--primary-100)",color:"var(--primary-700)",borderRadius:"var(--radius-md)",fontSize:"var(--font-size-xs)",fontWeight:"600"},children:""})]}),v.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--primary-600)",marginBottom:"var(--space-4)"},children:[U.unitValue.toLocaleString(),""]}),v.jsxs("div",{style:{display:"flex",gap:"var(--space-2)"},children:[v.jsx("button",{onClick:()=>O(U),className:"btn",style:{padding:"var(--space-2) var(--space-3)",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",color:"white",fontSize:"var(--font-size-sm)",flex:1},children:""}),v.jsx("button",{onClick:()=>M(U.addOnId),className:"btn btn-danger",style:{padding:"var(--space-2) var(--space-3)",fontSize:"var(--font-size-sm)",flex:1},children:""})]})]},U.addOnId))})]}),v.jsxs("div",{className:"card-glass slide-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:" "}),v.jsx("p",{style:{color:"var(--neutral-600)",marginBottom:"var(--space-4)"},children:""}),v.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--success-500), var(--success-300))",borderRadius:"2px"}})]}),Y.length===0?v.jsxs("div",{style:{textAlign:"center",padding:"var(--space-8)",color:"var(--neutral-500)"},children:[v.jsx("div",{style:{fontSize:"3rem",marginBottom:"var(--space-4)"},children:""}),v.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{children:""})]}):v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"var(--space-4)"},children:Y.map(U=>v.jsxs("div",{className:"card fade-in",style:{padding:"var(--space-5)",border:"2px solid var(--success-200)",borderRadius:"var(--radius-xl)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"var(--space-4)"},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"600",color:"var(--neutral-900)"},children:U.name}),v.jsx("span",{style:{padding:"var(--space-1) var(--space-2)",background:"var(--success-100)",color:"var(--success-700)",borderRadius:"var(--radius-md)",fontSize:"var(--font-size-xs)",fontWeight:"600"},children:""})]}),v.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--success-600)",marginBottom:"var(--space-4)"},children:[U.unitValue.toLocaleString(),""]}),v.jsxs("div",{style:{display:"flex",gap:"var(--space-2)"},children:[v.jsx("button",{onClick:()=>O(U),className:"btn",style:{padding:"var(--space-2) var(--space-3)",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",color:"white",fontSize:"var(--font-size-sm)",flex:1},children:""}),v.jsx("button",{onClick:()=>M(U.addOnId),className:"btn btn-danger",style:{padding:"var(--space-2) var(--space-3)",fontSize:"var(--font-size-sm)",flex:1},children:""})]})]},U.addOnId))})]}),d&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"var(--space-4)"},children:v.jsxs("div",{className:"card bounce-in",style:{width:"100%",maxWidth:"500px",padding:"var(--space-8)",borderRadius:"var(--radius-3xl)",background:"white",boxShadow:"var(--shadow-2xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-2)"},children:m?"":""}),v.jsx("div",{style:{width:"40px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),v.jsxs("form",{onSubmit:b,children:[v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsx("input",{type:"text",value:T.name,onChange:U=>A({...T,name:U.target.value}),required:!0,className:"input",placeholder:""})]}),v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsx("input",{type:"number",value:T.unitValue,onChange:U=>A({...T,unitValue:parseInt(U.target.value)||0}),required:!0,min:"0",className:"input",placeholder:"100"})]}),v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer"},children:[v.jsx("input",{type:"checkbox",checked:T.isBasic,onChange:U=>A({...T,isBasic:U.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--primary-500)"}}),v.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""})]}),v.jsx("p",{style:{marginTop:"var(--space-2)",fontSize:"var(--font-size-xs)",color:"var(--neutral-500)"},children:""})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-4)"},children:[v.jsx("button",{type:"button",onClick:H,className:"btn btn-secondary",children:""}),v.jsx("button",{type:"submit",className:"btn btn-primary",children:m?"":""})]})]})]})})]})})},p4=()=>{const{userData:r}=$a(),{data:e,loading:n,error:a,addData:o,updateData:u,deleteData:d}=Xi("children"),{data:p}=Xi("organizations"),[m,g]=$.useState(!1),[T,A]=$.useState(null),[b,O]=$.useState({name:"",orgId:(r==null?void 0:r.orgId)||"",defaultPickup:!1,defaultDrop:!1}),M=(r==null?void 0:r.role)==="HQ"?e:e.filter(ie=>ie.orgId===(r==null?void 0:r.orgId)),H=async ie=>{ie.preventDefault();try{const ue={...b,childId:(T==null?void 0:T.childId)||`child_${Date.now()}`,orgId:(r==null?void 0:r.role)==="HQ"?b.orgId:(r==null?void 0:r.orgId)||""};T?await u(T.childId,ue):await o(ue),U()}catch(ue){console.error(":",ue)}},L=ie=>{A(ie),O({name:ie.name,orgId:ie.orgId,defaultPickup:ie.defaultPickup,defaultDrop:ie.defaultDrop}),g(!0)},Y=async ie=>{if(window.confirm(""))try{await d(ie)}catch(ue){console.error(":",ue)}},U=()=>{g(!1),A(null),O({name:"",orgId:(r==null?void 0:r.orgId)||"",defaultPickup:!1,defaultDrop:!1})},ne=ie=>{const ue=p.find(Ee=>Ee.id===ie||Ee.orgId===ie);return(ue==null?void 0:ue.name)||""};return n?v.jsx(kn,{children:v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:v.jsx("div",{className:"loading-spinner"})})}):a?v.jsx(kn,{children:v.jsxs("div",{className:"card",style:{padding:"2rem",background:"linear-gradient(135deg, var(--error-50), var(--error-100))",border:"1px solid var(--error-200)",color:"var(--error-700)"},children:[v.jsx("h2",{children:" "}),v.jsx("p",{children:a})]})}):v.jsx(kn,{children:v.jsxs("div",{className:"slide-in",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-8)"},children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:""}),v.jsxs("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:[(r==null?void 0:r.role)==="HQ"?"":"",""]})]}),v.jsxs("button",{onClick:()=>g(!0),className:"btn btn-primary bounce-in",style:{padding:"var(--space-4) var(--space-6)",fontSize:"var(--font-size-base)",fontWeight:"600"},children:[v.jsx("span",{style:{fontSize:"1.25rem"},children:""}),""]})]}),v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)",marginBottom:"var(--space-8)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--success-500), var(--success-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsxs("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:[M.length,""]}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})}),v.jsxs("div",{className:"card-glass slide-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:""}),v.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--success-500), var(--success-300))",borderRadius:"2px"}})]}),M.length===0?v.jsxs("div",{style:{textAlign:"center",padding:"var(--space-12)",color:"var(--neutral-500)"},children:[v.jsx("div",{style:{fontSize:"4rem",marginBottom:"var(--space-4)"},children:""}),v.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{children:""})]}):v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"var(--space-6)"},children:M.map(ie=>v.jsxs("div",{className:"card fade-in",style:{padding:"var(--space-5)",borderRadius:"var(--radius-xl)",border:"2px solid var(--success-200)",transition:"all var(--transition-normal)"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",marginBottom:"var(--space-4)"},children:[v.jsx("div",{style:{width:"50px",height:"50px",background:"linear-gradient(135deg, var(--success-200), var(--success-100))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{style:{flex:1},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:ie.name}),(r==null?void 0:r.role)==="HQ"&&v.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--neutral-600)"},children:ne(ie.orgId)})]})]}),v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("h4",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)",marginBottom:"var(--space-3)"},children:""}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-3)"},children:[v.jsxs("div",{style:{padding:"var(--space-3)",background:ie.defaultPickup?"var(--success-50)":"var(--neutral-50)",borderRadius:"var(--radius-lg)",textAlign:"center",border:`2px solid ${ie.defaultPickup?"var(--success-200)":"var(--neutral-200)"}`},children:[v.jsx("div",{style:{fontSize:"1.25rem",marginBottom:"var(--space-1)"},children:ie.defaultPickup?"":""}),v.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"600",color:ie.defaultPickup?"var(--success-700)":"var(--neutral-600)"},children:""})]}),v.jsxs("div",{style:{padding:"var(--space-3)",background:ie.defaultDrop?"var(--success-50)":"var(--neutral-50)",borderRadius:"var(--radius-lg)",textAlign:"center",border:`2px solid ${ie.defaultDrop?"var(--success-200)":"var(--neutral-200)"}`},children:[v.jsx("div",{style:{fontSize:"1.25rem",marginBottom:"var(--space-1)"},children:ie.defaultDrop?"":""}),v.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"600",color:ie.defaultDrop?"var(--success-700)":"var(--neutral-600)"},children:""})]})]})]}),v.jsxs("div",{style:{display:"flex",gap:"var(--space-3)"},children:[v.jsx("button",{onClick:()=>L(ie),className:"btn",style:{padding:"var(--space-3) var(--space-4)",background:"linear-gradient(135deg, var(--warning-500), var(--warning-400))",color:"white",fontSize:"var(--font-size-sm)",flex:1},children:" "}),v.jsx("button",{onClick:()=>Y(ie.childId),className:"btn btn-danger",style:{padding:"var(--space-3) var(--space-4)",fontSize:"var(--font-size-sm)",flex:1},children:" "})]})]},ie.childId))})]}),m&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"var(--space-4)"},children:v.jsxs("div",{className:"card bounce-in",style:{width:"100%",maxWidth:"500px",padding:"var(--space-8)",borderRadius:"var(--radius-3xl)",background:"white",boxShadow:"var(--shadow-2xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-2)"},children:T?"":""}),v.jsx("div",{style:{width:"40px",height:"4px",background:"linear-gradient(90deg, var(--success-500), var(--success-300))",borderRadius:"2px"}})]}),v.jsxs("form",{onSubmit:H,children:[v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsx("input",{type:"text",value:b.name,onChange:ie=>O({...b,name:ie.target.value}),required:!0,className:"input",placeholder:" "})]}),(r==null?void 0:r.role)==="HQ"&&v.jsxs("div",{style:{marginBottom:"var(--space-5)"},children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsxs("select",{value:b.orgId,onChange:ie=>O({...b,orgId:ie.target.value}),required:!0,className:"input",children:[v.jsx("option",{value:"",children:""}),p.map(ie=>v.jsx("option",{value:ie.id||ie.orgId,children:ie.name},ie.id||ie.orgId))]})]}),v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-base)",fontWeight:"600",color:"var(--neutral-700)",marginBottom:"var(--space-4)"},children:""}),v.jsx("div",{style:{marginBottom:"var(--space-4)"},children:v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-3)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)",transition:"all var(--transition-fast)"},children:[v.jsx("input",{type:"checkbox",checked:b.defaultPickup,onChange:ie=>O({...b,defaultPickup:ie.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--success-500)"}}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[v.jsx("span",{style:{fontSize:"1.25rem"},children:""}),v.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""})]})]})}),v.jsx("div",{children:v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-3)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)",transition:"all var(--transition-fast)"},children:[v.jsx("input",{type:"checkbox",checked:b.defaultDrop,onChange:ie=>O({...b,defaultDrop:ie.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--success-500)"}}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[v.jsx("span",{style:{fontSize:"1.25rem"},children:""}),v.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""})]})]})})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-4)"},children:[v.jsx("button",{type:"button",onClick:U,className:"btn btn-secondary",children:""}),v.jsx("button",{type:"submit",className:"btn btn-success",children:T?"":""})]})]})]})})]})})},m4=()=>{const{userData:r}=$a(),{data:e,loading:n,addData:a,updateData:o}=Xi("dailyReports"),{data:u}=Xi("children"),{data:d}=Xi("addOnMaster"),[p,m]=$.useState(new Date().toISOString().split("T")[0]),[g,T]=$.useState([]),[A,b]=$.useState(!1),[O,M]=$.useState(null),[H,L]=$.useState({childId:"",arrival:"",departure:"",pickup:!1,drop:!1,addOns:[]}),Y=(r==null?void 0:r.role)==="HQ"?u:u.filter(I=>I.orgId===(r==null?void 0:r.orgId)),U=e.find(I=>I.date===p&&((r==null?void 0:r.role)==="HQ"||I.orgId===(r==null?void 0:r.orgId)));$.useEffect(()=>{T(U?U.children:Y.map(I=>({childId:I.childId,arrival:"",departure:"",pickup:I.defaultPickup,drop:I.defaultDrop,addOns:[]})))},[p,U,Y]);const ne=I=>{const N=g.find(C=>C.childId===I.childId);M(I),L(N||{childId:I.childId,arrival:"",departure:"",pickup:I.defaultPickup,drop:I.defaultDrop,addOns:[]}),b(!0)},ie=()=>{T(I=>[...I.filter(C=>C.childId!==H.childId),H]),b(!1)},ue=async()=>{try{const N={reportId:`${r==null?void 0:r.orgId}_${p}`,orgId:(r==null?void 0:r.orgId)||"",date:p,children:g.filter(C=>C.arrival||C.departure)};U?await o(U.reportId,N):await a(N),alert("")}catch(I){console.error(":",I),alert("")}},Ee=(I,N)=>{if(!I||!N)return 0;const C=new Date(`2000-01-01T${I}`),qe=new Date(`2000-01-01T${N}`).getTime()-C.getTime();return Math.max(0,qe/(1e3*60*60))},j=I=>g.find(N=>N.childId===I),R=g.filter(I=>I.arrival||I.departure).length,x=g.reduce((I,N)=>I+Ee(N.arrival,N.departure),0),V=R>0?x/R:0;return n?v.jsx(kn,{children:v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:v.jsx("div",{className:"loading-spinner"})})}):v.jsx(kn,{children:v.jsxs("div",{className:"slide-in",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-8)"},children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-gradient",style:{fontSize:"var(--font-size-3xl)",fontWeight:"800",marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-lg)"},children:""})]}),v.jsxs("div",{style:{display:"flex",gap:"var(--space-4)",alignItems:"center"},children:[v.jsx("input",{type:"date",value:p,onChange:I=>m(I.target.value),className:"input",style:{width:"auto",padding:"var(--space-3) var(--space-4)"}}),v.jsx("button",{onClick:ue,className:"btn btn-primary",style:{padding:"var(--space-4) var(--space-6)",fontSize:"var(--font-size-base)",fontWeight:"600"},children:" "})]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"var(--space-6)",marginBottom:"var(--space-8)"},children:[v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--primary-500), var(--primary-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsxs("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:[R,""]}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})}),v.jsx("div",{className:"card-glass fade-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-2xl)"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[v.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, var(--success-500), var(--success-400))",borderRadius:"var(--radius-xl)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""}),v.jsxs("div",{children:[v.jsxs("h3",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:[V.toFixed(1),"h"]}),v.jsx("p",{style:{color:"var(--neutral-600)",fontSize:"var(--font-size-sm)"},children:""})]})]})})]}),v.jsxs("div",{className:"card-glass slide-in",style:{padding:"var(--space-6)",borderRadius:"var(--radius-3xl)"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"700",color:"var(--neutral-800)",marginBottom:"var(--space-2)"},children:""}),v.jsx("div",{style:{width:"60px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),Y.length===0?v.jsxs("div",{style:{textAlign:"center",padding:"var(--space-12)",color:"var(--neutral-500)"},children:[v.jsx("div",{style:{fontSize:"4rem",marginBottom:"var(--space-4)"},children:""}),v.jsx("h3",{style:{marginBottom:"var(--space-2)"},children:""}),v.jsx("p",{children:""})]}):v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"var(--space-4)"},children:Y.map(I=>{const N=j(I.childId),C=Ee(N==null?void 0:N.arrival,N==null?void 0:N.departure),Je=!!(N!=null&&N.arrival||N!=null&&N.departure);return v.jsxs("div",{className:"card fade-in",style:{padding:"var(--space-5)",borderRadius:"var(--radius-xl)",border:Je?"2px solid var(--success-300)":"2px solid var(--neutral-200)",cursor:"pointer",transition:"all var(--transition-normal)",background:Je?"linear-gradient(135deg, var(--success-50), white)":"white"},onClick:()=>ne(I),onMouseEnter:qe=>{qe.currentTarget.style.transform="translateY(-2px)",qe.currentTarget.style.boxShadow="var(--shadow-xl)"},onMouseLeave:qe=>{qe.currentTarget.style.transform="translateY(0)",qe.currentTarget.style.boxShadow="var(--shadow-lg)"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",marginBottom:"var(--space-4)"},children:[v.jsx("div",{style:{width:"50px",height:"50px",background:Je?"linear-gradient(135deg, var(--success-400), var(--success-300))":"linear-gradient(135deg, var(--neutral-300), var(--neutral-200))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:Je?"":""}),v.jsxs("div",{style:{flex:1},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-1)"},children:I.name}),v.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:Je?"var(--success-600)":"var(--neutral-500)",fontWeight:"600"},children:Je?"":""})]})]}),Je&&v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-3)",marginBottom:"var(--space-4)"},children:[v.jsxs("div",{style:{padding:"var(--space-2)",background:"var(--primary-50)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--primary-600)",fontWeight:"600",marginBottom:"var(--space-1)"},children:""}),v.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"700",color:"var(--primary-700)"},children:(N==null?void 0:N.arrival)||"--:--"})]}),v.jsxs("div",{style:{padding:"var(--space-2)",background:"var(--warning-50)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--warning-600)",fontWeight:"600",marginBottom:"var(--space-1)"},children:""}),v.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"700",color:"var(--warning-700)"},children:(N==null?void 0:N.departure)||"--:--"})]})]}),C>0&&v.jsxs("div",{style:{padding:"var(--space-3)",background:"var(--success-100)",borderRadius:"var(--radius-lg)",textAlign:"center",marginBottom:"var(--space-4)"},children:[v.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"700",color:"var(--success-700)"},children:[C.toFixed(1),""]}),v.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--success-600)"},children:""})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-2)"},children:[v.jsxs("div",{style:{padding:"var(--space-2)",background:N!=null&&N.pickup?"var(--primary-50)":"var(--neutral-50)",borderRadius:"var(--radius-md)",textAlign:"center",border:`1px solid ${N!=null&&N.pickup?"var(--primary-200)":"var(--neutral-200)"}`},children:[v.jsx("div",{style:{fontSize:"1rem",marginBottom:"var(--space-1)"},children:N!=null&&N.pickup?"":""}),v.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"600",color:N!=null&&N.pickup?"var(--primary-600)":"var(--neutral-500)"},children:""})]}),v.jsxs("div",{style:{padding:"var(--space-2)",background:N!=null&&N.drop?"var(--primary-50)":"var(--neutral-50)",borderRadius:"var(--radius-md)",textAlign:"center",border:`1px solid ${N!=null&&N.drop?"var(--primary-200)":"var(--neutral-200)"}`},children:[v.jsx("div",{style:{fontSize:"1rem",marginBottom:"var(--space-1)"},children:N!=null&&N.drop?"":""}),v.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"600",color:N!=null&&N.drop?"var(--primary-600)":"var(--neutral-500)"},children:""})]})]})]},I.childId)})})]}),A&&O&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,padding:"var(--space-4)"},children:v.jsxs("div",{className:"card bounce-in",style:{width:"100%",maxWidth:"600px",padding:"var(--space-8)",borderRadius:"var(--radius-3xl)",background:"white",boxShadow:"var(--shadow-2xl)",maxHeight:"90vh",overflowY:"auto"},children:[v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsxs("h2",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"700",color:"var(--neutral-900)",marginBottom:"var(--space-2)"},children:[O.name," - "]}),v.jsx("div",{style:{width:"40px",height:"4px",background:"linear-gradient(90deg, var(--primary-500), var(--primary-300))",borderRadius:"2px"}})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-4)",marginBottom:"var(--space-6)"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsx("input",{type:"time",value:H.arrival,onChange:I=>L({...H,arrival:I.target.value}),className:"input"})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""}),v.jsx("input",{type:"time",value:H.departure,onChange:I=>L({...H,departure:I.target.value}),className:"input"})]})]}),v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-base)",fontWeight:"600",color:"var(--neutral-700)",marginBottom:"var(--space-4)"},children:""}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-4)"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-4)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)"},children:[v.jsx("input",{type:"checkbox",checked:H.pickup,onChange:I=>L({...H,pickup:I.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--primary-500)"}}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"1.25rem"},children:""}),v.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""})]})]}),v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-4)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)"},children:[v.jsx("input",{type:"checkbox",checked:H.drop,onChange:I=>L({...H,drop:I.target.checked}),style:{width:"20px",height:"20px",accentColor:"var(--primary-500)"}}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"1.25rem"},children:""}),v.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:""})]})]})]})]}),v.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[v.jsx("h3",{style:{fontSize:"var(--font-size-base)",fontWeight:"600",color:"var(--neutral-700)",marginBottom:"var(--space-4)"},children:""}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"var(--space-3)"},children:d.filter(I=>!I.isBasic).map(I=>v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)",cursor:"pointer",padding:"var(--space-3)",border:"2px solid var(--neutral-200)",borderRadius:"var(--radius-lg)"},children:[v.jsx("input",{type:"checkbox",checked:H.addOns.includes(I.addOnId),onChange:N=>{N.target.checked?L({...H,addOns:[...H.addOns,I.addOnId]}):L({...H,addOns:H.addOns.filter(C=>C!==I.addOnId)})},style:{width:"20px",height:"20px",accentColor:"var(--success-500)"}}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"600",color:"var(--neutral-700)"},children:I.name}),v.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--neutral-500)"},children:[I.unitValue,""]})]})]},I.addOnId))})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"var(--space-4)"},children:[v.jsx("button",{onClick:()=>b(!1),className:"btn btn-secondary",children:""}),v.jsx("button",{onClick:ie,className:"btn btn-primary",children:""})]})]})})]})})};function g4(){return v.jsx(xw,{children:v.jsx(yw,{basename:"/disability-welfare-management",children:v.jsxs($A,{children:[v.jsx(fi,{path:"/login",element:v.jsx(Iw,{})}),v.jsx(fi,{path:"/unauthorized",element:v.jsx(Dw,{})}),v.jsx(fi,{path:"/dashboard",element:v.jsx(Fs,{children:v.jsx(Cw,{})})}),v.jsx(fi,{path:"/organizations",element:v.jsx(Fs,{requiredRole:"HQ",children:v.jsx(h4,{})})}),v.jsx(fi,{path:"/users",element:v.jsx(Fs,{requiredRole:"HQ",children:v.jsx(d4,{})})}),v.jsx(fi,{path:"/addon-master",element:v.jsx(Fs,{requiredRole:"HQ",children:v.jsx(f4,{})})}),v.jsx(fi,{path:"/children",element:v.jsx(Fs,{children:v.jsx(p4,{})})}),v.jsx(fi,{path:"/daily-reports",element:v.jsx(Fs,{children:v.jsx(m4,{})})}),v.jsx(fi,{path:"/",element:v.jsx(th,{to:"/dashboard",replace:!0})})]})})})}nA.createRoot(document.getElementById("root")).render(v.jsx($.StrictMode,{children:v.jsx(g4,{})}));
